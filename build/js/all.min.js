!function(){"use strict";function e(e){e.defaults.xsrfCookieName="csrftoken",e.defaults.xsrfHeaderName="X-CSRFToken"}angular.module("app",["ui.router","ngResource","ngMaterial","uiGmapgoogle-maps","ngMessages"]).config(e),e.$inject=["$httpProvider"]}(),function(){"use strict";function e(e){e.interceptors.push("myHttpInterceptor")}function t(e,t){var o=angular.element(document.querySelector(".m-app-loading"));return{request:function(e){return"POST"===e.method&&o.css("display","block"),e},requestError:function(t){return e.reject(t)},response:function(e){return o.css("display","none"),e},responseError:function(r){return 401===r.status&&t.get("$state").go("login"),o.css("display","none"),e.reject(r)}}}angular.module("app").factory("myHttpInterceptor",t).config(e),e.$inject=["$httpProvider"],t.$inject=["$q","$injector"]}(),function(){"use strict";function e(e){e.configure({libraries:"weather,geometry,visualization"})}angular.module("app").config(e),e.$inject=["uiGmapGoogleMapApiProvider"]}(),function(){"use strict";function e(e){e.months=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],e.shortMonths=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],e.days=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"],e.shortDays=["lun","mar","mié","jue","vie","sáb","dom"],e.firstDayOfWeek=1,e.parseDate=function(e){return new Date(e)},e.formatDate=function(e){return new Date(e).toLocaleDateString()}}angular.module("app").config(e),e.$inject=["$mdDateLocaleProvider"]}(),function(){"use strict";function e(e,t){t.otherwise("/"),e.state("home",{url:"/",templateProvider:["$templateCache",function(e){return e.get("interfaz/home.html")}]})}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){}angular.module("app").config(e),e.$inject=["$mdThemingProvider"]}(),function(){"use strict";function e(e){e.state("aspirantes",{url:"/aspirantes",templateProvider:["$templateCache",function(e){return e.get("aspirantes/list/aspirantes.html")}],controller:"Aspirantes",controllerAs:"vm",resolve:{aspirantesPrepService:t}}).state("aspirantesDetalle",{url:"/aspirantes/:aspiranteId",templateProvider:["$templateCache",function(e){return e.get("aspirantes/detail/aspiranteDetalle.html")}],controller:"AspiranteDetalle",controllerAs:"vm",resolve:{getAspirantePrepService:o}}).state("aspirantesCambios",{url:"/aspirantes/cambios/:aspiranteId",templateProvider:["$templateCache",function(e){return e.get("aspirantes/addModify/aspiranteAddModify.html")}],controller:"AspiranteAddModify",controllerAs:"vm",resolve:{getAspirantePrepService:o}})}function t(e){return e.aspirantesRest().query()}function o(e,t){return t.aspiranteId?e.aspirantesRest().get({id:t.aspiranteId}):!1}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["aspirantesService"],o.$inject=["aspirantesService","$stateParams"]}(),function(){"use strict";function e(e){e.state("autoridades",{url:"/autoridades",templateProvider:["$templateCache",function(e){return e.get("autoridades/list/autoridades.html")}],controller:"Autoridades",controllerAs:"vm",resolve:{autoridadesPrepService:t}}).state("autoridadesDetalle",{url:"/autoridades/:autoridadId",templateProvider:["$templateCache",function(e){return e.get("autoridades/detail/autoridadDetalle.html")}],controller:"AutoridadDetalle",controllerAs:"vm",resolve:{getAutoridadPrepService:o,getMapsPrepService:r}}).state("autoridadesCambios",{url:"/autoridades/cambios/:autoridadId",templateProvider:["$templateCache",function(e){return e.get("autoridades/addModify/autoridadAddModify.html")}],controller:"AutoridadAddModify",controllerAs:"vm",resolve:{getAutoridadPrepService:o}})}function t(e){return e.autoridadesRest().query()}function o(e,t){return t.autoridadId?e.autoridadesRest().get({id:t.autoridadId}):!1}function r(e,t,o){return t.$promise.then(function(t){var r=t.direccion.calle+" "+t.direccion.numero+" "+t.direccion.municipio+" "+t.direccion.provincia+" "+t.direccion.cp;return o.geoCodingAPI(r).then(function(t){if(t.data.results.length){var o=t.data.results[0].geometry.location;return e.then(function(e){return{coord:{latitude:o.lat,longitude:o.lng},marker:{latitude:o.lat,longitude:o.lng},zoom:17}})}})})}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["autoridadesService"],o.$inject=["autoridadesService","$stateParams"],r.$inject=["uiGmapGoogleMapApi","getAutoridadPrepService","mapasService"]}(),function(){"use strict";function e(e){e.state("cofrades",{url:"/cofrades",templateProvider:["$templateCache",function(e){return e.get("cofrades/list/cofrades.html")}],controller:"Cofrades",controllerAs:"vm",resolve:{cofradesPrepService:t,cofradesBajasPrepService:o}}).state("cofradesDetalle",{url:"/cofrades/:cofradeId",templateProvider:["$templateCache",function(e){return e.get("cofrades/detail/cofradeDetalle.html")}],controller:"CofradeDetalle",controllerAs:"vm",resolve:{getCofradePrepService:r,getMapsPrepService:a,numerosLoteriaPrepService:n}}).state("cofradesCambios",{url:"/cofrades/cambios/:cofradeId",templateProvider:["$templateCache",function(e){return e.get("cofrades/addModify/cofradeAddModify.html")}],controller:"CofradeAddModify",controllerAs:"vm",resolve:{getCofradePrepService:r,numerosLoteriaPrepService:n}})}function t(e){return e.cofradesRest().query()}function o(e){return e.cofradesBajasRest().query()}function r(e,t){return t.cofradeId?e.cofradesRest().get({id:t.cofradeId}):!1}function n(e){return e.numerosLoteriaRest().query()}function a(e,t,o){return t.$promise.then(function(t){var r=t.datosPersonales.direccion.calle+" "+t.datosPersonales.direccion.numero+" "+t.datosPersonales.direccion.municipio+" "+t.datosPersonales.direccion.provincia+" "+t.datosPersonales.direccion.cp;return o.geoCodingAPI(r).then(function(t){if(t.data.results.length){var o=t.data.results[0].geometry.location;return e.then(function(e){return{coord:{latitude:o.lat,longitude:o.lng},marker:{latitude:o.lat,longitude:o.lng},zoom:17}})}})})}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["cofradesService"],o.$inject=["cofradesService"],r.$inject=["cofradesService","$stateParams"],n.$inject=["numerosLoteriaService"],a.$inject=["uiGmapGoogleMapApi","getCofradePrepService","mapasService"]}(),function(){"use strict";function e(e){e.state("costaleros",{url:"/costaleros",templateProvider:["$templateCache",function(e){return e.get("costaleros/list/costaleros.html")}],controller:"Costaleros",controllerAs:"vm",resolve:{costalerosPrepService:t}}).state("costalerosDetalle",{url:"/costaleros/:costaleroId",templateProvider:["$templateCache",function(e){return e.get("costaleros/detail/costaleroDetalle.html")}],controller:"CostaleroDetalle",controllerAs:"vm",resolve:{getCostaleroPrepService:o}}).state("costalerosCambios",{url:"/costaleros/cambios/:costaleroId",templateProvider:["$templateCache",function(e){return e.get("costaleros/addModify/costaleroAddModify.html")}],controller:"CostaleroAddModify",controllerAs:"vm",resolve:{getCostaleroPrepService:o}})}function t(e){return e.costalerosRest().query()}function o(e,t){return t.costaleroId?e.costalerosRest().get({id:t.costaleroId}):!1}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["costalerosService"],o.$inject=["costalerosService","$stateParams"]}(),function(){"use strict";function e(e){e.state("directivos",{url:"/directivos",templateProvider:["$templateCache",function(e){return e.get("directivos/list/directivos.html")}],controller:"Directivos",controllerAs:"vm",resolve:{directivosPrepService:t}}).state("directivosDetalle",{url:"/directivos/:directivoId",templateProvider:["$templateCache",function(e){return e.get("directivos/detail/directivoDetalle.html")}],controller:"DirectivoDetalle",controllerAs:"vm",resolve:{getDirectivoPrepService:o}}).state("directivosCambios",{url:"/directivos/cambios/:directivoId",templateProvider:["$templateCache",function(e){return e.get("directivos/addModify/directivoAddModify.html")}],controller:"DirectivoAddModify",controllerAs:"vm",resolve:{getDirectivoPrepService:o}})}function t(e){return e.directivosRest().query()}function o(e,t){return t.directivoId?e.directivosRest().get({id:t.directivoId}):!1}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["directivosService"],o.$inject=["directivosService","$stateParams"]}(),function(){"use strict";function e(e){e.state("gastosBancarios",{url:"/gastosBancarios",templateProvider:["$templateCache",function(e){return e.get("gastosBancarios/modify/gastoBancarioModify.html")}],controller:"GastosBancarios",controllerAs:"vm",resolve:{gastosBancariosPrepService:t}})}function t(e){return e.gastosBancariosRest().query()}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["gastosBancariosService"]}(),function(){"use strict";function e(e,t){function o(t){e(t).toggle()}function r(t){e(t).close()}function n(e,o){r(o),t.go(e)}var a=this;a.toggleSidenav=o,a.closeSidenav=r,a.navigateTo=n}angular.module("app").controller("AppCtrl",e),e.$inject=["$mdSidenav","$state"]}(),function(){"use strict";function e(e,t,o,r,n){function a(){t({method:"POST",url:"/login/",data:o({csrfmiddlewaretoken:loginForm.csrfmiddlewaretoken.value,username:loginForm.username.value,password:loginForm.password.value,next:loginForm.next.value}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){"Login"===t&&n.go("home");var o=angular.element(document.querySelector("md-content[ui-view]"));o[0].innerHTML=t,r(o.contents())(e)})}var i=this;i.processForm=a}angular.module("app").controller("Login",e),e.$inject=["$scope","$http","$httpParamSerializer","$compile","$state"]}(),function(){"use strict";function e(e){e.state("login",{url:"/login",templateProvider:["$http","$location",function(e,t){return e.get("http://127.0.0.1:"+t.port()+"/login").then(function(e){return e.data})}],controller:"Login",controllerAs:"vm"})}angular.module("app").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("numerosLoteria",{url:"/numerosLoteria",templateProvider:["$templateCache",function(e){return e.get("numerosLoteria/modify/numerosLoteriaModify.html")}],controller:"NumerosLoteria",controllerAs:"vm",resolve:{numerosLoteriaPrepService:t}})}function t(e){return e.numerosLoteriaRest().query()}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["numerosLoteriaService"]}(),function(){"use strict";function e(e){e.state("papeletasSitios",{url:"/papeletasSitios",templateProvider:["$templateCache",function(e){return e.get("papeletasSitios/list/papeletasSitios.html")}],controller:"PapeletasSitios",controllerAs:"vm",resolve:{papeletasSitiosPrepService:t}}).state("papeletasSitiosCambios",{url:"/papeletasSitios/cambios",templateProvider:["$templateCache",function(e){return e.get("papeletasSitios/addModify/papeletaSitioAddModify.html")}],controller:"PapeletaSitioAddModify",controllerAs:"vm"})}function t(e){return e.papeletasSitiosRest().query({anios:!0})}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["papeletasSitiosService"]}(),function(){"use strict";function e(e){e.state("sectores",{url:"/sectores",templateProvider:["$templateCache",function(e){return e.get("sectores/list/sectores.html")}],controller:"Sectores",controllerAs:"vm",resolve:{sectoresPrepService:t}}).state("sectoresCambios",{url:"/sectores/cambios/:sectorId/:calle",templateProvider:["$templateCache",function(e){return e.get("sectores/addModify/sectorAddModify.html")}],controller:"SectorAddModify",controllerAs:"vm",resolve:{getSectorPrepService:o}})}function t(e){return e.sectoresRest().query()}function o(e,t){return t.sectorId?e.sectoresRest().get({id:t.sectorId}):!1}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["sectoresService"],o.$inject=["sectoresService","$stateParams"]}(),function(){"use strict";function e(e,t,o,r,n,a,i){function c(){n?n.$promise.then(s):l()}function s(e){return h.aspirante=e,!0}function l(){h.newCofrade=!0,h.aspirante={cofrade:null,fecha:(new Date).toLocaleDateString()}}function u(){window.history.back()}function d(e){var t={};return isNaN(e)?t.nombre=e:isNaN(e)||(t.numeroOrden=e),i.cofradesRest().query(t).$promise.then(function(e){return e.results})}function f(e){h.aspirante.cofrade=e?e.id:null}function p(t){t?h.aspirante.cofrade?(h.aspirante.cofrade=h.aspirante.cofrade.id?h.aspirante.cofrade.id:h.aspirante.cofrade,a.aspirantesRest().save(h.aspirante,m,v)):(e.aspiranteForm.cofrade.$error.required=!0,g()):g()}function m(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),r.go("aspirantes")}function v(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))}function g(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(t[0].querySelector("#toastBounds")).position("top right"))}var h=this;h.newCofrade=!1,h.backState=u,h.querySearch=d,h.selectedItemChange=f,h.guardar=p,c()}angular.module("app").controller("AspiranteAddModify",e),e.$inject=["$scope","$document","$mdToast","$state","getAspirantePrepService","aspirantesService","cofradesService"]}(),function(){"use strict";function e(e,t){function o(){return t.$promise.then(function(e){n.aspirante=e})}function r(t,o){e.go("aspirantesCambios",{aspiranteId:t})}var n=this;n.modifyAspirante=r,o()}angular.module("app").controller("AspiranteDetalle",e),e.$inject=["$state","getAspirantePrepService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.aspirantes=e})}var o=this;o.aspirantes=null,t()}angular.module("app").controller("Aspirantes",e),e.$inject=["aspirantesPrepService"]}(),function(){"use strict";function e(e,t,o,r,n,a,i){function c(){n?n.$promise.then(s):l()}function s(e){return h.autoridad=e,h.calleSelected={calle:h.autoridad.direccion.calle,cp:h.autoridad.direccion.cp,provincia:h.autoridad.direccion.provincia,municipio:h.autoridad.direccion.municipio},!0}function l(){h.newCofrade=!0,h.autoridad={direccion:{}}}function u(){window.history.back()}function d(e){return i.getCalles(e).then(function(e){return e.data})}function f(e){e?(h.autoridad.direccion.calle=e.calle,h.autoridad.direccion.municipio=e.municipio,h.autoridad.direccion.cp=e.cp,h.autoridad.direccion.provincia=e.provincia):(h.autoridad.direccion.calle=null,h.autoridad.direccion.municipio=null,h.autoridad.direccion.cp=null,h.autoridad.direccion.provincia=null)}function p(e){e?(h.autoridad.direccion.calle=h.autoridad.direccion.calle?h.autoridad.direccion.calle:h.searchText,a.autoridadesRest().save(h.autoridad,m,v)):g()}function m(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),r.go("autoridades")}function v(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))}function g(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(t[0].querySelector("#toastBounds")).position("top right"))}var h=this;h.newCofrade=!1,h.backState=u,h.querySearch=d,h.selectedItemChange=f,h.guardar=p,c()}angular.module("app").controller("AutoridadAddModify",e),e.$inject=["$scope","$document","$mdToast","$state","getAutoridadPrepService","autoridadesService","cofradesService"]}(),function(){"use strict";function e(e,t,o){function r(){return t.$promise.then(function(e){a.autoridad=e,a.maps=o})}function n(t,o){e.go("autoridadesCambios",{autoridadId:t})}var a=this;a.modifyAutoridad=n,r()}angular.module("app").controller("AutoridadDetalle",e),e.$inject=["$state","getAutoridadPrepService","getMapsPrepService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.autoridades=e})}var o=this;o.autoridades=null,t()}angular.module("app").controller("Autoridades",e),e.$inject=["autoridadesPrepService"]}(),function(){"use strict";function e(e,t,o,r,n,a,i,c){function s(){i.$promise.then(function(e){P.numerosLoteria=e[0]}),n?n.$promise.then(l):a.getRegistros().then(function(e){P.cofrade.numeroOrden=e.data.numeroOrden,P.cofrade.numeroCofrade=e.data.numeroCofrade})}function l(e){return P.cofrade=e,P.calleSelected={calle:P.cofrade.datosPersonales.direccion.calle,cp:P.cofrade.datosPersonales.direccion.cp,provincia:P.cofrade.datosPersonales.direccion.provincia,municipio:P.cofrade.datosPersonales.direccion.municipio},P.fechaNacimiento=P.cofrade.datosPersonales.fechaNacimiento,P.fechaInscripcion=P.cofrade.datosPersonales.fechaInscripcion,P.cofrade.datosFinancieros=P.cofrade.datosFinancieros||{cuenta:{},deuda:[]},P.cofrade.datosFinancieros.cuenta=P.cofrade.datosFinancieros.cuenta||{},P.cofrade.datosFinancieros.deuda=P.cofrade.datosFinancieros.deuda||[],!0}function u(){window.history.back()}function d(e){return a.getCalles(e).then(function(e){return e.data})}function f(e){e?(P.cofrade.datosPersonales.direccion.calle=e.calle,P.cofrade.datosPersonales.direccion.municipio=e.municipio,P.cofrade.datosPersonales.direccion.cp=e.cp,P.cofrade.datosPersonales.direccion.provincia=e.provincia,p(e.calle)):(P.cofrade.datosPersonales.direccion.calle=null,P.cofrade.datosPersonales.direccion.municipio=null,P.cofrade.datosPersonales.direccion.cp=null,P.cofrade.datosPersonales.direccion.provincia=null,P.sector=null,P.nuevaCalle=!0)}function p(e){c.sectoresRest().query({calle:e},function(e){P.sector=e[0].numeroSector,P.nuevaCalle=!1})}function m(){P.cofrade.datosFinancieros.cuenta.iban&&(P.cofrade.datosFinancieros.cuenta.cc=e("calcularCC")(P.cofrade.datosFinancieros.cuenta.iban))}function v(){P.cofrade.datosFinancieros.cuenta.cc&&(P.cofrade.datosFinancieros.cuenta.iban=e("calcularIban")(P.cofrade.datosFinancieros.cuenta.cc))}function g(e){function r(){s.save(P.cofrade,h,$)}function n(){c.sectoresRest().get({sector:P.sector},function(e){var n=e[0];n?(n.cofrade=n.cofrade.id,n.calles.push(P.searchText),n.$save(null,r,$)):o.show(o.simple().content("El sector "+P.sector+" no existe!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))})}if(e){var i={cuenta:{},deuda:[]};P.cofrade.datosPersonales.direccion.calle=P.searchText,JSON.stringify(P.cofrade.datosFinancieros)===JSON.stringify(i)&&delete P.cofrade.datosFinancieros;var s=a.cofradesRest();P.nuevaCalle?n():r()}else S()}function h(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),r.go("cofrades")}function $(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))}function S(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(t[0].querySelector("#toastBounds")).position("top right"))}var P=this;P.nuevaCalle=!0,P.searchText="calle",P.cofrade={datosFinancieros:{cuenta:{},deuda:[]},datosPersonales:{direccion:{},sexo:"Hombre",fechaInscripcion:(new Date).toLocaleDateString(),fechaNacimiento:(new Date).toLocaleDateString()}},P.backState=u,P.querySearch=d,P.selectedItemChange=f,P.calcularCC=m,P.calcularIban=v,P.guardar=g,s()}angular.module("app").controller("CofradeAddModify",e),e.$inject=["$filter","$document","$mdToast","$state","getCofradePrepService","cofradesService","numerosLoteriaPrepService","sectoresService"]}(),function(){"use strict";function e(e,t,o,r,n){function a(){return n.$promise.then(function(e){c.numerosLoteria=e[0]}),o.$promise.then(function(e){c.cofrade=e,c.cofrade.datosFinancieros&&c.cofrade.datosFinancieros.cuenta&&(c.iban=t("parseIban")(c.cofrade.datosFinancieros.cuenta.iban),c.cc=t("parseCC")(c.cofrade.datosFinancieros.cuenta.cc)),c.maps=r})}function i(t,o){e.go("cofradesCambios",{cofradeId:t})}var c=this;c.cofrade=null,c.maps=null,c.modifyCofrade=i,a()}angular.module("app").controller("CofradeDetalle",e),e.$inject=["$state","$filter","getCofradePrepService","getMapsPrepService","numerosLoteriaPrepService"]}(),function(){"use strict";function e(e,t){function o(){return e.$promise.then(function(e){r.nextPage=e.next,r.cofrades=e.results}),t.$promise.then(function(e){r.nextPageBajas=e.next,r.cofradesBajas=e.results})}var r=this;r.cofrades=null,r.nextPage=null,r.cofradesBajas=null,r.nextPageBajas=null,r.selectedTab=0,o()}angular.module("app").controller("Cofrades",e),e.$inject=["cofradesPrepService","cofradesBajasPrepService"]}(),function(){"use strict";function e(){return function(e){e.$last&&e.$eval("vm.completed = true;")}}angular.module("app").directive("loadRepeat",e)}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,t,o){var r=t[0];t.bind("scroll",function(){r.scrollTop+r.offsetHeight>=r.scrollHeight-5&&e.$emit("scrollDown")})}}}angular.module("app").directive("scrolly",e)}(),function(){"use strict";function e(){return function(e){e=e||"";for(var t="",o=0;o<e.length;o++)o>0&&o%4===0&&(t+=" "),t+=e[o];return t}}function t(){return function(e){e=e||"";var t="";return t=e.substr(0,4)+"-",t+=e.substr(4,4)+"-",t+=e.substr(8,2)+"-",t+=e.substr(10,10)}}function o(){return function(e){return e=e||"",e.substr(4,20)}}function r(){function e(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",o=[],r=0;r<e.length;r++){var n=t.indexOf(e[r]);o.push(0>n?"-":n)}return o.join("")}function t(e,t){for(var o=10,r=e.length,n=0,a=0;r>a;a+=o){var i=n+""+e.substr(a,o);n=i%t}return n}function o(e,t){for(e+="";e.length<t;)e="0"+e;return e}return function(r){var n="ES",a=r+e(n)+"00",i=t(a,97);return n+o(98-i,2)+r}}angular.module("app").filter("parseIban",e).filter("parseCC",t).filter("calcularIban",r).filter("calcularCC",o)}(),function(){"use strict";function e(){return function(e){return e.datosPersonales&&(e.datosPersonales.fechaNacimiento=new Date(e.datosPersonales.fechaNacimiento).toLocaleDateString(),e.datosPersonales.fechaInscripcion=new Date(e.datosPersonales.fechaInscripcion).toLocaleDateString()),e.fecha&&(e.fecha=new Date(e.fecha).toLocaleDateString()),e}}function t(){return function(e){var t=null;return e.datosPersonales?(t=e.datosPersonales.fechaNacimiento.split("/"),e.datosPersonales.fechaNacimiento=t[2]+"-"+t[1]+"-"+t[0],t=e.datosPersonales.fechaInscripcion.split("/"),e.datosPersonales.fechaInscripcion=t[2]+"-"+t[1]+"-"+t[0]):e.fecha?(t=e.fecha.split("/"),e.fecha=t[2]+"-"+t[1]+"-"+t[0]):e=new Date(e).toLocaleDateString(),e}}angular.module("app").filter("stringToDateFormat",e).filter("formatDates",t)}(),function(){"use strict";function e(){return function(t){var o=t instanceof Array;for(var r in t)null===t[r]?o?t.splice(r,1):delete t[r]:"object"==typeof t[r]&&e(t[r]);return t}}angular.module("app").filter("removeNulls",e)}(),function(){"use strict";function e(e,t,o){function r(){return e("http://127.0.0.1:"+t.port()+"/api/aspirantes/:id.json:json",null,{query:{method:"GET",isArray:!0},get:{method:"GET",transformResponse:function(e,t){return o("stringToDateFormat")(angular.fromJson(e))}},save:{method:"POST",transformRequest:function(e,t){return angular.toJson(o("formatDates")(o("removeNulls")(e)))}}})}return{aspirantesRest:r}}angular.module("app").factory("aspirantesService",e),e.$inject=["$resource","$location","$filter"]}(),function(){"use strict";function e(e,t,o){function r(){return e("http://127.0.0.1:"+t.port()+"/api/autoridades/:id.json:json",null,{query:{method:"GET",isArray:!0},save:{method:"POST",transformRequest:function(e,t){return angular.toJson(o("removeNulls")(e))}}})}return{autoridadesRest:r}}angular.module("app").factory("autoridadesService",e),e.$inject=["$resource","$location","$filter"]}(),function(){"use strict";function e(e,t,o,r){function n(){return e("http://127.0.0.1:"+t.port()+"/api/cofrades/:id.json:json",null,{query:{method:"GET",isArray:!1},get:{method:"GET",transformResponse:function(e,t){return r("stringToDateFormat")(angular.fromJson(e))}},save:{method:"POST",transformRequest:function(e,t){return angular.toJson(r("formatDates")(r("removeNulls")(e)))}}})}function a(){return e("http://127.0.0.1:"+t.port()+"/api/cofradesBajas/:id.json:json",null,{query:{method:"GET",isArray:!1}})}function i(e){return o.get("http://127.0.0.1:"+t.port()+"/api/calles/",{params:{calle:e}}).then(function(e){return angular.fromJson(e)})}function c(){return o.get("http://127.0.0.1:"+t.port()+"/api/registros/").then(function(e){return angular.fromJson(e)})}return{cofradesRest:n,cofradesBajasRest:a,getCalles:i,getRegistros:c}}angular.module("app").factory("cofradesService",e),e.$inject=["$resource","$location","$http","$filter"]}(),function(){"use strict";function e(e,t,o){function r(){return e("http://127.0.0.1:"+t.port()+"/api/costaleros/:id.json:json",null,{query:{method:"GET",isArray:!0},get:{method:"GET",transformResponse:function(e,t){return o("stringToDateFormat")(angular.fromJson(e))}},save:{method:"POST",transformRequest:function(e,t){return angular.toJson(o("formatDates")(o("removeNulls")(e)))}}})}return{costalerosRest:r}}angular.module("app").factory("costalerosService",e),e.$inject=["$resource","$location","$filter"]}(),function(){"use strict";function e(e,t,o){function r(){return e("http://127.0.0.1:"+t.port()+"/api/directivos/:id.json:json",null,{query:{method:"GET",isArray:!0},save:{method:"POST",transformRequest:function(e,t){return angular.toJson(o("removeNulls")(e))}}})}return{directivosRest:r}}angular.module("app").factory("directivosService",e),e.$inject=["$resource","$location","$filter"]}(),function(){"use strict";function e(e,t){function o(){return e("http://127.0.0.1:"+t.port()+"/api/gastosBancarios/:id.json:json")}return{gastosBancariosRest:o}}angular.module("app").factory("gastosBancariosService",e),e.$inject=["$resource","$location"]}(),function(){"use strict";function e(e){function t(t){return e.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:t,key:"AIzaSyDC_OIDSl6curjCMCLyzn2yhMmg-er5knI"}}).then(function(e){return e})}return{geoCodingAPI:t}}angular.module("app").factory("mapasService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t){function o(){return e("http://127.0.0.1:"+t.port()+"/api/numerosLoteria/:id.json:json")}return{numerosLoteriaRest:o}}angular.module("app").factory("numerosLoteriaService",e),e.$inject=["$resource","$location"]}(),function(){"use strict";function e(e,t,o){function r(){return e("http://127.0.0.1:"+t.port()+"/api/papeletasSitios/:id.json:json",null,{query:{method:"GET",isArray:!0},save:{method:"POST",transformRequest:function(e,t){return angular.toJson(o("removeNulls")(e))}}})}return{papeletasSitiosRest:r}}angular.module("app").factory("papeletasSitiosService",e),e.$inject=["$resource","$location","$filter"]}(),function(){"use strict";function e(e,t){function o(){return e("http://127.0.0.1:"+t.port()+"/api/sectores/:id.json:json",null,{get:{method:"GET",isArray:!0}})}return{sectoresRest:o}}angular.module("app").factory("sectoresService",e),e.$inject=["$resource","$location"]}(),function(){"use strict";function e(e,t,o,r,n,a,i,c){function s(){a&&a.$promise.then(l)}function l(e){return h.costalero=e,h.cofradeSelected=h.costalero.cofrade,!0}function u(){window.history.back()}function d(e){var t={};return isNaN(e)?t.nombre=e:isNaN(e)||(t.numeroOrden=e),c.cofradesRest().query(t).$promise.then(function(e){return e.results})}function f(e){h.costalero.cofrade=e?e.id:null}function p(t){t?(h.costalero.fecha=""===h.costalero.fecha?null:h.costalero.fecha,h.costalero.cofrade?i.costalerosRest().save(h.costalero,m,v):(e.costaleroForm.cofrade.$error.required=!0,g())):g()}function m(e){r.show(r.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),n.go("costaleros")}function v(e){r.show(r.simple().content("Error al guardar!!").position("top right").parent(o[0].querySelector("#toastBounds")).hideDelay(3e3))}function g(){r.show(r.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(o[0].querySelector("#toastBounds")).position("top right"))}var h=this;h.backState=u,h.querySearch=d,h.selectedItemChange=f,h.guardar=p,s()}angular.module("app").controller("CostaleroAddModify",e),e.$inject=["$scope","$filter","$document","$mdToast","$state","getCostaleroPrepService","costalerosService","cofradesService"]}(),function(){"use strict";function e(e,t){function o(){return t.$promise.then(function(e){n.costalero=e})}function r(t,o){e.go("costalerosCambios",{costaleroId:t})}var n=this;n.modifyCostalero=r,o()}angular.module("app").controller("CostaleroDetalle",e),e.$inject=["$state","getCostaleroPrepService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.costaleros=e})}var o=this;o.costaleros=null,t()}angular.module("app").controller("Costaleros",e),e.$inject=["costalerosPrepService"]}(),function(){"use strict";function e(e,t,o,r,n,a,i){function c(){n?n.$promise.then(s):l()}function s(e){return h.directivo=e,!0}function l(){h.newCofrade=!0,h.directivo={cofrade:null,fecha:(new Date).toLocaleDateString()}}function u(){window.history.back()}function d(e){var t={};return isNaN(e)?t.nombre=e:isNaN(e)||(t.numeroOrden=e),i.cofradesRest().query(t).$promise.then(function(e){return e.results})}function f(e){h.directivo.cofrade=e?e.id:null}function p(t){t?h.directivo.cofrade?(h.directivo.cofrade=h.directivo.cofrade.id?h.directivo.cofrade.id:h.directivo.cofrade,a.directivosRest().save(h.directivo,m,v)):(e.directivoForm.cofrade.$error.required=!0,g()):g()}function m(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),r.go("directivos")}function v(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))}function g(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(t[0].querySelector("#toastBounds")).position("top right"))}var h=this;h.newCofrade=!1,h.backState=u,h.querySearch=d,h.selectedItemChange=f,h.guardar=p,c()}angular.module("app").controller("DirectivoAddModify",e),e.$inject=["$scope","$document","$mdToast","$state","getDirectivoPrepService","directivosService","cofradesService"]}(),function(){"use strict";function e(e,t){function o(){return t.$promise.then(function(e){n.directivo=e})}function r(t,o){e.go("directivosCambios",{directivoId:t})}var n=this;n.modifyDirectivo=r,o()}angular.module("app").controller("DirectivoDetalle",e),e.$inject=["$state","getDirectivoPrepService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.directivos=e})}var o=this;o.directivos=null,t()}angular.module("app").controller("Directivos",e),e.$inject=["directivosPrepService"]}(),function(){"use strict";function e(e,t,o,r,n,a){function i(){n.$promise.then(c)}function c(e){return f.gastoBancario=e[0],!0}function s(e){e?a.gastosBancariosRest().save(f.gastoBancario,l,u):d()}function l(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),r.go("gastosBancarios")}function u(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))}function d(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(t[0].querySelector("#toastBounds")).position("top right"))}var f=this;f.newCofrade=!1,f.guardar=s,i()}angular.module("app").controller("GastosBancarios",e),e.$inject=["$scope","$document","$mdToast","$state","gastosBancariosPrepService","gastosBancariosService"]}(),function(){"use strict";function e(e,t,o,r,n,a){function i(){n.$promise.then(c)}function c(e){return f.numerosLoteria=e[0],!0}function s(e){e?a.numerosLoteriaRest().save(f.numerosLoteria,l,u):d()}function l(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),r.go("numerosLoteria")}function u(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3));
}function d(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(t[0].querySelector("#toastBounds")).position("top right"))}var f=this;f.newCofrade=!1,f.guardar=s,i()}angular.module("app").controller("NumerosLoteria",e),e.$inject=["$scope","$document","$mdToast","$state","numerosLoteriaPrepService","numerosLoteriaService"]}(),function(){"use strict";function e(e,t,o,r,n,a,i){function c(){v.newCofrade=!0,v.fecha=(new Date).toLocaleDateString(),v.papeletaSitio={cofrade:null}}function s(){window.history.back()}function l(e){var t={};return isNaN(e)?t.nombre=e:isNaN(e)||(t.numeroOrden=e),i.cofradesRest().query(t).$promise.then(function(e){return e.results})}function u(e){v.papeletaSitio.cofrade=e?e.id:null}function d(o){o?v.papeletaSitio.cofrade?(v.papeletaSitio.fecha=v.fecha,t("formatDates")(v.papeletaSitio),a.papeletasSitiosRest().save({anio:new Date(v.papeletaSitio.fecha).getFullYear(),papeletas:[v.papeletaSitio]},f,p)):(e.papeletaSitioForm.cofrade.$error.required=!0,m()):m()}function f(e){r.show(r.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),n.go("papeletasSitios")}function p(e){r.show(r.simple().content("Error al guardar!!").position("top right").parent(o[0].querySelector("#toastBounds")).hideDelay(3e3))}function m(){r.show(r.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(o[0].querySelector("#toastBounds")).position("top right"))}var v=this;v.newCofrade=!1,v.backState=s,v.querySearch=l,v.selectedItemChange=u,v.guardar=d,c()}angular.module("app").controller("PapeletaSitioAddModify",e),e.$inject=["$scope","$filter","$document","$mdToast","$state","papeletasSitiosService","cofradesService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.papeletasSitios=e})}var o=this;o.papeletasSitios=null,t()}angular.module("app").controller("PapeletasSitios",e),e.$inject=["papeletasSitiosPrepService"]}(),function(){"use strict";function e(e,t,o,r,n,a,i,c,s){function l(){i?i.$promise.then(u):d()}function u(e){return C.sector=e[0],C.cofradeSelected=C.sector.cofrade,C.originSector=C.sector.numeroSector,"new"===a.calle?(C.newCalle=!0,C.indexCalle=C.sector.calles.length):C.indexCalle=C.sector.calles.indexOf(a.calle)>-1?C.sector.calles.indexOf(a.calle):null,!0}function d(){C.newEncargado=!0,C.sector={cofrade:null}}function f(){window.history.back()}function p(e){var t={};return isNaN(e)?t.nombre=e:isNaN(e)||(t.numeroOrden=e),s.cofradesRest().query(t).$promise.then(function(e){return e.results})}function m(e){C.sector.cofrade=e?e.id:null}function v(t){t?C.sector.cofrade?C.sector.numeroSector===C.originSector||C.newEncargado?g():h():(e.sectorForm.cofrade.$error.required=!0,P()):P()}function g(){c.sectoresRest().save(C.sector,$,S)}function h(){c.sectoresRest().get({sector:C.sector.numeroSector}).$promise.then(function(e){return e[0]?(e[0].cofrade=e[0].cofrade.id,e[0].calles.push(C.sector.calles[C.indexCalle]),void e[0].$save(null,function(){C.sector.calles.splice(C.indexCalle,1),C.sector.numeroSector=C.originSector,g()},S)):void r.show(r.simple().content("No existe ese sector").position("top right").parent(o[0].querySelector("#toastBounds")).hideDelay(3e3))})}function $(e){r.show(r.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),n.go("sectores")}function S(e){r.show(r.simple().content("Error al guardar!!").position("top right").parent(o[0].querySelector("#toastBounds")).hideDelay(3e3))}function P(){r.show(r.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(o[0].querySelector("#toastBounds")).position("top right"))}var C=this;C.newEncargado=!1,C.newCalle=!1,C.indexCalle=null,C.backState=f,C.querySearch=p,C.selectedItemChange=m,C.guardar=v,l()}angular.module("app").controller("SectorAddModify",e),e.$inject=["$scope","$filter","$document","$mdToast","$state","$stateParams","getSectorPrepService","sectoresService","cofradesService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.sectores=e})}var o=this;o.sectores=null,t()}angular.module("app").controller("Sectores",e),e.$inject=["sectoresPrepService"]}(),function(){"use strict";function e(e){function t(t,o){e.go("aspirantesDetalle",{aspiranteId:t})}function o(t,o){o.stopPropagation(),e.go("aspirantesCambios",{aspiranteId:t})}var r=this;r.modifyAspirante=o,r.goToAspirante=t}angular.module("app").controller("ListaAspirantes",e),e.$inject=["$state"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/aspirantes/list/aspirantes.directive.html",scope:{aspirantes:"=aspirantes"},link:function(e,t){e.$watch("vm.aspirantes",function(t){t&&(e.vm.aspirantesShort=e.vm.aspirantes.map(function(e){var t={id:e.id,fecha:e.fecha};return e.cofrade&&(t.numeroOrden=e.cofrade.numeroOrden,t.nombre=e.cofrade.datosPersonales.nombre+" "+e.cofrade.datosPersonales.apellido1+" "+e.cofrade.datosPersonales.apellido2),t}))},!0)},controller:"ListaAspirantes",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaAspirantes",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar aspirante").content("¿Está seguro que desea eliminar este aspirante?<br>Perderá su antiguedad.").ariaLabel("Eliminar aspirante").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){n(e)})}function n(t){var r=o.aspirantesRest().get({id:t},function(){r.$delete({id:t}).then(function(){"aspirantes"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("aspirantes")})})}var a=this;a.removeAspirante=r}angular.module("app").controller("RemoveAspirante",e),e.$inject=["$state","$mdDialog","aspirantesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/aspirantes/remove/removeAspirante.directive.html",scope:{aspiranteId:"=aspirante"},controller:"RemoveAspirante",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeAspirante",e)}(),function(){"use strict";function e(e){function t(t,o){e.go("autoridadesDetalle",{autoridadId:t})}function o(t,o){o.stopPropagation(),e.go("autoridadesCambios",{autoridadId:t})}var r=this;r.modifyAutoridad=o,r.goToAutoridad=t}angular.module("app").controller("ListaAutoridades",e),e.$inject=["$state"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/autoridades/list/autoridades.directive.html",scope:{autoridades:"=autoridades"},controller:"ListaAutoridades",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaAutoridades",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar autoridad").content("¿Está seguro que desea eliminar este autoridad?").ariaLabel("Eliminar autoridad").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){n(e)})}function n(t){var r=o.autoridadesRest().get({id:t},function(){r.$delete({id:t}).then(function(){"autoridades"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("autoridades")})})}var a=this;a.removeAutoridad=r}angular.module("app").controller("RemoveAutoridad",e),e.$inject=["$state","$mdDialog","autoridadesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/autoridades/remove/removeAutoridad.directive.html",scope:{autoridadId:"=autoridad"},controller:"RemoveAutoridad",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeAutoridad",e)}(),function(){"use strict";function e(e,t,o,r){function n(){p.bajas?i():a()}function a(){if(p.nextPage){var e={page:p.nextPage};p.buscar&&(e[p.filtro]=p.buscar),r.cofradesRest().query(e,function(e){p.nextPage=e.next,p.cofrades=p.cofrades.concat(e.results)})}}function i(){if(p.nextPageBajas){var e={page:p.nextPageBajas};p.buscar&&(e[p.filtro]=p.buscar),r.cofradesBajasRest().query(e,function(e){p.nextPageBajas=e.next,p.cofradesBajas=p.cofradesBajas.concat(e.results)})}}function c(){p.filtro=isNaN(p.buscar)?"nombre":"numeroOrden",p.bajas?l():s()}function s(){var e={};e[p.filtro]=p.buscar,r.cofradesRest().query(e,function(e){p.nextPage=e.next,p.cofrades=e.results})}function l(){var e={};e[p.filtro]=p.buscar,r.cofradesBajasRest().query(e,function(e){p.nextPageBajas=e.next,p.cofradesBajas=e.results})}function u(e,t){o.go("cofradesDetalle",{cofradeId:e})}function d(e,t){t.stopPropagation(),o.go("cofradesCambios",{cofradeId:e})}function f(){p.search()}var p=this;p.filtro="nombre",p.buscar=null,p.search=c,p.goToCofrade=u,p.modifyCofrade=d,p.changeTab=f;var m=e.$on("scrollDown",n);t.$on("$destroy",function(){m(),m=null})}angular.module("app").controller("ListaCofrades",e),e.$inject=["$rootScope","$scope","$state","cofradesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/cofrades/list/cofrades.directive.html",scope:{cofrades:"=cofrades",nextPage:"=page",cofradesBajas:"=cofradesBajas",nextPageBajas:"=pageBajas"},controller:"ListaCofrades",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaCofrades",e)}(),function(){"use strict";function e(e,t){function o(e,o){o.stopPropagation(),t.show({templateUrl:"./templates/directives/cofrades/remove/dialogTmpl/removeCofrade.tmpl.html",locals:{id:e},controller:"RemoveCofradeTmpl",controllerAs:"vm",bindToController:!0,targetEvent:o,clickOutsideToClose:!0}).then(function(){})}var r=this;r.removeCofrade=o}angular.module("app").controller("RemoveCofrade",e),e.$inject=["$state","$mdDialog"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/cofrades/remove/removeCofrade.directive.html",scope:{cofradeId:"=cofrade"},controller:"RemoveCofrade",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeCofrade",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Restaurar cofrade").content("¿Está seguro que desea restaurar este cofrade?<br>Su número de Cofrade se calculará de nuevo.").ariaLabel("Restaurar cofrade").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){n(e)})}function n(t){var r=o.cofradesRest().get({id:t},function(){r.baja=null,r.$save({updateNumeroCofrade:!0}).then(function(){"cofrades"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("cofrades")})})}var a=this;a.restoreCofrade=r}angular.module("app").controller("RestoreCofrade",e),e.$inject=["$state","$mdDialog","cofradesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/cofrades/restore/restoreCofrade.directive.html",scope:{cofradeId:"=cofrade"},controller:"RestoreCofrade",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("restoreCofrade",e)}(),function(){"use strict";function e(e){function t(t,o){e.go("costalerosDetalle",{costaleroId:t})}function o(t,o){o.stopPropagation(),e.go("costalerosCambios",{costaleroId:t})}var r=this;r.modifyCostalero=o,r.goToCostalero=t}angular.module("app").controller("ListaCostaleros",e),e.$inject=["$state"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/costaleros/list/costaleros.directive.html",scope:{costaleros:"=costaleros"},link:function(e,t){e.$watch("vm.costaleros",function(t){t&&(e.vm.costalerosShort=e.vm.costaleros.map(function(e){var t={id:e.id,sitio:e.sitio};return e.cofrade&&(t.numeroOrden=e.cofrade.numeroOrden,t.nombre=e.cofrade.datosPersonales.nombre+" "+e.cofrade.datosPersonales.apellido1+" "+e.cofrade.datosPersonales.apellido2),t}))},!0)},controller:"ListaCostaleros",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaCostaleros",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar costalero").content("¿Está seguro que desea eliminar este costalero?<br>Dejará su sitio libre.").ariaLabel("Eliminar costalero").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){n(e)})}function n(t){var r=o.costalerosRest().get({id:t},function(){r.cofrade=null,r.talla=null,r.fecha=null,r.$save().then(function(){"costaleros"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("costaleros")})})}var a=this;a.removeCostalero=r}angular.module("app").controller("RemoveCostalero",e),e.$inject=["$state","$mdDialog","costalerosService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/costaleros/remove/removeCostalero.directive.html",scope:{costaleroId:"=costalero"},controller:"RemoveCostalero",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeCostalero",e)}(),function(){"use strict";function e(e){function t(t,o){e.go("directivosDetalle",{directivoId:t})}function o(t,o){o.stopPropagation(),e.go("directivosCambios",{directivoId:t})}var r=this;r.modifyDirectivo=o,r.goToDirectivo=t}angular.module("app").controller("ListaDirectivos",e),e.$inject=["$state"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/directivos/list/directivos.directive.html",scope:{directivos:"=directivos"},link:function(e,t){e.$watch("vm.directivos",function(t){t&&(e.vm.directivosShort=e.vm.directivos.map(function(e){var t={id:e.id,posicion:e.posicion};return e.cofrade&&(t.numeroOrden=e.cofrade.numeroOrden,t.nombre=e.cofrade.datosPersonales.nombre+" "+e.cofrade.datosPersonales.apellido1+" "+e.cofrade.datosPersonales.apellido2),t}))},!0)},controller:"ListaDirectivos",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaDirectivos",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar directivo").content("¿Está seguro que desea eliminar este directivo?").ariaLabel("Eliminar directivo").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){n(e)})}function n(t){var r=o.directivosRest().get({id:t},function(){r.$delete({id:t}).then(function(){"directivos"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("directivos")})})}var a=this;a.removeDirectivo=r}angular.module("app").controller("RemoveDirectivo",e),e.$inject=["$state","$mdDialog","directivosService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/directivos/remove/removeDirectivo.directive.html",scope:{directivoId:"=directivo"},controller:"RemoveDirectivo",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeDirectivo",e)}(),function(){"use strict";function e(e,t){function o(){t.papeletasSitiosRest().query({anio:r.anio},function(e){r.papeletasSitio=e[0]})}var r=this;r.anio=null,r.getAnio=o}angular.module("app").controller("ListaPapeletasSitios",e),e.$inject=["$state","papeletasSitiosService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/papeletasSitios/list/papeletasSitios.directive.html",scope:{anios:"=papeletas"},controller:"ListaPapeletasSitios",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaPapeletasSitios",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar papeleta sitio").content("¿Está seguro que desea eliminar esta papeleta de sitio?").ariaLabel("Eliminar papeletaSitio").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){n(e)})}function n(t){o.papeletasSitiosRest().save({anio:t.anio,papeletas:[t.papeleta],remove:!0},function(){"papeletasSitios"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("papeletasSitios")})}var a=this;a.removePapeletaSitio=r}angular.module("app").controller("RemovePapeletaSitio",e),e.$inject=["$state","$mdDialog","papeletasSitiosService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/papeletasSitios/remove/removePapeletaSitio.directive.html",scope:{papeletaSitio:"=papeleta"},controller:"RemovePapeletaSitio",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removePapeletaSitio",e)}(),function(){"use strict";function e(e){function t(e,t){e="callesSector"+e,angular.element(document.getElementById(e)).toggleClass("ocultar")}function o(t,o){o.stopPropagation(),e.go("sectoresCambios",{sectorId:t})}function r(t,o,r){r.stopPropagation(),e.go("sectoresCambios",{sectorId:t,calle:o})}function n(t,o){o.stopPropagation(),e.go("sectoresCambios",{sectorId:t,calle:"new"})}var a=this;a.modifySector=o,a.modifyCalle=r,a.addCalle=n,a.showCalles=t}angular.module("app").controller("ListaSectores",e),e.$inject=["$state"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/sectores/list/sectores.directive.html",scope:{sectores:"=sectores"},link:function(e,t){e.$watch("vm.sectores",function(t){t&&(e.vm.sectoresShort=e.vm.sectores.map(function(e){var t={id:e.id,numeroSector:e.numeroSector,calles:e.calles};return e.cofrade&&(t.numeroOrden=e.cofrade.numeroOrden,t.nombre=e.cofrade.datosPersonales.nombre+" "+e.cofrade.datosPersonales.apellido1+" "+e.cofrade.datosPersonales.apellido2),t}))},!0)},controller:"ListaSectores",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaSectores",e)}(),function(){"use strict";function e(e,t,o,r){function n(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar sector").content("¿Está seguro que desea eliminar este sector?").ariaLabel("Eliminar sector").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){a(e)})}function a(t){var n=r.sectoresRest().get({id:t},function(){0!==n[0].calles.length?o.show(o.simple().content("No se puede eliminar un sector con calles asignadas").position("top right").hideDelay(3e3)):n[0].$delete({id:t}).then(function(){"sectores"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("sectores")})})}var i=this;i.removeSector=n}angular.module("app").controller("RemoveSector",e),e.$inject=["$state","$mdDialog","$mdToast","sectoresService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/sectores/remove/removeSector.directive.html",scope:{sectorId:"=sector"},controller:"RemoveSector",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeSector",e)}(),function(){"use strict";function e(e,t,o){function r(){t.cancel()}function n(t){var r=o.cofradesRest().get({id:t},function(){r.baja={motivo:a.motivoBaja,fechaBaja:(new Date).toLocaleDateString()},r.numeroCofrade=null,r.$save({updateNumeroCofrade:!0}).then(function(){a.closeDialog(),"cofrades"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("cofrades")})})}var a=this;a.closeDialog=r,a.removeEndCofrade=n}angular.module("app").controller("RemoveCofradeTmpl",e),e.$inject=["$state","$mdDialog","cofradesService"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5pbml0Lm1vZHVsZS5qcyIsImFsbC5taW4uanMiLCJhcHAubG9hZGluZy5qcyIsImFwcC5tYXAuanMiLCJhcHAucGlja2VyRGF0ZS5qcyIsImFwcC5yb3V0ZXMuanMiLCJhcHAudGhlbWUuanMiLCJhc3BpcmFudGVzL2FzcGlyYW50ZXMucm91dGVzLmpzIiwiYXV0b3JpZGFkZXMvYXV0b3JpZGFkZXMucm91dGVzLmpzIiwiY29mcmFkZXMvY29mcmFkZXMucm91dGVzLmpzIiwiY29zdGFsZXJvcy9jb3N0YWxlcm9zLnJvdXRlcy5qcyIsImRpcmVjdGl2b3MvZGlyZWN0aXZvcy5yb3V0ZXMuanMiLCJnYXN0b3NCYW5jYXJpb3MvZ2FzdG9zQmFuY2FyaW9zLnJvdXRlcy5qcyIsImludGVyZmF6L2FwcC5jb250cm9sbGVyLmpzIiwibG9naW4vbG9naW4uY29udHJvbGxlci5qcyIsImxvZ2luL2xvZ2luLnJvdXRlcy5qcyIsIm51bWVyb3NMb3RlcmlhL251bWVyb3NMb3RlcmlhLnJvdXRlcy5qcyIsInBhcGVsZXRhc1NpdGlvcy9wYXBlbGV0YXNTaXRpb3Mucm91dGVzLmpzIiwic2VjdG9yZXMvc2VjdG9yZXMucm91dGVzLmpzIiwiYXNwaXJhbnRlcy9hZGRNb2RpZnkvYXNwaXJhbnRlQWRkTW9kaWZ5LmNvbnRyb2xsZXIuanMiLCJhc3BpcmFudGVzL2RldGFpbC9hc3BpcmFudGVEZXRhbGxlLmNvbnRyb2xsZXIuanMiLCJhc3BpcmFudGVzL2xpc3QvYXNwaXJhbnRlcy5jb250cm9sbGVyLmpzIiwiYXV0b3JpZGFkZXMvYWRkTW9kaWZ5L2F1dG9yaWRhZEFkZE1vZGlmeS5jb250cm9sbGVyLmpzIiwiYXV0b3JpZGFkZXMvZGV0YWlsL2F1dG9yaWRhZERldGFsbGUuY29udHJvbGxlci5qcyIsImF1dG9yaWRhZGVzL2xpc3QvYXV0b3JpZGFkZXMuY29udHJvbGxlci5qcyIsImNvZnJhZGVzL2FkZE1vZGlmeS9jb2ZyYWRlQWRkTW9kaWZ5LmNvbnRyb2xsZXIuanMiLCJjb2ZyYWRlcy9kZXRhaWwvY29mcmFkZURldGFsbGUuY29udHJvbGxlci5qcyIsImNvZnJhZGVzL2xpc3QvY29mcmFkZXMuY29udHJvbGxlci5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9sb2FkUmVwZWF0LmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9zY3JvbGx5LmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZmlsdGVycy9wYXJzZUN1ZW50YS5maWx0ZXIuanMiLCJjb21tb25zL2ZpbHRlcnMvcGFyc2VEYXRlLmZpbHRlci5qcyIsImNvbW1vbnMvZmlsdGVycy9yZW1vdmVOdWxscy5maWx0ZXIuanMiLCJjb21tb25zL3NlcnZpY2VzL2FzcGlyYW50ZXMuc2VydmljZS5qcyIsImNvbW1vbnMvc2VydmljZXMvYXV0b3JpZGFkZXMuc2VydmljZS5qcyIsImNvbW1vbnMvc2VydmljZXMvY29mcmFkZXMuc2VydmljZS5qcyIsImNvbW1vbnMvc2VydmljZXMvY29zdGFsZXJvcy5zZXJ2aWNlLmpzIiwiY29tbW9ucy9zZXJ2aWNlcy9kaXJlY3Rpdm9zLnNlcnZpY2UuanMiLCJjb21tb25zL3NlcnZpY2VzL2dhc3Rvc0JhbmNhcmlvcy5zZXJ2aWNlLmpzIiwiY29tbW9ucy9zZXJ2aWNlcy9tYXBhcy5zZXJ2aWNlLmpzIiwiY29tbW9ucy9zZXJ2aWNlcy9udW1lcm9zTG90ZXJpYS5zZXJ2aWNlLmpzIiwiY29tbW9ucy9zZXJ2aWNlcy9wYXBlbGV0YXNTaXRpb3Muc2VydmljZS5qcyIsImNvbW1vbnMvc2VydmljZXMvc2VjdG9yZXMuc2VydmljZS5qcyIsImNvc3RhbGVyb3MvYWRkTW9kaWZ5L2Nvc3RhbGVyb0FkZE1vZGlmeS5jb250cm9sbGVyLmpzIiwiY29zdGFsZXJvcy9kZXRhaWwvY29zdGFsZXJvRGV0YWxsZS5jb250cm9sbGVyLmpzIiwiY29zdGFsZXJvcy9saXN0L2Nvc3RhbGVyb3MuY29udHJvbGxlci5qcyIsImRpcmVjdGl2b3MvYWRkTW9kaWZ5L2RpcmVjdGl2b0FkZE1vZGlmeS5jb250cm9sbGVyLmpzIiwiZGlyZWN0aXZvcy9kZXRhaWwvZGlyZWN0aXZvRGV0YWxsZS5jb250cm9sbGVyLmpzIiwiZGlyZWN0aXZvcy9saXN0L2RpcmVjdGl2b3MuY29udHJvbGxlci5qcyIsImdhc3Rvc0JhbmNhcmlvcy9tb2RpZnkvZ2FzdG9CYW5jYXJpb01vZGlmeS5jb250cm9sbGVyLmpzIiwibnVtZXJvc0xvdGVyaWEvbW9kaWZ5L251bWVyb3NMb3RlcmlhTW9kaWZ5LmNvbnRyb2xsZXIuanMiLCJwYXBlbGV0YXNTaXRpb3MvYWRkTW9kaWZ5L3BhcGVsZXRhU2l0aW9BZGRNb2RpZnkuY29udHJvbGxlci5qcyIsInBhcGVsZXRhc1NpdGlvcy9saXN0L3BhcGVsZXRhc1NpdGlvcy5jb250cm9sbGVyLmpzIiwic2VjdG9yZXMvYWRkTW9kaWZ5L3NlY3RvckFkZE1vZGlmeS5jb250cm9sbGVyLmpzIiwic2VjdG9yZXMvbGlzdC9zZWN0b3Jlcy5jb250cm9sbGVyLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2FzcGlyYW50ZXMvbGlzdC9hc3BpcmFudGVzLmNvbnRyb2xsZXIuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2FzcGlyYW50ZXMvbGlzdC9hc3BpcmFudGVzLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9hc3BpcmFudGVzL3JlbW92ZS9yZW1vdmVBc3BpcmFudGUuY29udHJvbGxlci5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvYXNwaXJhbnRlcy9yZW1vdmUvcmVtb3ZlQXNwaXJhbnRlLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9hdXRvcmlkYWRlcy9saXN0L2F1dG9yaWRhZGVzLmNvbnRyb2xsZXIuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2F1dG9yaWRhZGVzL2xpc3QvYXV0b3JpZGFkZXMuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2F1dG9yaWRhZGVzL3JlbW92ZS9yZW1vdmVBdXRvcmlkYWQuY29udHJvbGxlci5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvYXV0b3JpZGFkZXMvcmVtb3ZlL3JlbW92ZUF1dG9yaWRhZC5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvY29mcmFkZXMvbGlzdC9jb2ZyYWRlcy5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9saXN0L2NvZnJhZGVzLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZW1vdmUvcmVtb3ZlQ29mcmFkZS5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZW1vdmUvcmVtb3ZlQ29mcmFkZS5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvY29mcmFkZXMvcmVzdG9yZS9yZXN0b3JlQ29mcmFkZS5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZXN0b3JlL3Jlc3RvcmVDb2ZyYWRlLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb3N0YWxlcm9zL2xpc3QvY29zdGFsZXJvcy5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb3N0YWxlcm9zL2xpc3QvY29zdGFsZXJvcy5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvY29zdGFsZXJvcy9yZW1vdmUvcmVtb3ZlQ29zdGFsZXJvLmNvbnRyb2xsZXIuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2Nvc3RhbGVyb3MvcmVtb3ZlL3JlbW92ZUNvc3RhbGVyby5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvZGlyZWN0aXZvcy9saXN0L2RpcmVjdGl2b3MuY29udHJvbGxlci5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvZGlyZWN0aXZvcy9saXN0L2RpcmVjdGl2b3MuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2RpcmVjdGl2b3MvcmVtb3ZlL3JlbW92ZURpcmVjdGl2by5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9kaXJlY3Rpdm9zL3JlbW92ZS9yZW1vdmVEaXJlY3Rpdm8uZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL3BhcGVsZXRhc1NpdGlvcy9saXN0L3BhcGVsZXRhc1NpdGlvcy5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9wYXBlbGV0YXNTaXRpb3MvbGlzdC9wYXBlbGV0YXNTaXRpb3MuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL3BhcGVsZXRhc1NpdGlvcy9yZW1vdmUvcmVtb3ZlUGFwZWxldGFTaXRpby5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9wYXBlbGV0YXNTaXRpb3MvcmVtb3ZlL3JlbW92ZVBhcGVsZXRhU2l0aW8uZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL3NlY3RvcmVzL2xpc3Qvc2VjdG9yZXMuY29udHJvbGxlci5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvc2VjdG9yZXMvbGlzdC9zZWN0b3Jlcy5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvc2VjdG9yZXMvcmVtb3ZlL3JlbW92ZVNlY3Rvci5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9zZWN0b3Jlcy9yZW1vdmUvcmVtb3ZlU2VjdG9yLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZW1vdmUvZGlhbG9nVG1wbC9yZW1vdmVDb2ZyYWRlLmNvbnRyb2xsZXIudG1wbC5qcyJdLCJuYW1lcyI6WyJjc3JmVG9rZW4iLCIkaHR0cFByb3ZpZGVyIiwiZGVmYXVsdHMiLCJ4c3JmQ29va2llTmFtZSIsInhzcmZIZWFkZXJOYW1lIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRpbmplY3QiLCJsb2FkaW5nU3Bpbm5lciIsImludGVyY2VwdG9ycyIsInB1c2giLCJteUh0dHBJbnRlcmNlcHRvciIsIiRxIiwiJGluamVjdG9yIiwibG9hZFNjcmVlbiIsImVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJyZXF1ZXN0IiwibWV0aG9kIiwiY3NzIiwicmVxdWVzdEVycm9yIiwicmVqZWN0aW9uIiwicmVqZWN0IiwicmVzcG9uc2UiLCJyZXNwb25zZUVycm9yIiwic3RhdHVzIiwiZ2V0IiwiZ28iLCJmYWN0b3J5IiwiZ29vZ2xlTWFwQVBJIiwidWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIiLCJjb25maWd1cmUiLCJsaWJyYXJpZXMiLCJkYXRlUGlja2VyQ29uZmlnIiwiJG1kRGF0ZUxvY2FsZVByb3ZpZGVyIiwibW9udGhzIiwic2hvcnRNb250aHMiLCJkYXlzIiwic2hvcnREYXlzIiwiZmlyc3REYXlPZldlZWsiLCJwYXJzZURhdGUiLCJkYXRlU3RyaW5nIiwiRGF0ZSIsImZvcm1hdERhdGUiLCJkYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlUHJvdmlkZXIiLCIkdGVtcGxhdGVDYWNoZSIsInRoZW1lQW5ndWxhck1hdGVyaWFsIiwiJG1kVGhlbWluZ1Byb3ZpZGVyIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsInJlc29sdmUiLCJhc3BpcmFudGVzUHJlcFNlcnZpY2UiLCJnZXRBc3BpcmFudGVQcmVwU2VydmljZSIsImFzcGlyYW50ZXNTZXJ2aWNlIiwiYXNwaXJhbnRlc1Jlc3QiLCJxdWVyeSIsIiRzdGF0ZVBhcmFtcyIsImlkIiwiYXNwaXJhbnRlSWQiLCJhdXRvcmlkYWRlc1ByZXBTZXJ2aWNlIiwiZ2V0QXV0b3JpZGFkUHJlcFNlcnZpY2UiLCJnZXRNYXBzUHJlcFNlcnZpY2UiLCJhdXRvcmlkYWRlc1NlcnZpY2UiLCJhdXRvcmlkYWRlc1Jlc3QiLCJhdXRvcmlkYWRJZCIsInVpR21hcEdvb2dsZU1hcEFwaSIsIm1hcGFzU2VydmljZSIsIiRwcm9taXNlIiwidGhlbiIsImRhdGEiLCJhZGRyZXNzIiwiZGlyZWNjaW9uIiwiY2FsbGUiLCJudW1lcm8iLCJtdW5pY2lwaW8iLCJwcm92aW5jaWEiLCJjcCIsImdlb0NvZGluZ0FQSSIsInJlc3VsdHMiLCJsZW5ndGgiLCJjb29yZGluYXRlcyIsImdlb21ldHJ5IiwibG9jYXRpb24iLCJtYXBzIiwiY29vcmQiLCJsYXRpdHVkZSIsImxhdCIsImxvbmdpdHVkZSIsImxuZyIsIm1hcmtlciIsInpvb20iLCJjb2ZyYWRlc1ByZXBTZXJ2aWNlIiwiY29mcmFkZXNCYWphc1ByZXBTZXJ2aWNlIiwiZ2V0Q29mcmFkZVByZXBTZXJ2aWNlIiwibnVtZXJvc0xvdGVyaWFQcmVwU2VydmljZSIsImNvZnJhZGVzU2VydmljZSIsImNvZnJhZGVzUmVzdCIsImNvZnJhZGVzQmFqYXNSZXN0IiwiY29mcmFkZUlkIiwibnVtZXJvc0xvdGVyaWFTZXJ2aWNlIiwibnVtZXJvc0xvdGVyaWFSZXN0IiwiZGF0b3NQZXJzb25hbGVzIiwiY29zdGFsZXJvc1ByZXBTZXJ2aWNlIiwiZ2V0Q29zdGFsZXJvUHJlcFNlcnZpY2UiLCJjb3N0YWxlcm9zU2VydmljZSIsImNvc3RhbGVyb3NSZXN0IiwiY29zdGFsZXJvSWQiLCJkaXJlY3Rpdm9zUHJlcFNlcnZpY2UiLCJnZXREaXJlY3Rpdm9QcmVwU2VydmljZSIsImRpcmVjdGl2b3NTZXJ2aWNlIiwiZGlyZWN0aXZvc1Jlc3QiLCJkaXJlY3Rpdm9JZCIsImdhc3Rvc0JhbmNhcmlvc1ByZXBTZXJ2aWNlIiwiZ2FzdG9zQmFuY2FyaW9zU2VydmljZSIsImdhc3Rvc0JhbmNhcmlvc1Jlc3QiLCJBcHBDdHJsIiwiJG1kU2lkZW5hdiIsIiRzdGF0ZSIsInRvZ2dsZVNpZGVuYXYiLCJtZW51SWQiLCJ0b2dnbGUiLCJjbG9zZVNpZGVuYXYiLCJjbG9zZSIsIm5hdmlnYXRlVG8iLCJ0byIsInZtIiwidGhpcyIsIkxvZ2luIiwiJHNjb3BlIiwiJGh0dHAiLCIkaHR0cFBhcmFtU2VyaWFsaXplciIsIiRjb21waWxlIiwicHJvY2Vzc0Zvcm0iLCJjc3JmbWlkZGxld2FyZXRva2VuIiwibG9naW5Gb3JtIiwidmFsdWUiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwibmV4dCIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJzdWNjZXNzIiwiaW5uZXJIVE1MIiwiY29udGVudHMiLCIkbG9jYXRpb24iLCJwb3J0IiwicGFwZWxldGFzU2l0aW9zUHJlcFNlcnZpY2UiLCJwYXBlbGV0YXNTaXRpb3NTZXJ2aWNlIiwicGFwZWxldGFzU2l0aW9zUmVzdCIsImFuaW9zIiwic2VjdG9yZXNQcmVwU2VydmljZSIsImdldFNlY3RvclByZXBTZXJ2aWNlIiwic2VjdG9yZXNTZXJ2aWNlIiwic2VjdG9yZXNSZXN0Iiwic2VjdG9ySWQiLCJBc3BpcmFudGVBZGRNb2RpZnkiLCIkZG9jdW1lbnQiLCIkbWRUb2FzdCIsImFjdGl2YXRlIiwiaW5pdEFzcGlyYW50ZSIsIm5ld0FzcGlyYW50ZSIsImFzcGlyYW50ZSIsIm5ld0NvZnJhZGUiLCJjb2ZyYWRlIiwiZmVjaGEiLCJiYWNrU3RhdGUiLCJ3aW5kb3ciLCJoaXN0b3J5IiwiYmFjayIsInF1ZXJ5U2VhcmNoIiwiZmlsdHJvIiwiaXNOYU4iLCJub21icmUiLCJudW1lcm9PcmRlbiIsInNlbGVjdGVkSXRlbUNoYW5nZSIsIml0ZW0iLCJndWFyZGFyIiwiaXNWYWxpZCIsInNhdmUiLCJndWFyZGFyU3VjY2VzcyIsImd1YXJkYXJFcnJvciIsImFzcGlyYW50ZUZvcm0iLCIkZXJyb3IiLCJyZXF1aXJlZCIsInNob3dBY3Rpb25Ub2FzdCIsInNob3ciLCJzaW1wbGUiLCJjb250ZW50IiwicG9zaXRpb24iLCJoaWRlRGVsYXkiLCJwYXJlbnQiLCJhY3Rpb24iLCJoaWdobGlnaHRBY3Rpb24iLCJBc3BpcmFudGVEZXRhbGxlIiwibW9kaWZ5QXNwaXJhbnRlIiwiZXZlbnQiLCJBc3BpcmFudGVzIiwiYXNwaXJhbnRlcyIsIkF1dG9yaWRhZEFkZE1vZGlmeSIsImluaXRBdXRvcmlkYWQiLCJuZXdBdXRvcmlkYWQiLCJhdXRvcmlkYWQiLCJjYWxsZVNlbGVjdGVkIiwiZ2V0Q2FsbGVzIiwic2VhcmNoVGV4dCIsIkF1dG9yaWRhZERldGFsbGUiLCJtb2RpZnlBdXRvcmlkYWQiLCJBdXRvcmlkYWRlcyIsImF1dG9yaWRhZGVzIiwiQ29mcmFkZUFkZE1vZGlmeSIsIiRmaWx0ZXIiLCJudW1lcm9zTG90ZXJpYSIsImluaXRDb2ZyYWRlIiwiZ2V0UmVnaXN0cm9zIiwibnVtZXJvQ29mcmFkZSIsImZlY2hhTmFjaW1pZW50byIsImZlY2hhSW5zY3JpcGNpb24iLCJkYXRvc0ZpbmFuY2llcm9zIiwiY3VlbnRhIiwiZGV1ZGEiLCJzZWFyY2hTZWN0b3IiLCJzZWN0b3IiLCJudWV2YUNhbGxlIiwibnVtZXJvU2VjdG9yIiwiY2FsY3VsYXJDQyIsImliYW4iLCJjYyIsImNhbGN1bGFySWJhbiIsImd1YXJkYXJDb2ZyYWRlIiwiQ29mcmFkZVJlc291cmNlIiwiZ3VhcmRhckNhbGxlIiwic2VjdG9yUmVzb3VyY2UiLCJjYWxsZXMiLCIkc2F2ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXhvIiwiQ29mcmFkZURldGFsbGUiLCJtb2RpZnlDb2ZyYWRlIiwiQ29mcmFkZXMiLCJuZXh0UGFnZSIsImNvZnJhZGVzIiwibmV4dFBhZ2VCYWphcyIsImNvZnJhZGVzQmFqYXMiLCJzZWxlY3RlZFRhYiIsImxvYWRSZXBlYXQiLCJzY29wZSIsIiRsYXN0IiwiJGV2YWwiLCJkaXJlY3RpdmUiLCJzY3JvbGx5IiwicmVzdHJpY3QiLCJsaW5rIiwiJHJvb3RTY29wZSIsImF0dHJzIiwicmF3IiwiYmluZCIsInNjcm9sbFRvcCIsIm9mZnNldEhlaWdodCIsInNjcm9sbEhlaWdodCIsIiRlbWl0IiwicGFyc2VJYmFuIiwiZm9ybWF0dGVkSWJhbiIsImkiLCJwYXJzZUNDIiwiZm9ybWF0dGVkQ0MiLCJzdWJzdHIiLCJ2YWxvckNpZnJhcyIsImNpZnJhcyIsIkxFVFJBUyIsIml0ZW1zIiwicG9zaWNpb24iLCJpbmRleE9mIiwiam9pbiIsIm1vZHVsbyIsImRpdmlzb3IiLCJDVUVOVEEiLCJsYXJnbyIsInJlc3RvIiwiZGl2aWRlbmRvIiwiY2Vyb3NJenF1aWVyZGEiLCJjY2MiLCJwYWlzIiwiZmlsdGVyIiwic3RyaW5nVG9EYXRlRm9ybWF0IiwiZm9ybWF0RGF0ZXMiLCJzcGxpdCIsInJlbW92ZU51bGxzIiwib2JqIiwiaXNBcnJheSIsIkFycmF5IiwiayIsInNwbGljZSIsIiRyZXNvdXJjZSIsInRyYW5zZm9ybVJlc3BvbnNlIiwiaGVhZGVyc0dldHRlciIsImZyb21Kc29uIiwidHJhbnNmb3JtUmVxdWVzdCIsInRvSnNvbiIsInBhcmFtcyIsImtleSIsIkNvc3RhbGVyb0FkZE1vZGlmeSIsImluaXRDb3N0YWxlcm8iLCJjb3N0YWxlcm8iLCJjb2ZyYWRlU2VsZWN0ZWQiLCJjb3N0YWxlcm9Gb3JtIiwiQ29zdGFsZXJvRGV0YWxsZSIsIm1vZGlmeUNvc3RhbGVybyIsIkNvc3RhbGVyb3MiLCJjb3N0YWxlcm9zIiwiRGlyZWN0aXZvQWRkTW9kaWZ5IiwiaW5pdERpcmVjdGl2byIsIm5ld0RpcmVjdGl2byIsImRpcmVjdGl2byIsImRpcmVjdGl2b0Zvcm0iLCJEaXJlY3Rpdm9EZXRhbGxlIiwibW9kaWZ5RGlyZWN0aXZvIiwiRGlyZWN0aXZvcyIsImRpcmVjdGl2b3MiLCJHYXN0b3NCYW5jYXJpb3MiLCJpbml0R2FzdG9CYW5jYXJpbyIsImdhc3RvQmFuY2FyaW8iLCJOdW1lcm9zTG90ZXJpYSIsImluaXROdW1lcm9zTG90ZXJpYSIsIlBhcGVsZXRhU2l0aW9BZGRNb2RpZnkiLCJuZXdwYXBlbGV0YVNpdGlvIiwicGFwZWxldGFTaXRpbyIsImFuaW8iLCJnZXRGdWxsWWVhciIsInBhcGVsZXRhcyIsInBhcGVsZXRhU2l0aW9Gb3JtIiwiUGFwZWxldGFzU2l0aW9zIiwicGFwZWxldGFzU2l0aW9zIiwiU2VjdG9yQWRkTW9kaWZ5IiwiaW5pdFNlY3RvciIsIm5ld0VuY2FyZ2FkbyIsIm9yaWdpblNlY3RvciIsIm5ld0NhbGxlIiwiaW5kZXhDYWxsZSIsImd1YXJkYXJTZWN0b3IiLCJndWFyZGFyQ2FtYmlvU2VjdG9yIiwic2VjdG9yRm9ybSIsIlNlY3RvcmVzIiwic2VjdG9yZXMiLCJMaXN0YUFzcGlyYW50ZXMiLCJnb1RvQXNwaXJhbnRlIiwic3RvcFByb3BhZ2F0aW9uIiwibGlzdGFBc3BpcmFudGVzIiwidGVtcGxhdGVVcmwiLCIkd2F0Y2giLCJuZXdWYWwiLCJhc3BpcmFudGVzU2hvcnQiLCJtYXAiLCJhdXgiLCJhcGVsbGlkbzEiLCJhcGVsbGlkbzIiLCJiaW5kVG9Db250cm9sbGVyIiwiUmVtb3ZlQXNwaXJhbnRlIiwiJG1kRGlhbG9nIiwicmVtb3ZlQXNwaXJhbnRlIiwicmVtb3ZlRGlhbG9nIiwiY29uZmlybSIsInRpdGxlIiwiYXJpYUxhYmVsIiwidGFyZ2V0RXZlbnQiLCJvayIsImNhbmNlbCIsImNsaWNrT3V0c2lkZVRvQ2xvc2UiLCJyZW1vdmVFbmRBc3BpcmFudGUiLCIkZGVsZXRlIiwiY3VycmVudCIsIm5hbWUiLCJ0cmFuc2l0aW9uVG8iLCJyZWxvYWQiLCJpbmhlcml0Iiwibm90aWZ5IiwiTGlzdGFBdXRvcmlkYWRlcyIsImdvVG9BdXRvcmlkYWQiLCJsaXN0YUF1dG9yaWRhZGVzIiwiUmVtb3ZlQXV0b3JpZGFkIiwicmVtb3ZlQXV0b3JpZGFkIiwicmVtb3ZlRW5kQXV0b3JpZGFkIiwiTGlzdGFDb2ZyYWRlcyIsImdldE5leHRQYWdlIiwiYmFqYXMiLCJnZXROZXh0UGFnZUJhamFzIiwiZ2V0TmV4dFBhZ2VBbHRhcyIsInBhcmFtZXRlcnMiLCJwYWdlIiwiYnVzY2FyIiwiY29uY2F0Iiwic2VhcmNoIiwic2VhcmNoQmFqYXMiLCJzZWFyY2hBbHRhcyIsImdvVG9Db2ZyYWRlIiwiY2hhbmdlVGFiIiwiaGFuZGxlciIsIiRvbiIsImxpc3RhQ29mcmFkZXMiLCJSZW1vdmVDb2ZyYWRlIiwicmVtb3ZlQ29mcmFkZSIsImxvY2FscyIsIlJlc3RvcmVDb2ZyYWRlIiwicmVzdG9yZUNvZnJhZGUiLCJyZXN0YXVyYXJEaWFsb2ciLCJyZXN0b3JlRW5kQ29mcmFkZSIsImJhamEiLCJ1cGRhdGVOdW1lcm9Db2ZyYWRlIiwiTGlzdGFDb3N0YWxlcm9zIiwiZ29Ub0Nvc3RhbGVybyIsImxpc3RhQ29zdGFsZXJvcyIsImNvc3RhbGVyb3NTaG9ydCIsInNpdGlvIiwiUmVtb3ZlQ29zdGFsZXJvIiwicmVtb3ZlQ29zdGFsZXJvIiwicmVtb3ZlRW5kQ29zdGFsZXJvIiwidGFsbGEiLCJMaXN0YURpcmVjdGl2b3MiLCJnb1RvRGlyZWN0aXZvIiwibGlzdGFEaXJlY3Rpdm9zIiwiZGlyZWN0aXZvc1Nob3J0IiwiUmVtb3ZlRGlyZWN0aXZvIiwicmVtb3ZlRGlyZWN0aXZvIiwicmVtb3ZlRW5kRGlyZWN0aXZvIiwiTGlzdGFQYXBlbGV0YXNTaXRpb3MiLCJnZXRBbmlvIiwicGFwZWxldGFzU2l0aW8iLCJsaXN0YVBhcGVsZXRhc1NpdGlvcyIsIlJlbW92ZVBhcGVsZXRhU2l0aW8iLCJyZW1vdmVQYXBlbGV0YVNpdGlvIiwicmVtb3ZlRW5kUGFwZWxldGFTaXRpbyIsInBhcGVsZXRhT2JqIiwicGFwZWxldGEiLCJyZW1vdmUiLCJMaXN0YVNlY3RvcmVzIiwic2hvd0NhbGxlcyIsImdldEVsZW1lbnRCeUlkIiwidG9nZ2xlQ2xhc3MiLCJtb2RpZnlTZWN0b3IiLCJtb2RpZnlDYWxsZSIsImFkZENhbGxlIiwibGlzdGFTZWN0b3JlcyIsInNlY3RvcmVzU2hvcnQiLCJSZW1vdmVTZWN0b3IiLCJyZW1vdmVTZWN0b3IiLCJyZW1vdmVFbmRTZWN0b3IiLCJSZW1vdmVDb2ZyYWRlVG1wbCIsImNsb3NlRGlhbG9nIiwicmVtb3ZlRW5kQ29mcmFkZSIsIm1vdGl2byIsIm1vdGl2b0JhamEiLCJmZWNoYUJhamEiXSwibWFwcGluZ3MiOiJDQUFB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QyxPQUFBLE9BQ0FtRCxXQUFBLGVBQUEyWSxHbEZrN0dFQSxFQUFhNWIsU0FBVyxTQUFVLFlBQWEsV0FBWSxzQm1GdjdHN0QsV0FDQSxZQU9BLFNBQUE2YixLQUNBLE9BQ0FqTSxTQUFBLElBQ0FpRyxZQUFBLHFFQUNBdEcsT0FDQTVGLFNBQUEsV0FFQTFHLFdBQUEsZUFDQUMsYUFBQSxLQUNBbVQsa0JBQUEsR0FkQXhXLFFBQ0FDLE9BQUEsT0FDQTRQLFVBQUEsZUFBQW1NLE1DTEEsV0FDQSxZQU1BLFNBQUFFLEdBQUF6VSxFQUFBaVAsRUFBQXZRLEdBTUEsUUFBQWdXLEtBQ0F6RixFQUFBUSxTQUVBLFFBQUFrRixHQUFBdlksR0FDQSxHQUFBMEcsR0FBQXBFLEVBQUFDLGVBQUE3RSxLQUFBc0MsR0FBQUEsR0FBQSxXQUNBMEcsRUFBQW1QLE1BQUEyQyxPQUFBcFUsRUFBQXFVLFdBQ0FDLFdBQUEsR0FBQWhhLE9BQUFHLHNCQUNBNkgsRUFBQW1ELGNBQUEsS0FFQW5ELEVBQUFzRSxPQUFBOEsscUJBQUEsSUFBQW5WLEtBQUEsV0FDQXlELEVBQUFrVSxjQUNBLGFBQUExVSxFQUFBNlAsUUFBQUMsS0FDQTlQLEVBQUErUCxhQUFBL1AsRUFBQTZQLFFBQUEsTUFDQUcsUUFBQSxFQUNBQyxTQUFBLEVBQ0FDLFFBQUEsSUFJQWxRLEVBQUFqRyxHQUFBLGdCQXhCQSxHQUFBeUcsR0FBQUMsSUFFQUQsR0FBQWtVLFlBQUFBLEVBQ0FsVSxFQUFBbVUsaUJBQUFBLEVBUkFwYyxRQUNBQyxPQUFBLE9BQ0FtRCxXQUFBLG9CQUFBOFksR3BGay9HRUEsRUFBa0IvYixTQUFXLFNBQVUsWUFBYSIsImZpbGUiOiJhbGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJywgW1xyXG4gICAgICAndWkucm91dGVyJyxcclxuICAgICAgJ25nUmVzb3VyY2UnLFxyXG4gICAgICAnbmdNYXRlcmlhbCcsXHJcbiAgICAgICd1aUdtYXBnb29nbGUtbWFwcycsXHJcbiAgICAgICduZ01lc3NhZ2VzJ1xyXG4gICAgXSlcclxuICAgIC5jb25maWcoY3NyZlRva2VuKTtcclxuXHJcbiAgZnVuY3Rpb24gY3NyZlRva2VuKCRodHRwUHJvdmlkZXIpe1xyXG4gICAgJGh0dHBQcm92aWRlci5kZWZhdWx0cy54c3JmQ29va2llTmFtZSA9ICdjc3JmdG9rZW4nO1xyXG4gICAgJGh0dHBQcm92aWRlci5kZWZhdWx0cy54c3JmSGVhZGVyTmFtZSA9ICdYLUNTUkZUb2tlbic7XHJcbiAgfVxyXG59KSgpOyIsbnVsbCwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdteUh0dHBJbnRlcmNlcHRvcicsIG15SHR0cEludGVyY2VwdG9yKVxyXG4gICAgLmNvbmZpZyhsb2FkaW5nU3Bpbm5lcik7XHJcblxyXG4gIGZ1bmN0aW9uIGxvYWRpbmdTcGlubmVyKCRodHRwUHJvdmlkZXIpIHtcclxuICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ215SHR0cEludGVyY2VwdG9yJyk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBteUh0dHBJbnRlcmNlcHRvcigkcSwgJGluamVjdG9yKSB7XHJcbiAgICB2YXIgbG9hZFNjcmVlbiA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubS1hcHAtbG9hZGluZycpKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZFxyXG4gICAgICAncmVxdWVzdCc6IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBzdWNjZXNzXHJcbiAgICAgICAgaWYgKGNvbmZpZy5tZXRob2QgPT09ICdQT1NUJylcclxuICAgICAgICAgIGxvYWRTY3JlZW4uY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgcmV0dXJuIGNvbmZpZztcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZFxyXG4gICAgICdyZXF1ZXN0RXJyb3InOiBmdW5jdGlvbihyZWplY3Rpb24pIHtcclxuICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gZXJyb3JcclxuICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvLyBvcHRpb25hbCBtZXRob2RcclxuICAgICAgJ3Jlc3BvbnNlJzogZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gc3VjY2Vzc1xyXG4gICAgICAgIGxvYWRTY3JlZW4uY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvLyBvcHRpb25hbCBtZXRob2RcclxuICAgICAncmVzcG9uc2VFcnJvcic6IGZ1bmN0aW9uKHJlamVjdGlvbikge1xyXG4gICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBlcnJvclxyXG4gICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDEpe1xyXG4gICAgICAgICAgJGluamVjdG9yLmdldCgnJHN0YXRlJykuZ28oJ2xvZ2luJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxvYWRTY3JlZW4uY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoZ29vZ2xlTWFwQVBJKTtcclxuXHJcbiAgZnVuY3Rpb24gZ29vZ2xlTWFwQVBJKHVpR21hcEdvb2dsZU1hcEFwaVByb3ZpZGVyKXtcclxuICAgIHVpR21hcEdvb2dsZU1hcEFwaVByb3ZpZGVyLmNvbmZpZ3VyZSh7XHJcbiAgICAgICAgbGlicmFyaWVzOiAnd2VhdGhlcixnZW9tZXRyeSx2aXN1YWxpemF0aW9uJ1xyXG4gICAgfSk7ICAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoZGF0ZVBpY2tlckNvbmZpZyk7XHJcblxyXG4gIGZ1bmN0aW9uIGRhdGVQaWNrZXJDb25maWcoJG1kRGF0ZUxvY2FsZVByb3ZpZGVyKSB7XHJcblxyXG4gICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLm1vbnRocyA9IFsnZW5lcm8nLCAnZmVicmVybycsICdtYXJ6bycsICdhYnJpbCcsICdtYXlvJywgJ2p1bmlvJywgJ2p1bGlvJywgJ2Fnb3N0bycsICdzZXB0aWVtYnJlJywgJ29jdHVicmUnLCAnbm92aWVtYnJlJywgJ2RpY2llbWJyZSddO1xyXG4gICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLnNob3J0TW9udGhzID0gWydlbmUnLCAnZmViJywgJ21hcicsICdhYnInLCAnbWF5JywgJ2p1bicsICdqdWwnLCAnYWdvJywgJ3NlcCcsICdvY3QnLCAnbm92JywgJ2RpYyddO1xyXG4gICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLmRheXMgPSBbJ2x1bmVzJywgJ21hcnRlcycsICdtacOpcmNvbGVzJywgJ2p1ZXZlcycsICd2aWVybmVzJywgJ3PDoWJhZG8nLCAnZG9taW5nbyddO1xyXG4gICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLnNob3J0RGF5cyA9IFsnbHVuJywgJ21hcicsICdtacOpJywgJ2p1ZScsICd2aWUnLCAnc8OhYicsICdkb20nXTtcclxuXHJcbiAgICAkbWREYXRlTG9jYWxlUHJvdmlkZXIuZmlyc3REYXlPZldlZWsgPSAxO1xyXG4gICAgXHJcbiAgICAkbWREYXRlTG9jYWxlUHJvdmlkZXIucGFyc2VEYXRlID0gZnVuY3Rpb24oZGF0ZVN0cmluZykge1xyXG4gICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVN0cmluZyk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAkbWREYXRlTG9jYWxlUHJvdmlkZXIuZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uKGRhdGUpIHtcclxuICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gICAgfTtcclxuXHJcbiAgfVxyXG5cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoY29uZmlnKTtcclxuXHJcbiAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcclxuXHJcbiAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKFwiL1wiKTtcclxuXHJcbiAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAuc3RhdGUoXCJob21lXCIsIHtcclxuICAgICAgICB1cmw6IFwiL1wiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnaW50ZXJmYXovaG9tZS5odG1sJyk7IFxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyh0aGVtZUFuZ3VsYXJNYXRlcmlhbCk7XHJcblxyXG4gIGZ1bmN0aW9uIHRoZW1lQW5ndWxhck1hdGVyaWFsKCRtZFRoZW1pbmdQcm92aWRlcil7XHJcbiAgICBcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGNvbmZpZyk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xyXG4gICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgLnN0YXRlKCdhc3BpcmFudGVzJywge1xyXG4gICAgICAgIHVybDogXCIvYXNwaXJhbnRlc1wiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXNwaXJhbnRlcy9saXN0L2FzcGlyYW50ZXMuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdBc3BpcmFudGVzJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBhc3BpcmFudGVzUHJlcFNlcnZpY2U6IGFzcGlyYW50ZXNQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLnN0YXRlKCdhc3BpcmFudGVzRGV0YWxsZScsIHtcclxuICAgICAgICB1cmw6IFwiL2FzcGlyYW50ZXMvOmFzcGlyYW50ZUlkXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdhc3BpcmFudGVzL2RldGFpbC9hc3BpcmFudGVEZXRhbGxlLmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnQXNwaXJhbnRlRGV0YWxsZScsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZ2V0QXNwaXJhbnRlUHJlcFNlcnZpY2U6IGdldEFzcGlyYW50ZVByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KS5cclxuICAgICAgc3RhdGUoJ2FzcGlyYW50ZXNDYW1iaW9zJywge1xyXG4gICAgICAgIHVybDogXCIvYXNwaXJhbnRlcy9jYW1iaW9zLzphc3BpcmFudGVJZFwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXNwaXJhbnRlcy9hZGRNb2RpZnkvYXNwaXJhbnRlQWRkTW9kaWZ5Lmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnQXNwaXJhbnRlQWRkTW9kaWZ5JyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBnZXRBc3BpcmFudGVQcmVwU2VydmljZTogZ2V0QXNwaXJhbnRlUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYXNwaXJhbnRlc1ByZXBTZXJ2aWNlKGFzcGlyYW50ZXNTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gYXNwaXJhbnRlc1NlcnZpY2UuYXNwaXJhbnRlc1Jlc3QoKS5xdWVyeSgpO1xyXG4gIH1cclxuXHJcbiAgXHJcbiAgZnVuY3Rpb24gZ2V0QXNwaXJhbnRlUHJlcFNlcnZpY2UoYXNwaXJhbnRlc1NlcnZpY2UsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgcmV0dXJuICgkc3RhdGVQYXJhbXMuYXNwaXJhbnRlSWQpID8gYXNwaXJhbnRlc1NlcnZpY2UuYXNwaXJhbnRlc1Jlc3QoKS5nZXQoe2lkOiAkc3RhdGVQYXJhbXMuYXNwaXJhbnRlSWR9KSA6IGZhbHNlO1xyXG4gIH1cclxuICBcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcclxuICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgIC5zdGF0ZSgnYXV0b3JpZGFkZXMnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9hdXRvcmlkYWRlc1wiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXV0b3JpZGFkZXMvbGlzdC9hdXRvcmlkYWRlcy5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0F1dG9yaWRhZGVzJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBhdXRvcmlkYWRlc1ByZXBTZXJ2aWNlOiBhdXRvcmlkYWRlc1ByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuc3RhdGUoJ2F1dG9yaWRhZGVzRGV0YWxsZScsIHtcclxuICAgICAgICB1cmw6IFwiL2F1dG9yaWRhZGVzLzphdXRvcmlkYWRJZFwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXV0b3JpZGFkZXMvZGV0YWlsL2F1dG9yaWRhZERldGFsbGUuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdBdXRvcmlkYWREZXRhbGxlJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBnZXRBdXRvcmlkYWRQcmVwU2VydmljZTogZ2V0QXV0b3JpZGFkUHJlcFNlcnZpY2UsXHJcbiAgICAgICAgICAgIGdldE1hcHNQcmVwU2VydmljZTogZ2V0TWFwc1ByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KS5cclxuICAgICAgc3RhdGUoJ2F1dG9yaWRhZGVzQ2FtYmlvcycsIHtcclxuICAgICAgICB1cmw6IFwiL2F1dG9yaWRhZGVzL2NhbWJpb3MvOmF1dG9yaWRhZElkXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdhdXRvcmlkYWRlcy9hZGRNb2RpZnkvYXV0b3JpZGFkQWRkTW9kaWZ5Lmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnQXV0b3JpZGFkQWRkTW9kaWZ5JyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBnZXRBdXRvcmlkYWRQcmVwU2VydmljZTogZ2V0QXV0b3JpZGFkUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYXV0b3JpZGFkZXNQcmVwU2VydmljZShhdXRvcmlkYWRlc1NlcnZpY2UpIHtcclxuICAgIHJldHVybiBhdXRvcmlkYWRlc1NlcnZpY2UuYXV0b3JpZGFkZXNSZXN0KCkucXVlcnkoKTtcclxuICB9XHJcblxyXG4gIFxyXG4gIGZ1bmN0aW9uIGdldEF1dG9yaWRhZFByZXBTZXJ2aWNlKGF1dG9yaWRhZGVzU2VydmljZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICByZXR1cm4gKCRzdGF0ZVBhcmFtcy5hdXRvcmlkYWRJZCkgPyBhdXRvcmlkYWRlc1NlcnZpY2UuYXV0b3JpZGFkZXNSZXN0KCkuZ2V0KHtpZDogJHN0YXRlUGFyYW1zLmF1dG9yaWRhZElkfSkgOiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldE1hcHNQcmVwU2VydmljZSh1aUdtYXBHb29nbGVNYXBBcGksIGdldEF1dG9yaWRhZFByZXBTZXJ2aWNlLCBtYXBhc1NlcnZpY2UpIHtcclxuICAgIHJldHVybiBnZXRBdXRvcmlkYWRQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBcclxuICAgICAgdmFyIGFkZHJlc3MgPSBkYXRhLmRpcmVjY2lvbi5jYWxsZSAgICAgKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGlyZWNjaW9uLm51bWVybyAgICArICcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5kaXJlY2Npb24ubXVuaWNpcGlvICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRpcmVjY2lvbi5wcm92aW5jaWEgKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGlyZWNjaW9uLmNwO1xyXG5cclxuICAgICAgcmV0dXJuIG1hcGFzU2VydmljZS5nZW9Db2RpbmdBUEkoYWRkcmVzcykuXHJcbiAgICAgICAgdGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5yZXN1bHRzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgIHZhciBjb29yZGluYXRlcyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbjtcclxuICAgICAgICAgICAgcmV0dXJuIHVpR21hcEdvb2dsZU1hcEFwaS50aGVuKGZ1bmN0aW9uKG1hcHMpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gIHtjb29yZDogIHsgbGF0aXR1ZGU6IGNvb3JkaW5hdGVzLmxhdCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBjb29yZGluYXRlcy5sbmcgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXI6IHsgbGF0aXR1ZGU6IGNvb3JkaW5hdGVzLmxhdCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBjb29yZGluYXRlcy5sbmcgfSxcclxuICAgICAgICAgICAgICAgICAgICAgIHpvb206IDE3IH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGNvbmZpZyk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xyXG4gICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgLnN0YXRlKCdjb2ZyYWRlcycsIHtcclxuICAgICAgICB1cmw6IFwiL2NvZnJhZGVzXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdjb2ZyYWRlcy9saXN0L2NvZnJhZGVzLmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnQ29mcmFkZXMnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIGNvZnJhZGVzUHJlcFNlcnZpY2U6IGNvZnJhZGVzUHJlcFNlcnZpY2UsXHJcbiAgICAgICAgICAgIGNvZnJhZGVzQmFqYXNQcmVwU2VydmljZTogY29mcmFkZXNCYWphc1ByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuc3RhdGUoJ2NvZnJhZGVzRGV0YWxsZScsIHtcclxuICAgICAgICB1cmw6IFwiL2NvZnJhZGVzLzpjb2ZyYWRlSWRcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2NvZnJhZGVzL2RldGFpbC9jb2ZyYWRlRGV0YWxsZS5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0NvZnJhZGVEZXRhbGxlJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBnZXRDb2ZyYWRlUHJlcFNlcnZpY2U6IGdldENvZnJhZGVQcmVwU2VydmljZSxcclxuICAgICAgICAgICAgZ2V0TWFwc1ByZXBTZXJ2aWNlOiBnZXRNYXBzUHJlcFNlcnZpY2UsXHJcbiAgICAgICAgICAgIG51bWVyb3NMb3RlcmlhUHJlcFNlcnZpY2U6IG51bWVyb3NMb3RlcmlhUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pLlxyXG4gICAgICBzdGF0ZSgnY29mcmFkZXNDYW1iaW9zJywge1xyXG4gICAgICAgIHVybDogXCIvY29mcmFkZXMvY2FtYmlvcy86Y29mcmFkZUlkXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdjb2ZyYWRlcy9hZGRNb2RpZnkvY29mcmFkZUFkZE1vZGlmeS5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0NvZnJhZGVBZGRNb2RpZnknLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIGdldENvZnJhZGVQcmVwU2VydmljZTogZ2V0Q29mcmFkZVByZXBTZXJ2aWNlLFxyXG4gICAgICAgICAgICBudW1lcm9zTG90ZXJpYVByZXBTZXJ2aWNlOiBudW1lcm9zTG90ZXJpYVByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNvZnJhZGVzUHJlcFNlcnZpY2UoY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzUmVzdCgpLnF1ZXJ5KCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjb2ZyYWRlc0JhamFzUHJlcFNlcnZpY2UoY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzQmFqYXNSZXN0KCkucXVlcnkoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldENvZnJhZGVQcmVwU2VydmljZShjb2ZyYWRlc1NlcnZpY2UsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgcmV0dXJuICgkc3RhdGVQYXJhbXMuY29mcmFkZUlkKSA/IGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5nZXQoe2lkOiAkc3RhdGVQYXJhbXMuY29mcmFkZUlkfSkgOiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIG51bWVyb3NMb3RlcmlhUHJlcFNlcnZpY2UobnVtZXJvc0xvdGVyaWFTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gbnVtZXJvc0xvdGVyaWFTZXJ2aWNlLm51bWVyb3NMb3RlcmlhUmVzdCgpLnF1ZXJ5KCk7XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGdldE1hcHNQcmVwU2VydmljZSh1aUdtYXBHb29nbGVNYXBBcGksIGdldENvZnJhZGVQcmVwU2VydmljZSwgbWFwYXNTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gZ2V0Q29mcmFkZVByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIFxyXG4gICAgICB2YXIgYWRkcmVzcyA9IGRhdGEuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jYWxsZSAgICAgKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5udW1lcm8gICAgKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5tdW5pY2lwaW8gKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5wcm92aW5jaWEgKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jcDtcclxuXHJcbiAgICAgIHJldHVybiBtYXBhc1NlcnZpY2UuZ2VvQ29kaW5nQVBJKGFkZHJlc3MpLlxyXG4gICAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucmVzdWx0cy5sZW5ndGgpe1xyXG4gICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSByZXNwb25zZS5kYXRhLnJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb247XHJcbiAgICAgICAgICAgIHJldHVybiB1aUdtYXBHb29nbGVNYXBBcGkudGhlbihmdW5jdGlvbihtYXBzKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuICB7Y29vcmQ6ICB7IGxhdGl0dWRlOiBjb29yZGluYXRlcy5sYXQsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogY29vcmRpbmF0ZXMubG5nIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyOiB7IGxhdGl0dWRlOiBjb29yZGluYXRlcy5sYXQsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogY29vcmRpbmF0ZXMubG5nIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxNyB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoY29uZmlnKTtcclxuXHJcbiAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAuc3RhdGUoJ2Nvc3RhbGVyb3MnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9jb3N0YWxlcm9zXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdjb3N0YWxlcm9zL2xpc3QvY29zdGFsZXJvcy5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0Nvc3RhbGVyb3MnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIGNvc3RhbGVyb3NQcmVwU2VydmljZTogY29zdGFsZXJvc1ByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuc3RhdGUoJ2Nvc3RhbGVyb3NEZXRhbGxlJywge1xyXG4gICAgICAgIHVybDogXCIvY29zdGFsZXJvcy86Y29zdGFsZXJvSWRcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2Nvc3RhbGVyb3MvZGV0YWlsL2Nvc3RhbGVyb0RldGFsbGUuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb3N0YWxlcm9EZXRhbGxlJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBnZXRDb3N0YWxlcm9QcmVwU2VydmljZTogZ2V0Q29zdGFsZXJvUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pLlxyXG4gICAgICBzdGF0ZSgnY29zdGFsZXJvc0NhbWJpb3MnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9jb3N0YWxlcm9zL2NhbWJpb3MvOmNvc3RhbGVyb0lkXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdjb3N0YWxlcm9zL2FkZE1vZGlmeS9jb3N0YWxlcm9BZGRNb2RpZnkuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb3N0YWxlcm9BZGRNb2RpZnknLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIGdldENvc3RhbGVyb1ByZXBTZXJ2aWNlOiBnZXRDb3N0YWxlcm9QcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjb3N0YWxlcm9zUHJlcFNlcnZpY2UoY29zdGFsZXJvc1NlcnZpY2UpIHtcclxuICAgIHJldHVybiBjb3N0YWxlcm9zU2VydmljZS5jb3N0YWxlcm9zUmVzdCgpLnF1ZXJ5KCk7XHJcbiAgfVxyXG5cclxuICBcclxuICBmdW5jdGlvbiBnZXRDb3N0YWxlcm9QcmVwU2VydmljZShjb3N0YWxlcm9zU2VydmljZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICByZXR1cm4gKCRzdGF0ZVBhcmFtcy5jb3N0YWxlcm9JZCkgPyBjb3N0YWxlcm9zU2VydmljZS5jb3N0YWxlcm9zUmVzdCgpLmdldCh7aWQ6ICRzdGF0ZVBhcmFtcy5jb3N0YWxlcm9JZH0pIDogZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGNvbmZpZyk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xyXG4gICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgLnN0YXRlKCdkaXJlY3Rpdm9zJywge1xyXG4gICAgICAgIHVybDogXCIvZGlyZWN0aXZvc1wiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnZGlyZWN0aXZvcy9saXN0L2RpcmVjdGl2b3MuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdEaXJlY3Rpdm9zJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBkaXJlY3Rpdm9zUHJlcFNlcnZpY2U6IGRpcmVjdGl2b3NQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLnN0YXRlKCdkaXJlY3Rpdm9zRGV0YWxsZScsIHtcclxuICAgICAgICB1cmw6IFwiL2RpcmVjdGl2b3MvOmRpcmVjdGl2b0lkXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdkaXJlY3Rpdm9zL2RldGFpbC9kaXJlY3Rpdm9EZXRhbGxlLmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnRGlyZWN0aXZvRGV0YWxsZScsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZ2V0RGlyZWN0aXZvUHJlcFNlcnZpY2U6IGdldERpcmVjdGl2b1ByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KS5cclxuICAgICAgc3RhdGUoJ2RpcmVjdGl2b3NDYW1iaW9zJywge1xyXG4gICAgICAgIHVybDogXCIvZGlyZWN0aXZvcy9jYW1iaW9zLzpkaXJlY3Rpdm9JZFwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnZGlyZWN0aXZvcy9hZGRNb2RpZnkvZGlyZWN0aXZvQWRkTW9kaWZ5Lmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnRGlyZWN0aXZvQWRkTW9kaWZ5JyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBnZXREaXJlY3Rpdm9QcmVwU2VydmljZTogZ2V0RGlyZWN0aXZvUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZGlyZWN0aXZvc1ByZXBTZXJ2aWNlKGRpcmVjdGl2b3NTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gZGlyZWN0aXZvc1NlcnZpY2UuZGlyZWN0aXZvc1Jlc3QoKS5xdWVyeSgpO1xyXG4gIH1cclxuXHJcbiAgXHJcbiAgZnVuY3Rpb24gZ2V0RGlyZWN0aXZvUHJlcFNlcnZpY2UoZGlyZWN0aXZvc1NlcnZpY2UsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgcmV0dXJuICgkc3RhdGVQYXJhbXMuZGlyZWN0aXZvSWQpID8gZGlyZWN0aXZvc1NlcnZpY2UuZGlyZWN0aXZvc1Jlc3QoKS5nZXQoe2lkOiAkc3RhdGVQYXJhbXMuZGlyZWN0aXZvSWR9KSA6IGZhbHNlO1xyXG4gIH1cclxuICBcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcclxuICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgIC5zdGF0ZSgnZ2FzdG9zQmFuY2FyaW9zJywge1xyXG4gICAgICAgIHVybDogXCIvZ2FzdG9zQmFuY2FyaW9zXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdnYXN0b3NCYW5jYXJpb3MvbW9kaWZ5L2dhc3RvQmFuY2FyaW9Nb2RpZnkuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdHYXN0b3NCYW5jYXJpb3MnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIGdhc3Rvc0JhbmNhcmlvc1ByZXBTZXJ2aWNlOiBnYXN0b3NCYW5jYXJpb3NQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnYXN0b3NCYW5jYXJpb3NQcmVwU2VydmljZShnYXN0b3NCYW5jYXJpb3NTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gZ2FzdG9zQmFuY2FyaW9zU2VydmljZS5nYXN0b3NCYW5jYXJpb3NSZXN0KCkucXVlcnkoKTtcclxuICB9XHJcbiAgXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0FwcEN0cmwnLCBBcHBDdHJsKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIEFwcEN0cmwoJG1kU2lkZW5hdiwgJHN0YXRlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgdm0udG9nZ2xlU2lkZW5hdiA9IHRvZ2dsZVNpZGVuYXY7XHJcbiAgICB2bS5jbG9zZVNpZGVuYXYgPSBjbG9zZVNpZGVuYXY7XHJcbiAgICB2bS5uYXZpZ2F0ZVRvICAgID0gbmF2aWdhdGVUbztcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gdG9nZ2xlU2lkZW5hdihtZW51SWQpIHtcclxuICAgICAgJG1kU2lkZW5hdihtZW51SWQpLnRvZ2dsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsb3NlU2lkZW5hdihtZW51SWQpIHtcclxuICAgICAgJG1kU2lkZW5hdihtZW51SWQpLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmF2aWdhdGVUbyh0bywgbWVudUlkKXtcclxuICAgICAgY2xvc2VTaWRlbmF2KG1lbnVJZCk7XHJcbiAgICAgICRzdGF0ZS5nbyh0byk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgLyogZ2xvYmFscyBsb2dpbkZvcm06IGZhbHNlICovXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0xvZ2luJywgTG9naW4pO1xyXG5cclxuICBmdW5jdGlvbiBMb2dpbigkc2NvcGUsICRodHRwLCAkaHR0cFBhcmFtU2VyaWFsaXplciwgJGNvbXBpbGUsICRzdGF0ZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0ucHJvY2Vzc0Zvcm0gPSBwcm9jZXNzRm9ybTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm9jZXNzRm9ybSgpIHtcclxuICAgICAgJGh0dHAoe1xyXG4gICAgICAgIG1ldGhvZCAgOiAnUE9TVCcsXHJcbiAgICAgICAgdXJsICAgICA6ICcvbG9naW4vJyxcclxuICAgICAgICBkYXRhICAgIDogJGh0dHBQYXJhbVNlcmlhbGl6ZXIoe2NzcmZtaWRkbGV3YXJldG9rZW46IGxvZ2luRm9ybS5jc3JmbWlkZGxld2FyZXRva2VuLnZhbHVlLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBsb2dpbkZvcm0udXNlcm5hbWUudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogbG9naW5Gb3JtLnBhc3N3b3JkLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDogbG9naW5Gb3JtLm5leHQudmFsdWV9KSxcclxuICAgICAgICBoZWFkZXJzIDogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfSBcclxuICAgICAgfSlcclxuICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIGlmIChkYXRhID09PSAnTG9naW4nKSB7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ2hvbWUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWQtY29udGVudFt1aS12aWV3XScpKTtcclxuICAgICAgICBlbGVtZW50WzBdLmlubmVySFRNTCA9IGRhdGE7XHJcbiAgICAgICAgJGNvbXBpbGUoZWxlbWVudC5jb250ZW50cygpKSgkc2NvcGUpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGNvbmZpZyk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xyXG4gICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgLnN0YXRlKCdsb2dpbicsIHtcclxuICAgICAgICB1cmw6IFwiL2xvZ2luXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJGh0dHAsICRsb2NhdGlvbil7ICBcclxuICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6JyskbG9jYXRpb24ucG9ydCgpKycvbG9naW4nKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UuZGF0YTt9KTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnTG9naW4nLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgfSk7XHJcbiAgfVxyXG4gIFxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGNvbmZpZyk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xyXG4gICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgLnN0YXRlKCdudW1lcm9zTG90ZXJpYScsIHtcclxuICAgICAgICB1cmw6IFwiL251bWVyb3NMb3RlcmlhXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdudW1lcm9zTG90ZXJpYS9tb2RpZnkvbnVtZXJvc0xvdGVyaWFNb2RpZnkuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdOdW1lcm9zTG90ZXJpYScsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgbnVtZXJvc0xvdGVyaWFQcmVwU2VydmljZTogbnVtZXJvc0xvdGVyaWFQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBudW1lcm9zTG90ZXJpYVByZXBTZXJ2aWNlKG51bWVyb3NMb3RlcmlhU2VydmljZSkge1xyXG4gICAgcmV0dXJuIG51bWVyb3NMb3RlcmlhU2VydmljZS5udW1lcm9zTG90ZXJpYVJlc3QoKS5xdWVyeSgpO1xyXG4gIH1cclxuICBcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcclxuICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgIC5zdGF0ZSgncGFwZWxldGFzU2l0aW9zJywge1xyXG4gICAgICAgIHVybDogXCIvcGFwZWxldGFzU2l0aW9zXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdwYXBlbGV0YXNTaXRpb3MvbGlzdC9wYXBlbGV0YXNTaXRpb3MuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdQYXBlbGV0YXNTaXRpb3MnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIHBhcGVsZXRhc1NpdGlvc1ByZXBTZXJ2aWNlOiBwYXBlbGV0YXNTaXRpb3NQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSkuXHJcbiAgICAgIHN0YXRlKCdwYXBlbGV0YXNTaXRpb3NDYW1iaW9zJywge1xyXG4gICAgICAgIHVybDogXCIvcGFwZWxldGFzU2l0aW9zL2NhbWJpb3NcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3BhcGVsZXRhc1NpdGlvcy9hZGRNb2RpZnkvcGFwZWxldGFTaXRpb0FkZE1vZGlmeS5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ1BhcGVsZXRhU2l0aW9BZGRNb2RpZnknLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBwYXBlbGV0YXNTaXRpb3NQcmVwU2VydmljZShwYXBlbGV0YXNTaXRpb3NTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gcGFwZWxldGFzU2l0aW9zU2VydmljZS5wYXBlbGV0YXNTaXRpb3NSZXN0KCkucXVlcnkoe2FuaW9zOiB0cnVlfSk7XHJcbiAgfVxyXG4gIFxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGNvbmZpZyk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xyXG4gICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgLnN0YXRlKCdzZWN0b3JlcycsIHtcclxuICAgICAgICB1cmw6IFwiL3NlY3RvcmVzXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdzZWN0b3Jlcy9saXN0L3NlY3RvcmVzLmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnU2VjdG9yZXMnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIHNlY3RvcmVzUHJlcFNlcnZpY2U6IHNlY3RvcmVzUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pLlxyXG4gICAgICBzdGF0ZSgnc2VjdG9yZXNDYW1iaW9zJywge1xyXG4gICAgICAgIHVybDogXCIvc2VjdG9yZXMvY2FtYmlvcy86c2VjdG9ySWQvOmNhbGxlXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdzZWN0b3Jlcy9hZGRNb2RpZnkvc2VjdG9yQWRkTW9kaWZ5Lmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnU2VjdG9yQWRkTW9kaWZ5JyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBnZXRTZWN0b3JQcmVwU2VydmljZTogZ2V0U2VjdG9yUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2VjdG9yZXNQcmVwU2VydmljZShzZWN0b3Jlc1NlcnZpY2UpIHtcclxuICAgIHJldHVybiBzZWN0b3Jlc1NlcnZpY2Uuc2VjdG9yZXNSZXN0KCkucXVlcnkoKTtcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gZ2V0U2VjdG9yUHJlcFNlcnZpY2Uoc2VjdG9yZXNTZXJ2aWNlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgIHJldHVybiAoJHN0YXRlUGFyYW1zLnNlY3RvcklkKSA/IHNlY3RvcmVzU2VydmljZS5zZWN0b3Jlc1Jlc3QoKS5nZXQoe2lkOiAkc3RhdGVQYXJhbXMuc2VjdG9ySWR9KSA6IGZhbHNlO1xyXG4gIH1cclxuICBcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQXNwaXJhbnRlQWRkTW9kaWZ5JywgQXNwaXJhbnRlQWRkTW9kaWZ5KTtcclxuXHJcbiAgZnVuY3Rpb24gQXNwaXJhbnRlQWRkTW9kaWZ5KCRzY29wZSwgJGRvY3VtZW50LCAkbWRUb2FzdCwgJHN0YXRlLCBnZXRBc3BpcmFudGVQcmVwU2VydmljZSwgYXNwaXJhbnRlc1NlcnZpY2UsIGNvZnJhZGVzU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0ubmV3Q29mcmFkZSA9IGZhbHNlO1xyXG5cclxuICAgIHZtLmJhY2tTdGF0ZSAgICAgICAgICA9IGJhY2tTdGF0ZTtcclxuICAgIHZtLnF1ZXJ5U2VhcmNoICAgICAgICA9IHF1ZXJ5U2VhcmNoO1xyXG4gICAgdm0uc2VsZWN0ZWRJdGVtQ2hhbmdlID0gc2VsZWN0ZWRJdGVtQ2hhbmdlO1xyXG4gICAgdm0uZ3VhcmRhciAgICAgICAgICAgID0gZ3VhcmRhcjtcclxuXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICBpZiAoZ2V0QXNwaXJhbnRlUHJlcFNlcnZpY2Upe1xyXG4gICAgICAgIGdldEFzcGlyYW50ZVByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oaW5pdEFzcGlyYW50ZSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICBuZXdBc3BpcmFudGUoKTtcclxuICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbml0QXNwaXJhbnRlKGRhdGEpIHtcclxuICAgICAgdm0uYXNwaXJhbnRlID0gZGF0YTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmV3QXNwaXJhbnRlKCkge1xyXG4gICAgICB2bS5uZXdDb2ZyYWRlID0gdHJ1ZTtcclxuICAgICAgdm0uYXNwaXJhbnRlID0ge2NvZnJhZGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICBmZWNoYTogbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKX07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYmFja1N0YXRlKCkge1xyXG4gICAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcXVlcnlTZWFyY2gocXVlcnkpIHtcclxuICAgICAgdmFyIGZpbHRybyA9IHt9O1xyXG4gICAgICBpZiAoaXNOYU4ocXVlcnkpKVxyXG4gICAgICAgIGZpbHRyby5ub21icmUgPSBxdWVyeTtcclxuICAgICAgZWxzZSBpZighaXNOYU4ocXVlcnkpKVxyXG4gICAgICAgIGZpbHRyby5udW1lcm9PcmRlbiA9IHF1ZXJ5O1xyXG5cclxuICAgICAgcmV0dXJuIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5xdWVyeShmaWx0cm8pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnJlc3VsdHM7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdGVkSXRlbUNoYW5nZShpdGVtKSB7XHJcbiAgICAgIHZtLmFzcGlyYW50ZS5jb2ZyYWRlID0gIGl0ZW0gPyBpdGVtLmlkIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyKGlzVmFsaWQpIHtcclxuICAgICAgaWYoaXNWYWxpZCl7XHJcbiAgICAgICAgaWYgKCF2bS5hc3BpcmFudGUuY29mcmFkZSl7XHJcbiAgICAgICAgICAkc2NvcGUuYXNwaXJhbnRlRm9ybS5jb2ZyYWRlLiRlcnJvci5yZXF1aXJlZCA9IHRydWU7XHJcbiAgICAgICAgICBzaG93QWN0aW9uVG9hc3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgIHZtLmFzcGlyYW50ZS5jb2ZyYWRlID0gdm0uYXNwaXJhbnRlLmNvZnJhZGUuaWQgPyB2bS5hc3BpcmFudGUuY29mcmFkZS5pZCA6IHZtLmFzcGlyYW50ZS5jb2ZyYWRlO1xyXG4gICAgICAgICAgYXNwaXJhbnRlc1NlcnZpY2UuYXNwaXJhbnRlc1Jlc3QoKS5zYXZlKHZtLmFzcGlyYW50ZSwgZ3VhcmRhclN1Y2Nlc3MsIGd1YXJkYXJFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2VcclxuICAgICAgICBzaG93QWN0aW9uVG9hc3QoKTtcclxuICAgIH1cclxuICAgICAgXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyU3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnR3VhcmRhZG8gY29uIMOpeGl0byEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgICAgJHN0YXRlLmdvKCdhc3BpcmFudGVzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhckVycm9yKHJlc3BvbnNlKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFcnJvciBhbCBndWFyZGFyISEnKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHNob3dBY3Rpb25Ub2FzdCgpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0V4aXN0ZW4gZXJyb3JlcyBlbiBlbCBmb3JtdWxhcmlvJylcclxuICAgICAgICAgIC5hY3Rpb24oJ09LJylcclxuICAgICAgICAgIC5oaWdobGlnaHRBY3Rpb24oZmFsc2UpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdBc3BpcmFudGVEZXRhbGxlJywgQXNwaXJhbnRlRGV0YWxsZSk7XHJcblxyXG4gIGZ1bmN0aW9uIEFzcGlyYW50ZURldGFsbGUoJHN0YXRlLCBnZXRBc3BpcmFudGVQcmVwU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5tb2RpZnlBc3BpcmFudGUgPSBtb2RpZnlBc3BpcmFudGU7XHJcbiAgICBcclxuICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIHJldHVybiBnZXRBc3BpcmFudGVQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLmFzcGlyYW50ZSA9IGRhdGE7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUFzcGlyYW50ZShpZCwgZXZlbnQpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2FzcGlyYW50ZXNDYW1iaW9zJywge2FzcGlyYW50ZUlkOiBpZH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0FzcGlyYW50ZXMnLCBBc3BpcmFudGVzKTtcclxuXHJcbiAgZnVuY3Rpb24gQXNwaXJhbnRlcyhhc3BpcmFudGVzUHJlcFNlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLmFzcGlyYW50ZXMgPSBudWxsO1xyXG4gICAgYWN0aXZhdGUoKTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIHJldHVybiBhc3BpcmFudGVzUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5hc3BpcmFudGVzID0gZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0F1dG9yaWRhZEFkZE1vZGlmeScsIEF1dG9yaWRhZEFkZE1vZGlmeSk7XHJcblxyXG4gIGZ1bmN0aW9uIEF1dG9yaWRhZEFkZE1vZGlmeSgkc2NvcGUsICRkb2N1bWVudCwgJG1kVG9hc3QsICRzdGF0ZSwgZ2V0QXV0b3JpZGFkUHJlcFNlcnZpY2UsIGF1dG9yaWRhZGVzU2VydmljZSwgY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5uZXdDb2ZyYWRlID0gZmFsc2U7XHJcblxyXG4gICAgdm0uYmFja1N0YXRlICAgICAgICAgID0gYmFja1N0YXRlO1xyXG4gICAgdm0ucXVlcnlTZWFyY2ggICAgICAgID0gcXVlcnlTZWFyY2g7XHJcbiAgICB2bS5zZWxlY3RlZEl0ZW1DaGFuZ2UgPSBzZWxlY3RlZEl0ZW1DaGFuZ2U7XHJcbiAgICB2bS5ndWFyZGFyICAgICAgICAgICAgPSBndWFyZGFyO1xyXG5cclxuICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIGlmIChnZXRBdXRvcmlkYWRQcmVwU2VydmljZSl7XHJcbiAgICAgICAgZ2V0QXV0b3JpZGFkUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihpbml0QXV0b3JpZGFkKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNle1xyXG4gICAgICAgIG5ld0F1dG9yaWRhZCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRBdXRvcmlkYWQoZGF0YSkge1xyXG4gICAgICB2bS5hdXRvcmlkYWQgPSBkYXRhO1xyXG4gICAgICB2bS5jYWxsZVNlbGVjdGVkID0ge2NhbGxlOiB2bS5hdXRvcmlkYWQuZGlyZWNjaW9uLmNhbGxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNwOiB2bS5hdXRvcmlkYWQuZGlyZWNjaW9uLmNwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpbmNpYTogdm0uYXV0b3JpZGFkLmRpcmVjY2lvbi5wcm92aW5jaWEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbXVuaWNpcGlvOiB2bS5hdXRvcmlkYWQuZGlyZWNjaW9uLm11bmljaXBpb307XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG5ld0F1dG9yaWRhZCgpIHtcclxuICAgICAgdm0ubmV3Q29mcmFkZSA9IHRydWU7XHJcbiAgICAgIHZtLmF1dG9yaWRhZCA9IHtkaXJlY2Npb246IHt9fTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBiYWNrU3RhdGUoKSB7XHJcbiAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBxdWVyeVNlYXJjaChxdWVyeSkge1xyXG4gICAgICByZXR1cm4gY29mcmFkZXNTZXJ2aWNlLmdldENhbGxlcyhxdWVyeSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlLmRhdGE7fSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0ZWRJdGVtQ2hhbmdlKGl0ZW0pIHtcclxuICAgICAgaWYgKGl0ZW0pe1xyXG4gICAgICAgIHZtLmF1dG9yaWRhZC5kaXJlY2Npb24uY2FsbGUgPSBpdGVtLmNhbGxlO1xyXG4gICAgICAgIHZtLmF1dG9yaWRhZC5kaXJlY2Npb24ubXVuaWNpcGlvID0gaXRlbS5tdW5pY2lwaW87XHJcbiAgICAgICAgdm0uYXV0b3JpZGFkLmRpcmVjY2lvbi5jcCA9IGl0ZW0uY3A7XHJcbiAgICAgICAgdm0uYXV0b3JpZGFkLmRpcmVjY2lvbi5wcm92aW5jaWEgPSBpdGVtLnByb3ZpbmNpYTtcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgdm0uYXV0b3JpZGFkLmRpcmVjY2lvbi5jYWxsZSA9IG51bGw7XHJcbiAgICAgICAgdm0uYXV0b3JpZGFkLmRpcmVjY2lvbi5tdW5pY2lwaW8gPSBudWxsO1xyXG4gICAgICAgIHZtLmF1dG9yaWRhZC5kaXJlY2Npb24uY3AgPSBudWxsO1xyXG4gICAgICAgIHZtLmF1dG9yaWRhZC5kaXJlY2Npb24ucHJvdmluY2lhID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXIoaXNWYWxpZCkge1xyXG4gICAgICBpZihpc1ZhbGlkKXtcclxuICAgICAgICB2bS5hdXRvcmlkYWQuZGlyZWNjaW9uLmNhbGxlID0gdm0uYXV0b3JpZGFkLmRpcmVjY2lvbi5jYWxsZSA/IHZtLmF1dG9yaWRhZC5kaXJlY2Npb24uY2FsbGUgOiB2bS5zZWFyY2hUZXh0O1xyXG4gICAgICAgIGF1dG9yaWRhZGVzU2VydmljZS5hdXRvcmlkYWRlc1Jlc3QoKS5zYXZlKHZtLmF1dG9yaWRhZCwgZ3VhcmRhclN1Y2Nlc3MsIGd1YXJkYXJFcnJvcik7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZVxyXG4gICAgICAgIHNob3dBY3Rpb25Ub2FzdCgpO1xyXG4gICAgfVxyXG4gICAgICBcclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJTdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdHdWFyZGFkbyBjb24gw6l4aXRvISEnKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgICAkc3RhdGUuZ28oJ2F1dG9yaWRhZGVzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhckVycm9yKHJlc3BvbnNlKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFcnJvciBhbCBndWFyZGFyISEnKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHNob3dBY3Rpb25Ub2FzdCgpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0V4aXN0ZW4gZXJyb3JlcyBlbiBlbCBmb3JtdWxhcmlvJylcclxuICAgICAgICAgIC5hY3Rpb24oJ09LJylcclxuICAgICAgICAgIC5oaWdobGlnaHRBY3Rpb24oZmFsc2UpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdBdXRvcmlkYWREZXRhbGxlJywgQXV0b3JpZGFkRGV0YWxsZSk7XHJcblxyXG4gIGZ1bmN0aW9uIEF1dG9yaWRhZERldGFsbGUoJHN0YXRlLCBnZXRBdXRvcmlkYWRQcmVwU2VydmljZSwgZ2V0TWFwc1ByZXBTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLm1vZGlmeUF1dG9yaWRhZCA9IG1vZGlmeUF1dG9yaWRhZDtcclxuICAgIFxyXG4gICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgcmV0dXJuIGdldEF1dG9yaWRhZFByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0uYXV0b3JpZGFkID0gZGF0YTtcclxuICAgICAgICB2bS5tYXBzID0gZ2V0TWFwc1ByZXBTZXJ2aWNlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtb2RpZnlBdXRvcmlkYWQoaWQsIGV2ZW50KXtcclxuICAgICAgJHN0YXRlLmdvKCdhdXRvcmlkYWRlc0NhbWJpb3MnLCB7YXV0b3JpZGFkSWQ6IGlkfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQXV0b3JpZGFkZXMnLCBBdXRvcmlkYWRlcyk7XHJcblxyXG4gIGZ1bmN0aW9uIEF1dG9yaWRhZGVzKGF1dG9yaWRhZGVzUHJlcFNlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLmF1dG9yaWRhZGVzID0gbnVsbDtcclxuICAgIGFjdGl2YXRlKCk7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICByZXR1cm4gYXV0b3JpZGFkZXNQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLmF1dG9yaWRhZGVzID0gZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0NvZnJhZGVBZGRNb2RpZnknLCBDb2ZyYWRlQWRkTW9kaWZ5KTtcclxuXHJcbiAgZnVuY3Rpb24gQ29mcmFkZUFkZE1vZGlmeSgkZmlsdGVyLCAkZG9jdW1lbnQsICRtZFRvYXN0LCAkc3RhdGUsIGdldENvZnJhZGVQcmVwU2VydmljZSwgY29mcmFkZXNTZXJ2aWNlLCBudW1lcm9zTG90ZXJpYVByZXBTZXJ2aWNlLCBzZWN0b3Jlc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLm51ZXZhQ2FsbGUgPSB0cnVlO1xyXG4gICAgdm0uc2VhcmNoVGV4dCA9ICdjYWxsZSc7XHJcbiAgICB2bS5jb2ZyYWRlID0ge2RhdG9zRmluYW5jaWVyb3M6IHtjdWVudGE6IHt9LCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldWRhOiBbXX0sXHJcbiAgICAgICAgICAgICAgICAgIGRhdG9zUGVyc29uYWxlczogIHtkaXJlY2Npb246IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V4bzogXCJIb21icmVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlY2hhSW5zY3JpcGNpb246IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWNoYU5hY2ltaWVudG86IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9XHJcbiAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICB2bS5iYWNrU3RhdGUgICAgICAgICAgPSBiYWNrU3RhdGU7XHJcbiAgICB2bS5xdWVyeVNlYXJjaCAgICAgICAgPSBxdWVyeVNlYXJjaDtcclxuICAgIHZtLnNlbGVjdGVkSXRlbUNoYW5nZSA9IHNlbGVjdGVkSXRlbUNoYW5nZTtcclxuICAgIHZtLmNhbGN1bGFyQ0MgICAgICAgICA9IGNhbGN1bGFyQ0M7XHJcbiAgICB2bS5jYWxjdWxhckliYW4gICAgICAgPSBjYWxjdWxhckliYW47XHJcbiAgICB2bS5ndWFyZGFyICAgICAgICAgICAgPSBndWFyZGFyO1xyXG5cclxuICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIG51bWVyb3NMb3RlcmlhUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5udW1lcm9zTG90ZXJpYSA9IGRhdGFbMF07XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgaWYgKGdldENvZnJhZGVQcmVwU2VydmljZSl7XHJcbiAgICAgICAgZ2V0Q29mcmFkZVByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oaW5pdENvZnJhZGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgY29mcmFkZXNTZXJ2aWNlLmdldFJlZ2lzdHJvcygpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uY29mcmFkZS5udW1lcm9PcmRlbiA9IHJlc3BvbnNlLmRhdGEubnVtZXJvT3JkZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5jb2ZyYWRlLm51bWVyb0NvZnJhZGUgPSByZXNwb25zZS5kYXRhLm51bWVyb0NvZnJhZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdENvZnJhZGUoZGF0YSkge1xyXG4gICAgICB2bS5jb2ZyYWRlID0gZGF0YTtcclxuICAgICAgdm0uY2FsbGVTZWxlY3RlZCA9IHtjYWxsZTogdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLmNhbGxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNwOiB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY3AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmluY2lhOiB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ucHJvdmluY2lhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG11bmljaXBpbzogdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLm11bmljaXBpb307XHJcblxyXG4gICAgICB2bS5mZWNoYU5hY2ltaWVudG8gPSB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5mZWNoYU5hY2ltaWVudG87XHJcbiAgICAgIHZtLmZlY2hhSW5zY3JpcGNpb24gPSB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5mZWNoYUluc2NyaXBjaW9uO1xyXG4gICAgICB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MgPSB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MgfHwge2N1ZW50YToge30sIGRldWRhOiBbXX07XHJcbiAgICAgIHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEgPSB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhIHx8IHt9O1xyXG4gICAgICB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuZGV1ZGEgPSB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuZGV1ZGEgfHwgW107XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGJhY2tTdGF0ZSgpIHtcclxuICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHF1ZXJ5U2VhcmNoKHF1ZXJ5KSB7XHJcbiAgICAgIHJldHVybiBjb2ZyYWRlc1NlcnZpY2UuZ2V0Q2FsbGVzKHF1ZXJ5KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UuZGF0YTt9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWxlY3RlZEl0ZW1DaGFuZ2UoaXRlbSkge1xyXG4gICAgICBpZiAoaXRlbSl7XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLmNhbGxlID0gaXRlbS5jYWxsZTtcclxuICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ubXVuaWNpcGlvID0gaXRlbS5tdW5pY2lwaW87XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLmNwID0gaXRlbS5jcDtcclxuICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ucHJvdmluY2lhID0gaXRlbS5wcm92aW5jaWE7XHJcbiAgICAgICAgc2VhcmNoU2VjdG9yKGl0ZW0uY2FsbGUpO1xyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY2FsbGUgPSBudWxsO1xyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5tdW5pY2lwaW8gPSBudWxsO1xyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jcCA9IG51bGw7XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLnByb3ZpbmNpYSA9IG51bGw7XHJcbiAgICAgICAgdm0uc2VjdG9yID0gbnVsbDtcclxuICAgICAgICB2bS5udWV2YUNhbGxlID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzZWFyY2hTZWN0b3IoY2FsbGUpIHtcclxuICAgICAgc2VjdG9yZXNTZXJ2aWNlLnNlY3RvcmVzUmVzdCgpLnF1ZXJ5KHtjYWxsZTogY2FsbGV9LCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5zZWN0b3IgPSBkYXRhWzBdLm51bWVyb1NlY3RvcjtcclxuICAgICAgICB2bS5udWV2YUNhbGxlID0gZmFsc2U7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNhbGN1bGFyQ0MoKSB7XHJcbiAgICAgIGlmICh2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhLmliYW4pXHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5jYyA9ICRmaWx0ZXIoJ2NhbGN1bGFyQ0MnKSh2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhLmliYW4pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNhbGN1bGFySWJhbigpIHtcclxuICAgICAgaWYgKHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuY2MpXHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5pYmFuID0gJGZpbHRlcignY2FsY3VsYXJJYmFuJykodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5jYyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhcihpc1ZhbGlkKSB7XHJcbiAgICAgIGlmKGlzVmFsaWQpe1xyXG4gICAgICAgIHZhciBkYXRvc0ZpbmFuY2llcm9zID0ge2N1ZW50YToge30sIGRldWRhOiBbXX07XHJcblxyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jYWxsZSA9IHZtLnNlYXJjaFRleHQ7XHJcblxyXG4gICAgICAgIGlmIChKU09OLnN0cmluZ2lmeSh2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MpID09PSBKU09OLnN0cmluZ2lmeShkYXRvc0ZpbmFuY2llcm9zKSlcclxuICAgICAgICAgIGRlbGV0ZSB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3M7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIENvZnJhZGVSZXNvdXJjZSA9IGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKTtcclxuICAgICAgICBpZih2bS5udWV2YUNhbGxlKXtcclxuICAgICAgICAgIGd1YXJkYXJDYWxsZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgZ3VhcmRhckNvZnJhZGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZVxyXG4gICAgICAgIHNob3dBY3Rpb25Ub2FzdCgpO1xyXG4gICAgICBcclxuICAgICAgZnVuY3Rpb24gZ3VhcmRhckNvZnJhZGUoKXtcclxuICAgICAgICBDb2ZyYWRlUmVzb3VyY2Uuc2F2ZSh2bS5jb2ZyYWRlLCBndWFyZGFyU3VjY2VzcywgZ3VhcmRhckVycm9yKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gZ3VhcmRhckNhbGxlKCkge1xyXG4gICAgICAgIHNlY3RvcmVzU2VydmljZS5zZWN0b3Jlc1Jlc3QoKS5nZXQoe3NlY3Rvcjogdm0uc2VjdG9yfSwgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICB2YXIgc2VjdG9yUmVzb3VyY2UgPSAgZGF0YVswXTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYoc2VjdG9yUmVzb3VyY2Upe1xyXG4gICAgICAgICAgICBzZWN0b3JSZXNvdXJjZS5jb2ZyYWRlID0gc2VjdG9yUmVzb3VyY2UuY29mcmFkZS5pZDtcclxuICAgICAgICAgICAgc2VjdG9yUmVzb3VyY2UuY2FsbGVzLnB1c2godm0uc2VhcmNoVGV4dCk7XHJcbiAgICAgICAgICAgIHNlY3RvclJlc291cmNlLiRzYXZlKG51bGwsIGd1YXJkYXJDb2ZyYWRlLCBndWFyZGFyRXJyb3IpOyAgICAgICAgICAgIFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgICAgICAgLmNvbnRlbnQoJ0VsIHNlY3RvciAnICt2bS5zZWN0b3IrICcgbm8gZXhpc3RlISEnKVxyXG4gICAgICAgICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyU3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnR3VhcmRhZG8gY29uIMOpeGl0byEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgICAgJHN0YXRlLmdvKCdjb2ZyYWRlcycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJFcnJvcihyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXJyb3IgYWwgZ3VhcmRhciEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzaG93QWN0aW9uVG9hc3QoKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFeGlzdGVuIGVycm9yZXMgZW4gZWwgZm9ybXVsYXJpbycpXHJcbiAgICAgICAgICAuYWN0aW9uKCdPSycpXHJcbiAgICAgICAgICAuaGlnaGxpZ2h0QWN0aW9uKGZhbHNlKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQ29mcmFkZURldGFsbGUnLCBDb2ZyYWRlRGV0YWxsZSk7XHJcblxyXG4gIGZ1bmN0aW9uIENvZnJhZGVEZXRhbGxlKCRzdGF0ZSwgJGZpbHRlciwgZ2V0Q29mcmFkZVByZXBTZXJ2aWNlLCBnZXRNYXBzUHJlcFNlcnZpY2UsIG51bWVyb3NMb3RlcmlhUHJlcFNlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgdm0uY29mcmFkZSA9IG51bGw7XHJcbiAgICB2bS5tYXBzID0gbnVsbDtcclxuICAgIFxyXG4gICAgdm0ubW9kaWZ5Q29mcmFkZSA9IG1vZGlmeUNvZnJhZGU7XHJcbiAgICBcclxuICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIG51bWVyb3NMb3RlcmlhUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5udW1lcm9zTG90ZXJpYSA9IGRhdGFbMF07XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIGdldENvZnJhZGVQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLmNvZnJhZGUgPSBkYXRhO1xyXG4gICAgICAgIGlmKHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcylcclxuICAgICAgICAgIGlmKHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEpe1xyXG4gICAgICAgICAgICB2bS5pYmFuID0gJGZpbHRlcigncGFyc2VJYmFuJykodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5pYmFuKTtcclxuICAgICAgICAgICAgdm0uY2MgPSAkZmlsdGVyKCdwYXJzZUNDJykodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5jYyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgdm0ubWFwcyA9IGdldE1hcHNQcmVwU2VydmljZTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbW9kaWZ5Q29mcmFkZShpZCwgZXZlbnQpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2NvZnJhZGVzQ2FtYmlvcycsIHtjb2ZyYWRlSWQ6IGlkfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQ29mcmFkZXMnLCBDb2ZyYWRlcyk7XHJcblxyXG4gIGZ1bmN0aW9uIENvZnJhZGVzKGNvZnJhZGVzUHJlcFNlcnZpY2UsIGNvZnJhZGVzQmFqYXNQcmVwU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0uY29mcmFkZXMgPSBudWxsO1xyXG4gICAgdm0ubmV4dFBhZ2UgPSBudWxsO1xyXG4gICAgdm0uY29mcmFkZXNCYWphcyA9IG51bGw7XHJcbiAgICB2bS5uZXh0UGFnZUJhamFzID0gbnVsbDtcclxuICAgIHZtLnNlbGVjdGVkVGFiID0gMDtcclxuICAgIGFjdGl2YXRlKCk7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICBjb2ZyYWRlc1ByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0ubmV4dFBhZ2UgPSBkYXRhLm5leHQ7XHJcbiAgICAgICAgdm0uY29mcmFkZXMgPSBkYXRhLnJlc3VsdHM7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIGNvZnJhZGVzQmFqYXNQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLm5leHRQYWdlQmFqYXMgPSBkYXRhLm5leHQ7XHJcbiAgICAgICAgdm0uY29mcmFkZXNCYWphcyA9IGRhdGEucmVzdWx0cztcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ2xvYWRSZXBlYXQnLCBsb2FkUmVwZWF0KTtcclxuXHJcbiAgZnVuY3Rpb24gbG9hZFJlcGVhdCgpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSkge1xyXG4gICAgICBpZiAoc2NvcGUuJGxhc3QpIHtcclxuICAgICAgICBzY29wZS4kZXZhbCgndm0uY29tcGxldGVkID0gdHJ1ZTsnKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnc2Nyb2xseScsIHNjcm9sbHkpO1xyXG5cclxuICBmdW5jdGlvbiBzY3JvbGx5KCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgbGluazogZnVuY3Rpb24gKCRyb290U2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgdmFyIHJhdyA9IGVsZW1lbnRbMF07XHJcbiAgICAgICAgZWxlbWVudC5iaW5kKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBpZiAocmF3LnNjcm9sbFRvcCArIHJhdy5vZmZzZXRIZWlnaHQgPj0gcmF3LnNjcm9sbEhlaWdodC01KSB7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoXCJzY3JvbGxEb3duXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmlsdGVyKCdwYXJzZUliYW4nLCBwYXJzZUliYW4pXHJcbiAgICAuZmlsdGVyKCdwYXJzZUNDJywgcGFyc2VDQylcclxuICAgIC5maWx0ZXIoJ2NhbGN1bGFySWJhbicsIGNhbGN1bGFySWJhbilcclxuICAgIC5maWx0ZXIoJ2NhbGN1bGFyQ0MnLCBjYWxjdWxhckNDKTtcclxuXHJcbiAgZnVuY3Rpb24gcGFyc2VJYmFuKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpYmFuKSB7XHJcbiAgICAgIGliYW4gPSBpYmFuIHx8ICcnO1xyXG4gICAgICB2YXIgZm9ybWF0dGVkSWJhbiA9ICcnO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpYmFuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGkgPiAwICYmIGkgJSA0ID09PSAwKSB7XHJcbiAgICAgICAgICBmb3JtYXR0ZWRJYmFuICs9ICcgJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9ybWF0dGVkSWJhbiArPSBpYmFuW2ldO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmb3JtYXR0ZWRJYmFuO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHBhcnNlQ0MoKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNjKSB7XHJcbiAgICAgIGNjID0gY2MgfHwgJyc7XHJcbiAgICAgIHZhciBmb3JtYXR0ZWRDQyA9ICcnO1xyXG5cclxuICAgICAgZm9ybWF0dGVkQ0MgPSBjYy5zdWJzdHIoMCwgNCkgKyAnLSc7XHJcbiAgICAgIGZvcm1hdHRlZENDICs9IGNjLnN1YnN0cig0LCA0KSArICctJztcclxuICAgICAgZm9ybWF0dGVkQ0MgKz0gY2Muc3Vic3RyKDgsIDIpICsgJy0nO1xyXG4gICAgICBmb3JtYXR0ZWRDQyArPSBjYy5zdWJzdHIoMTAsIDEwKTtcclxuXHJcbiAgICAgIHJldHVybiBmb3JtYXR0ZWRDQztcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjYWxjdWxhckNDKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpYmFuKSB7XHJcbiAgICAgIGliYW4gPSBpYmFuIHx8ICcnO1xyXG4gICAgICByZXR1cm4gaWJhbi5zdWJzdHIoNCwgMjApO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNhbGN1bGFySWJhbigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoY2NjKSB7XHJcbiAgICAgIHZhciBwYWlzID0gXCJFU1wiO1xyXG4gICAgICB2YXIgY2lmcmFzID0gY2NjICsgdmFsb3JDaWZyYXMocGFpcykgKyBcIjAwXCI7XHJcbiAgICAgIHZhciByZXN0byA9IG1vZHVsbyhjaWZyYXMsIDk3KTtcclxuICAgICAgcmV0dXJuIHBhaXMgKyBjZXJvc0l6cXVpZXJkYSg5OC1yZXN0bywgMikgKyBjY2M7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHZhbG9yQ2lmcmFzKGNpZnJhcykge1xyXG4gICAgICB2YXIgTEVUUkFTID0gXCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIjtcclxuICAgICAgdmFyIGl0ZW1zID0gW107XHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxjaWZyYXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgcG9zaWNpb24gPSBMRVRSQVMuaW5kZXhPZihjaWZyYXNbaV0pO1xyXG4gICAgICAgIGl0ZW1zLnB1c2gocG9zaWNpb24gPCAwPyBcIi1cIjogcG9zaWNpb24pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBpdGVtcy5qb2luKFwiXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZHVsbyhjaWZyYXMsIGRpdmlzb3IpIHtcclxuICAgICAgdmFyIENVRU5UQSA9IDEwO1xyXG4gICAgICB2YXIgbGFyZ28gPSBjaWZyYXMubGVuZ3RoO1xyXG4gICAgICB2YXIgcmVzdG8gPSAwO1xyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8bGFyZ287IGkrPUNVRU5UQSkge1xyXG4gICAgICAgIHZhciBkaXZpZGVuZG8gPSByZXN0byArIFwiXCIgKyBjaWZyYXMuc3Vic3RyKGksIENVRU5UQSk7XHJcbiAgICAgICAgcmVzdG8gPSBkaXZpZGVuZG8gJSBkaXZpc29yO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXN0bztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjZXJvc0l6cXVpZXJkYShjaWZyYXMsIGxhcmdvKSB7XHJcbiAgICAgIGNpZnJhcyArPSAnJztcclxuICAgICAgd2hpbGUoY2lmcmFzLmxlbmd0aCA8IGxhcmdvKSB7IGNpZnJhcyA9ICcwJytjaWZyYXM7IH1cclxuICAgICAgcmV0dXJuIGNpZnJhcztcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmlsdGVyKCdzdHJpbmdUb0RhdGVGb3JtYXQnLCBzdHJpbmdUb0RhdGVGb3JtYXQpXHJcbiAgICAuZmlsdGVyKCdmb3JtYXREYXRlcycsIGZvcm1hdERhdGVzKTtcclxuXHJcbiAgZnVuY3Rpb24gc3RyaW5nVG9EYXRlRm9ybWF0KCl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmIChkYXRhLmRhdG9zUGVyc29uYWxlcyl7XHJcbiAgICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFOYWNpbWllbnRvICA9IG5ldyBEYXRlKGRhdGEuZGF0b3NQZXJzb25hbGVzLmZlY2hhTmFjaW1pZW50bykudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XHJcbiAgICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFJbnNjcmlwY2lvbiA9IG5ldyBEYXRlKGRhdGEuZGF0b3NQZXJzb25hbGVzLmZlY2hhSW5zY3JpcGNpb24pLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmKGRhdGEuZmVjaGEpXHJcbiAgICAgICAgZGF0YS5mZWNoYSAgPSBuZXcgRGF0ZShkYXRhLmZlY2hhKS50b0xvY2FsZURhdGVTdHJpbmcoKTtcclxuXHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGZvcm1hdERhdGVzKCl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIFxyXG4gICAgICB2YXIgZGF0ZSA9IG51bGw7XHJcbiAgICAgIGlmIChkYXRhLmRhdG9zUGVyc29uYWxlcyl7XHJcbiAgICAgICAgZGF0ZSA9IGRhdGEuZGF0b3NQZXJzb25hbGVzLmZlY2hhTmFjaW1pZW50by5zcGxpdChcIi9cIik7XHJcbiAgICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFOYWNpbWllbnRvICA9IGRhdGVbMl0gKyAnLScgKyBkYXRlWzFdICsgJy0nICsgZGF0ZVswXTtcclxuICAgICAgICBkYXRlID0gZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFJbnNjcmlwY2lvbi5zcGxpdChcIi9cIik7XHJcbiAgICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFJbnNjcmlwY2lvbiA9IGRhdGVbMl0gKyAnLScgKyBkYXRlWzFdICsgJy0nICsgZGF0ZVswXTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChkYXRhLmZlY2hhKXtcclxuICAgICAgICBkYXRlID0gZGF0YS5mZWNoYS5zcGxpdChcIi9cIik7XHJcbiAgICAgICAgZGF0YS5mZWNoYSAgPSBkYXRlWzJdICsgJy0nICsgZGF0ZVsxXSArICctJyArIGRhdGVbMF07XHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICBkYXRhID0gbmV3IERhdGUoZGF0YSkudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZpbHRlcigncmVtb3ZlTnVsbHMnLCByZW1vdmVOdWxscyk7XHJcblxyXG4gIGZ1bmN0aW9uIHJlbW92ZU51bGxzKCl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKXtcclxuICAgICAgdmFyIGlzQXJyYXkgPSBvYmogaW5zdGFuY2VvZiBBcnJheTtcclxuICAgICAgZm9yICh2YXIgayBpbiBvYmope1xyXG4gICAgICAgIGlmIChvYmpba109PT1udWxsKSBpc0FycmF5ID8gb2JqLnNwbGljZShrLDEpIDogZGVsZXRlIG9ialtrXTtcclxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqW2tdPT1cIm9iamVjdFwiKSByZW1vdmVOdWxscyhvYmpba10pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgnYXNwaXJhbnRlc1NlcnZpY2UnLCBhc3BpcmFudGVzU2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIGFzcGlyYW50ZXNTZXJ2aWNlKCRyZXNvdXJjZSwgJGxvY2F0aW9uLCAkZmlsdGVyKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhc3BpcmFudGVzUmVzdDogYXNwaXJhbnRlc1Jlc3RcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gYXNwaXJhbnRlc1Jlc3QoKSB7XHJcbiAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2h0dHA6Ly8xMjcuMC4wLjE6JyskbG9jYXRpb24ucG9ydCgpKycvYXBpL2FzcGlyYW50ZXMvOmlkLmpzb246anNvbicsIG51bGwsIHtcclxuICAgICAgICAncXVlcnknOiAge21ldGhvZDonR0VUJywgaXNBcnJheTogdHJ1ZX0sXHJcbiAgICAgICAgJ2dldCc6ICAgIHttZXRob2Q6J0dFVCcsIHRyYW5zZm9ybVJlc3BvbnNlOiBmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkZmlsdGVyKCdzdHJpbmdUb0RhdGVGb3JtYXQnKShhbmd1bGFyLmZyb21Kc29uKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAnc2F2ZSc6ICAge21ldGhvZDonUE9TVCcsIHRyYW5zZm9ybVJlcXVlc3Q6IGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIudG9Kc29uKCRmaWx0ZXIoJ2Zvcm1hdERhdGVzJykoJGZpbHRlcigncmVtb3ZlTnVsbHMnKShkYXRhKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ2F1dG9yaWRhZGVzU2VydmljZScsIGF1dG9yaWRhZGVzU2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIGF1dG9yaWRhZGVzU2VydmljZSgkcmVzb3VyY2UsICRsb2NhdGlvbiwgJGZpbHRlcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYXV0b3JpZGFkZXNSZXN0OiBhdXRvcmlkYWRlc1Jlc3RcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gYXV0b3JpZGFkZXNSZXN0KCkge1xyXG4gICAgICByZXR1cm4gJHJlc291cmNlKCdodHRwOi8vMTI3LjAuMC4xOicrJGxvY2F0aW9uLnBvcnQoKSsnL2FwaS9hdXRvcmlkYWRlcy86aWQuanNvbjpqc29uJywgbnVsbCwge1xyXG4gICAgICAgICdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OiB0cnVlfSxcclxuICAgICAgICAnc2F2ZSc6ICAge21ldGhvZDonUE9TVCcsIHRyYW5zZm9ybVJlcXVlc3Q6IGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIudG9Kc29uKCRmaWx0ZXIoJ3JlbW92ZU51bGxzJykoZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ2NvZnJhZGVzU2VydmljZScsIGNvZnJhZGVzU2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvZnJhZGVzU2VydmljZSgkcmVzb3VyY2UsICRsb2NhdGlvbiwgJGh0dHAsICRmaWx0ZXIpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNvZnJhZGVzUmVzdDogY29mcmFkZXNSZXN0LFxyXG4gICAgICBjb2ZyYWRlc0JhamFzUmVzdDogY29mcmFkZXNCYWphc1Jlc3QsXHJcbiAgICAgIGdldENhbGxlczogZ2V0Q2FsbGVzLFxyXG4gICAgICBnZXRSZWdpc3Ryb3M6IGdldFJlZ2lzdHJvc1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb2ZyYWRlc1Jlc3QoKSB7XHJcbiAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2h0dHA6Ly8xMjcuMC4wLjE6JyskbG9jYXRpb24ucG9ydCgpKycvYXBpL2NvZnJhZGVzLzppZC5qc29uOmpzb24nLCBudWxsLCB7XHJcbiAgICAgICAgJ3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6IGZhbHNlfSxcclxuICAgICAgICAnZ2V0JzogICAge21ldGhvZDonR0VUJywgdHJhbnNmb3JtUmVzcG9uc2U6IGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRmaWx0ZXIoJ3N0cmluZ1RvRGF0ZUZvcm1hdCcpKGFuZ3VsYXIuZnJvbUpzb24oZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICdzYXZlJzogICB7bWV0aG9kOidQT1NUJywgdHJhbnNmb3JtUmVxdWVzdDogZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci50b0pzb24oJGZpbHRlcignZm9ybWF0RGF0ZXMnKSgkZmlsdGVyKCdyZW1vdmVOdWxscycpKGRhdGEpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvZnJhZGVzQmFqYXNSZXN0KCkge1xyXG4gICAgICByZXR1cm4gJHJlc291cmNlKCdodHRwOi8vMTI3LjAuMC4xOicrJGxvY2F0aW9uLnBvcnQoKSsnL2FwaS9jb2ZyYWRlc0JhamFzLzppZC5qc29uOmpzb24nLCBudWxsLCB7J3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6ZmFsc2V9fSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Q2FsbGVzKGNhbGxlKSB7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6JyskbG9jYXRpb24ucG9ydCgpKycvYXBpL2NhbGxlcy8nLCB7cGFyYW1zOiB7Y2FsbGU6IGNhbGxlfX0pLlxyXG4gICAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZnJvbUpzb24ocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFJlZ2lzdHJvcygpIHtcclxuICAgICAgcmV0dXJuICRodHRwLmdldCgnaHR0cDovLzEyNy4wLjAuMTonKyRsb2NhdGlvbi5wb3J0KCkrJy9hcGkvcmVnaXN0cm9zLycpLlxyXG4gICAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZnJvbUpzb24ocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ2Nvc3RhbGVyb3NTZXJ2aWNlJywgY29zdGFsZXJvc1NlcnZpY2UpO1xyXG5cclxuICBmdW5jdGlvbiBjb3N0YWxlcm9zU2VydmljZSgkcmVzb3VyY2UsICRsb2NhdGlvbiwgJGZpbHRlcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY29zdGFsZXJvc1Jlc3Q6IGNvc3RhbGVyb3NSZXN0XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvc3RhbGVyb3NSZXN0KCkge1xyXG4gICAgICByZXR1cm4gJHJlc291cmNlKCdodHRwOi8vMTI3LjAuMC4xOicrJGxvY2F0aW9uLnBvcnQoKSsnL2FwaS9jb3N0YWxlcm9zLzppZC5qc29uOmpzb24nLCBudWxsLCB7XHJcbiAgICAgICAgJ3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6IHRydWV9LFxyXG4gICAgICAgICdnZXQnOiAgICB7bWV0aG9kOidHRVQnLCB0cmFuc2Zvcm1SZXNwb25zZTogZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGZpbHRlcignc3RyaW5nVG9EYXRlRm9ybWF0JykoYW5ndWxhci5mcm9tSnNvbihkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgJ3NhdmUnOiAgIHttZXRob2Q6J1BPU1QnLCB0cmFuc2Zvcm1SZXF1ZXN0OiBmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLnRvSnNvbigkZmlsdGVyKCdmb3JtYXREYXRlcycpKCRmaWx0ZXIoJ3JlbW92ZU51bGxzJykoZGF0YSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdkaXJlY3Rpdm9zU2VydmljZScsIGRpcmVjdGl2b3NTZXJ2aWNlKTtcclxuXHJcbiAgZnVuY3Rpb24gZGlyZWN0aXZvc1NlcnZpY2UoJHJlc291cmNlLCAkbG9jYXRpb24sICRmaWx0ZXIpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRpcmVjdGl2b3NSZXN0OiBkaXJlY3Rpdm9zUmVzdFxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBkaXJlY3Rpdm9zUmVzdCgpIHtcclxuICAgICAgcmV0dXJuICRyZXNvdXJjZSgnaHR0cDovLzEyNy4wLjAuMTonKyRsb2NhdGlvbi5wb3J0KCkrJy9hcGkvZGlyZWN0aXZvcy86aWQuanNvbjpqc29uJywgbnVsbCwge1xyXG4gICAgICAgICdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OiB0cnVlfSxcclxuICAgICAgICAnc2F2ZSc6ICAge21ldGhvZDonUE9TVCcsIHRyYW5zZm9ybVJlcXVlc3Q6IGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIudG9Kc29uKCRmaWx0ZXIoJ3JlbW92ZU51bGxzJykoZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ2dhc3Rvc0JhbmNhcmlvc1NlcnZpY2UnLCBnYXN0b3NCYW5jYXJpb3NTZXJ2aWNlKTtcclxuXHJcbiAgZnVuY3Rpb24gZ2FzdG9zQmFuY2FyaW9zU2VydmljZSgkcmVzb3VyY2UsICRsb2NhdGlvbikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZ2FzdG9zQmFuY2FyaW9zUmVzdDogZ2FzdG9zQmFuY2FyaW9zUmVzdFxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBnYXN0b3NCYW5jYXJpb3NSZXN0KCkge1xyXG4gICAgICByZXR1cm4gJHJlc291cmNlKCdodHRwOi8vMTI3LjAuMC4xOicrJGxvY2F0aW9uLnBvcnQoKSsnL2FwaS9nYXN0b3NCYW5jYXJpb3MvOmlkLmpzb246anNvbicpO1xyXG4gICAgfVxyXG4gICBcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgnbWFwYXNTZXJ2aWNlJywgbWFwYXNTZXJ2aWNlKTtcclxuXHJcbiAgZnVuY3Rpb24gbWFwYXNTZXJ2aWNlKCRodHRwKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBnZW9Db2RpbmdBUEk6IGdlb0NvZGluZ0FQSVxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZW9Db2RpbmdBUEkoYWRkcmVzcykge1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KCdodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvZ2VvY29kZS9qc29uJywge3BhcmFtczoge2FkZHJlc3M6IGFkZHJlc3MsIGtleTogXCJBSXphU3lEQ19PSURTbDZjdXJqQ01DTHl6bjJ5aE1tZy1lcjVrbklcIn19KS5cclxuICAgICAgdGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICB9KTtcclxuICAgIH0gICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ251bWVyb3NMb3RlcmlhU2VydmljZScsIG51bWVyb3NMb3RlcmlhU2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIG51bWVyb3NMb3RlcmlhU2VydmljZSgkcmVzb3VyY2UsICRsb2NhdGlvbikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbnVtZXJvc0xvdGVyaWFSZXN0OiBudW1lcm9zTG90ZXJpYVJlc3RcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gbnVtZXJvc0xvdGVyaWFSZXN0KCkge1xyXG4gICAgICByZXR1cm4gJHJlc291cmNlKCdodHRwOi8vMTI3LjAuMC4xOicrJGxvY2F0aW9uLnBvcnQoKSsnL2FwaS9udW1lcm9zTG90ZXJpYS86aWQuanNvbjpqc29uJyk7XHJcbiAgICB9XHJcbiAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdwYXBlbGV0YXNTaXRpb3NTZXJ2aWNlJywgcGFwZWxldGFzU2l0aW9zU2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIHBhcGVsZXRhc1NpdGlvc1NlcnZpY2UoJHJlc291cmNlLCAkbG9jYXRpb24sICRmaWx0ZXIpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHBhcGVsZXRhc1NpdGlvc1Jlc3Q6IHBhcGVsZXRhc1NpdGlvc1Jlc3RcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gcGFwZWxldGFzU2l0aW9zUmVzdCgpIHtcclxuICAgICAgcmV0dXJuICRyZXNvdXJjZSgnaHR0cDovLzEyNy4wLjAuMTonKyRsb2NhdGlvbi5wb3J0KCkrJy9hcGkvcGFwZWxldGFzU2l0aW9zLzppZC5qc29uOmpzb24nLCBudWxsLCB7XHJcbiAgICAgICAgJ3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6IHRydWV9LFxyXG4gICAgICAgICdzYXZlJzogICB7bWV0aG9kOidQT1NUJywgdHJhbnNmb3JtUmVxdWVzdDogZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci50b0pzb24oJGZpbHRlcigncmVtb3ZlTnVsbHMnKShkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICBcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgnc2VjdG9yZXNTZXJ2aWNlJywgc2VjdG9yZXNTZXJ2aWNlKTtcclxuXHJcbiAgZnVuY3Rpb24gc2VjdG9yZXNTZXJ2aWNlKCRyZXNvdXJjZSwgJGxvY2F0aW9uKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzZWN0b3Jlc1Jlc3Q6IHNlY3RvcmVzUmVzdFxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZWN0b3Jlc1Jlc3QoKSB7XHJcbiAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2h0dHA6Ly8xMjcuMC4wLjE6JyskbG9jYXRpb24ucG9ydCgpKycvYXBpL3NlY3RvcmVzLzppZC5qc29uOmpzb24nLCBudWxsLCB7XHJcbiAgICAgICAgJ2dldCc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OiB0cnVlfSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0Nvc3RhbGVyb0FkZE1vZGlmeScsIENvc3RhbGVyb0FkZE1vZGlmeSk7XHJcblxyXG4gIGZ1bmN0aW9uIENvc3RhbGVyb0FkZE1vZGlmeSgkc2NvcGUsICRmaWx0ZXIsICRkb2N1bWVudCwgJG1kVG9hc3QsICRzdGF0ZSwgZ2V0Q29zdGFsZXJvUHJlcFNlcnZpY2UsIGNvc3RhbGVyb3NTZXJ2aWNlLCBjb2ZyYWRlc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLmJhY2tTdGF0ZSAgICAgICAgICA9IGJhY2tTdGF0ZTtcclxuICAgIHZtLnF1ZXJ5U2VhcmNoICAgICAgICA9IHF1ZXJ5U2VhcmNoO1xyXG4gICAgdm0uc2VsZWN0ZWRJdGVtQ2hhbmdlID0gc2VsZWN0ZWRJdGVtQ2hhbmdlO1xyXG4gICAgdm0uZ3VhcmRhciAgICAgICAgICAgID0gZ3VhcmRhcjtcclxuXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICBpZiAoZ2V0Q29zdGFsZXJvUHJlcFNlcnZpY2Upe1xyXG4gICAgICAgIGdldENvc3RhbGVyb1ByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oaW5pdENvc3RhbGVybyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdENvc3RhbGVybyhkYXRhKSB7XHJcbiAgICAgIHZtLmNvc3RhbGVybyA9IGRhdGE7XHJcbiAgICAgIHZtLmNvZnJhZGVTZWxlY3RlZCA9IHZtLmNvc3RhbGVyby5jb2ZyYWRlO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBiYWNrU3RhdGUoKSB7XHJcbiAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBxdWVyeVNlYXJjaChxdWVyeSkge1xyXG4gICAgICB2YXIgZmlsdHJvID0ge307XHJcbiAgICAgIGlmIChpc05hTihxdWVyeSkpXHJcbiAgICAgICAgZmlsdHJvLm5vbWJyZSA9IHF1ZXJ5O1xyXG4gICAgICBlbHNlIGlmKCFpc05hTihxdWVyeSkpXHJcbiAgICAgICAgZmlsdHJvLm51bWVyb09yZGVuID0gcXVlcnk7XHJcblxyXG4gICAgICByZXR1cm4gY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzUmVzdCgpLnF1ZXJ5KGZpbHRybykuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UucmVzdWx0cztcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0ZWRJdGVtQ2hhbmdlKGl0ZW0pIHtcclxuICAgICAgdm0uY29zdGFsZXJvLmNvZnJhZGUgPSAgaXRlbSA/IGl0ZW0uaWQgOiBudWxsO1xyXG4gICAgfSAgICBcclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyKGlzVmFsaWQpIHtcclxuICAgICAgaWYoaXNWYWxpZCl7XHJcbiAgICAgICAgdm0uY29zdGFsZXJvLmZlY2hhID0gKHZtLmNvc3RhbGVyby5mZWNoYSA9PT0gXCJcIikgPyBudWxsIDogdm0uY29zdGFsZXJvLmZlY2hhO1xyXG4gICAgICAgIGlmICghdm0uY29zdGFsZXJvLmNvZnJhZGUpe1xyXG4gICAgICAgICAgJHNjb3BlLmNvc3RhbGVyb0Zvcm0uY29mcmFkZS4kZXJyb3IucmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgc2hvd0FjdGlvblRvYXN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICBjb3N0YWxlcm9zU2VydmljZS5jb3N0YWxlcm9zUmVzdCgpLnNhdmUodm0uY29zdGFsZXJvLCBndWFyZGFyU3VjY2VzcywgZ3VhcmRhckVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZVxyXG4gICAgICAgIHNob3dBY3Rpb25Ub2FzdCgpO1xyXG4gICAgfVxyXG4gICAgICBcclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJTdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdHdWFyZGFkbyBjb24gw6l4aXRvISEnKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgICAkc3RhdGUuZ28oJ2Nvc3RhbGVyb3MnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyRXJyb3IocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0Vycm9yIGFsIGd1YXJkYXIhIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2hvd0FjdGlvblRvYXN0KCkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXhpc3RlbiBlcnJvcmVzIGVuIGVsIGZvcm11bGFyaW8nKVxyXG4gICAgICAgICAgLmFjdGlvbignT0snKVxyXG4gICAgICAgICAgLmhpZ2hsaWdodEFjdGlvbihmYWxzZSlcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0Nvc3RhbGVyb0RldGFsbGUnLCBDb3N0YWxlcm9EZXRhbGxlKTtcclxuXHJcbiAgZnVuY3Rpb24gQ29zdGFsZXJvRGV0YWxsZSgkc3RhdGUsIGdldENvc3RhbGVyb1ByZXBTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLm1vZGlmeUNvc3RhbGVybyA9IG1vZGlmeUNvc3RhbGVybztcclxuICAgIFxyXG4gICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgcmV0dXJuIGdldENvc3RhbGVyb1ByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0uY29zdGFsZXJvID0gZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbW9kaWZ5Q29zdGFsZXJvKGlkLCBldmVudCl7XHJcbiAgICAgICRzdGF0ZS5nbygnY29zdGFsZXJvc0NhbWJpb3MnLCB7Y29zdGFsZXJvSWQ6IGlkfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQ29zdGFsZXJvcycsIENvc3RhbGVyb3MpO1xyXG5cclxuICBmdW5jdGlvbiBDb3N0YWxlcm9zKGNvc3RhbGVyb3NQcmVwU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0uY29zdGFsZXJvcyA9IG51bGw7XHJcbiAgICBhY3RpdmF0ZSgpO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgcmV0dXJuIGNvc3RhbGVyb3NQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLmNvc3RhbGVyb3MgPSBkYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignRGlyZWN0aXZvQWRkTW9kaWZ5JywgRGlyZWN0aXZvQWRkTW9kaWZ5KTtcclxuXHJcbiAgZnVuY3Rpb24gRGlyZWN0aXZvQWRkTW9kaWZ5KCRzY29wZSwgJGRvY3VtZW50LCAkbWRUb2FzdCwgJHN0YXRlLCBnZXREaXJlY3Rpdm9QcmVwU2VydmljZSwgZGlyZWN0aXZvc1NlcnZpY2UsIGNvZnJhZGVzU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0ubmV3Q29mcmFkZSA9IGZhbHNlO1xyXG5cclxuICAgIHZtLmJhY2tTdGF0ZSAgICAgICAgICA9IGJhY2tTdGF0ZTtcclxuICAgIHZtLnF1ZXJ5U2VhcmNoICAgICAgICA9IHF1ZXJ5U2VhcmNoO1xyXG4gICAgdm0uc2VsZWN0ZWRJdGVtQ2hhbmdlID0gc2VsZWN0ZWRJdGVtQ2hhbmdlO1xyXG4gICAgdm0uZ3VhcmRhciAgICAgICAgICAgID0gZ3VhcmRhcjtcclxuXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICBpZiAoZ2V0RGlyZWN0aXZvUHJlcFNlcnZpY2Upe1xyXG4gICAgICAgIGdldERpcmVjdGl2b1ByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oaW5pdERpcmVjdGl2byk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICBuZXdEaXJlY3Rpdm8oKTtcclxuICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbml0RGlyZWN0aXZvKGRhdGEpIHtcclxuICAgICAgdm0uZGlyZWN0aXZvID0gZGF0YTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmV3RGlyZWN0aXZvKCkge1xyXG4gICAgICB2bS5uZXdDb2ZyYWRlID0gdHJ1ZTtcclxuICAgICAgdm0uZGlyZWN0aXZvID0ge2NvZnJhZGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICBmZWNoYTogbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKX07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYmFja1N0YXRlKCkge1xyXG4gICAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcXVlcnlTZWFyY2gocXVlcnkpIHtcclxuICAgICAgdmFyIGZpbHRybyA9IHt9O1xyXG4gICAgICBpZiAoaXNOYU4ocXVlcnkpKVxyXG4gICAgICAgIGZpbHRyby5ub21icmUgPSBxdWVyeTtcclxuICAgICAgZWxzZSBpZighaXNOYU4ocXVlcnkpKVxyXG4gICAgICAgIGZpbHRyby5udW1lcm9PcmRlbiA9IHF1ZXJ5O1xyXG5cclxuICAgICAgcmV0dXJuIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5xdWVyeShmaWx0cm8pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnJlc3VsdHM7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdGVkSXRlbUNoYW5nZShpdGVtKSB7XHJcbiAgICAgIHZtLmRpcmVjdGl2by5jb2ZyYWRlID0gIGl0ZW0gPyBpdGVtLmlkIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyKGlzVmFsaWQpIHtcclxuICAgICAgaWYoaXNWYWxpZCl7XHJcbiAgICAgICAgaWYgKCF2bS5kaXJlY3Rpdm8uY29mcmFkZSl7XHJcbiAgICAgICAgICAkc2NvcGUuZGlyZWN0aXZvRm9ybS5jb2ZyYWRlLiRlcnJvci5yZXF1aXJlZCA9IHRydWU7XHJcbiAgICAgICAgICBzaG93QWN0aW9uVG9hc3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgIHZtLmRpcmVjdGl2by5jb2ZyYWRlID0gdm0uZGlyZWN0aXZvLmNvZnJhZGUuaWQgPyB2bS5kaXJlY3Rpdm8uY29mcmFkZS5pZCA6IHZtLmRpcmVjdGl2by5jb2ZyYWRlO1xyXG4gICAgICAgICAgZGlyZWN0aXZvc1NlcnZpY2UuZGlyZWN0aXZvc1Jlc3QoKS5zYXZlKHZtLmRpcmVjdGl2bywgZ3VhcmRhclN1Y2Nlc3MsIGd1YXJkYXJFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2VcclxuICAgICAgICBzaG93QWN0aW9uVG9hc3QoKTtcclxuICAgIH1cclxuICAgICAgXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyU3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnR3VhcmRhZG8gY29uIMOpeGl0byEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgICAgJHN0YXRlLmdvKCdkaXJlY3Rpdm9zJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhckVycm9yKHJlc3BvbnNlKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFcnJvciBhbCBndWFyZGFyISEnKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHNob3dBY3Rpb25Ub2FzdCgpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0V4aXN0ZW4gZXJyb3JlcyBlbiBlbCBmb3JtdWxhcmlvJylcclxuICAgICAgICAgIC5hY3Rpb24oJ09LJylcclxuICAgICAgICAgIC5oaWdobGlnaHRBY3Rpb24oZmFsc2UpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdEaXJlY3Rpdm9EZXRhbGxlJywgRGlyZWN0aXZvRGV0YWxsZSk7XHJcblxyXG4gIGZ1bmN0aW9uIERpcmVjdGl2b0RldGFsbGUoJHN0YXRlLCBnZXREaXJlY3Rpdm9QcmVwU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5tb2RpZnlEaXJlY3Rpdm8gPSBtb2RpZnlEaXJlY3Rpdm87XHJcbiAgICBcclxuICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIHJldHVybiBnZXREaXJlY3Rpdm9QcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLmRpcmVjdGl2byA9IGRhdGE7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeURpcmVjdGl2byhpZCwgZXZlbnQpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2RpcmVjdGl2b3NDYW1iaW9zJywge2RpcmVjdGl2b0lkOiBpZH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0RpcmVjdGl2b3MnLCBEaXJlY3Rpdm9zKTtcclxuXHJcbiAgZnVuY3Rpb24gRGlyZWN0aXZvcyhkaXJlY3Rpdm9zUHJlcFNlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLmRpcmVjdGl2b3MgPSBudWxsO1xyXG4gICAgYWN0aXZhdGUoKTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIHJldHVybiBkaXJlY3Rpdm9zUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5kaXJlY3Rpdm9zID0gZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0dhc3Rvc0JhbmNhcmlvcycsIEdhc3Rvc0JhbmNhcmlvcyk7XHJcblxyXG4gIGZ1bmN0aW9uIEdhc3Rvc0JhbmNhcmlvcygkc2NvcGUsICRkb2N1bWVudCwgJG1kVG9hc3QsICRzdGF0ZSwgZ2FzdG9zQmFuY2FyaW9zUHJlcFNlcnZpY2UsIGdhc3Rvc0JhbmNhcmlvc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLm5ld0NvZnJhZGUgPSBmYWxzZTtcclxuXHJcbiAgICB2bS5ndWFyZGFyID0gZ3VhcmRhcjtcclxuXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICBnYXN0b3NCYW5jYXJpb3NQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGluaXRHYXN0b0JhbmNhcmlvKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbml0R2FzdG9CYW5jYXJpbyhkYXRhKSB7XHJcbiAgICAgIHZtLmdhc3RvQmFuY2FyaW8gPSBkYXRhWzBdO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyKGlzVmFsaWQpIHtcclxuICAgICAgaWYoaXNWYWxpZCl7XHJcbiAgICAgICAgZ2FzdG9zQmFuY2FyaW9zU2VydmljZS5nYXN0b3NCYW5jYXJpb3NSZXN0KCkuc2F2ZSh2bS5nYXN0b0JhbmNhcmlvLCBndWFyZGFyU3VjY2VzcywgZ3VhcmRhckVycm9yKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzaG93QWN0aW9uVG9hc3QoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgICBcclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJTdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdHdWFyZGFkbyBjb24gw6l4aXRvISEnKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgICAkc3RhdGUuZ28oJ2dhc3Rvc0JhbmNhcmlvcycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJFcnJvcihyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXJyb3IgYWwgZ3VhcmRhciEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzaG93QWN0aW9uVG9hc3QoKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFeGlzdGVuIGVycm9yZXMgZW4gZWwgZm9ybXVsYXJpbycpXHJcbiAgICAgICAgICAuYWN0aW9uKCdPSycpXHJcbiAgICAgICAgICAuaGlnaGxpZ2h0QWN0aW9uKGZhbHNlKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignTnVtZXJvc0xvdGVyaWEnLCBOdW1lcm9zTG90ZXJpYSk7XHJcblxyXG4gIGZ1bmN0aW9uIE51bWVyb3NMb3RlcmlhKCRzY29wZSwgJGRvY3VtZW50LCAkbWRUb2FzdCwgJHN0YXRlLCBudW1lcm9zTG90ZXJpYVByZXBTZXJ2aWNlLCBudW1lcm9zTG90ZXJpYVNlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLm5ld0NvZnJhZGUgPSBmYWxzZTtcclxuXHJcbiAgICB2bS5ndWFyZGFyID0gZ3VhcmRhcjtcclxuXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICBudW1lcm9zTG90ZXJpYVByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oaW5pdE51bWVyb3NMb3RlcmlhKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbml0TnVtZXJvc0xvdGVyaWEoZGF0YSkge1xyXG4gICAgICB2bS5udW1lcm9zTG90ZXJpYSA9IGRhdGFbMF07XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXIoaXNWYWxpZCkge1xyXG4gICAgICBpZihpc1ZhbGlkKXtcclxuICAgICAgICBudW1lcm9zTG90ZXJpYVNlcnZpY2UubnVtZXJvc0xvdGVyaWFSZXN0KCkuc2F2ZSh2bS5udW1lcm9zTG90ZXJpYSwgZ3VhcmRhclN1Y2Nlc3MsIGd1YXJkYXJFcnJvcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2hvd0FjdGlvblRvYXN0KCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgICAgXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyU3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnR3VhcmRhZG8gY29uIMOpeGl0byEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgICAgJHN0YXRlLmdvKCdudW1lcm9zTG90ZXJpYScpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJFcnJvcihyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXJyb3IgYWwgZ3VhcmRhciEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzaG93QWN0aW9uVG9hc3QoKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFeGlzdGVuIGVycm9yZXMgZW4gZWwgZm9ybXVsYXJpbycpXHJcbiAgICAgICAgICAuYWN0aW9uKCdPSycpXHJcbiAgICAgICAgICAuaGlnaGxpZ2h0QWN0aW9uKGZhbHNlKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignUGFwZWxldGFTaXRpb0FkZE1vZGlmeScsIFBhcGVsZXRhU2l0aW9BZGRNb2RpZnkpO1xyXG5cclxuICBmdW5jdGlvbiBQYXBlbGV0YVNpdGlvQWRkTW9kaWZ5KCRzY29wZSwgJGZpbHRlciwgJGRvY3VtZW50LCAkbWRUb2FzdCwgJHN0YXRlLCAgcGFwZWxldGFzU2l0aW9zU2VydmljZSwgY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5uZXdDb2ZyYWRlID0gZmFsc2U7XHJcblxyXG4gICAgdm0uYmFja1N0YXRlICAgICAgICAgID0gYmFja1N0YXRlO1xyXG4gICAgdm0ucXVlcnlTZWFyY2ggICAgICAgID0gcXVlcnlTZWFyY2g7XHJcbiAgICB2bS5zZWxlY3RlZEl0ZW1DaGFuZ2UgPSBzZWxlY3RlZEl0ZW1DaGFuZ2U7XHJcbiAgICB2bS5ndWFyZGFyICAgICAgICAgICAgPSBndWFyZGFyO1xyXG5cclxuICAgIG5ld3BhcGVsZXRhU2l0aW8oKTtcclxuXHJcbiAgICBmdW5jdGlvbiBuZXdwYXBlbGV0YVNpdGlvKCkge1xyXG4gICAgICB2bS5uZXdDb2ZyYWRlID0gdHJ1ZTtcclxuICAgICAgdm0uZmVjaGEgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gICAgICB2bS5wYXBlbGV0YVNpdGlvID0ge2NvZnJhZGU6IG51bGx9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGJhY2tTdGF0ZSgpIHtcclxuICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHF1ZXJ5U2VhcmNoKHF1ZXJ5KSB7XHJcbiAgICAgIHZhciBmaWx0cm8gPSB7fTtcclxuICAgICAgaWYgKGlzTmFOKHF1ZXJ5KSlcclxuICAgICAgICBmaWx0cm8ubm9tYnJlID0gcXVlcnk7XHJcbiAgICAgIGVsc2UgaWYoIWlzTmFOKHF1ZXJ5KSlcclxuICAgICAgICBmaWx0cm8ubnVtZXJvT3JkZW4gPSBxdWVyeTtcclxuXHJcbiAgICAgIHJldHVybiBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkucXVlcnkoZmlsdHJvKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZS5yZXN1bHRzO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWxlY3RlZEl0ZW1DaGFuZ2UoaXRlbSkge1xyXG4gICAgICB2bS5wYXBlbGV0YVNpdGlvLmNvZnJhZGUgPSAgaXRlbSA/IGl0ZW0uaWQgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXIoaXNWYWxpZCkge1xyXG4gICAgICBpZihpc1ZhbGlkKXtcclxuICAgICAgICBpZiAoIXZtLnBhcGVsZXRhU2l0aW8uY29mcmFkZSl7XHJcbiAgICAgICAgICAkc2NvcGUucGFwZWxldGFTaXRpb0Zvcm0uY29mcmFkZS4kZXJyb3IucmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgc2hvd0FjdGlvblRvYXN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICB2bS5wYXBlbGV0YVNpdGlvLmZlY2hhID0gdm0uZmVjaGE7XHJcbiAgICAgICAgICAkZmlsdGVyKCdmb3JtYXREYXRlcycpKHZtLnBhcGVsZXRhU2l0aW8pO1xyXG4gICAgICAgICAgcGFwZWxldGFzU2l0aW9zU2VydmljZS5wYXBlbGV0YXNTaXRpb3NSZXN0KCkuc2F2ZSh7YW5pbzogbmV3IERhdGUodm0ucGFwZWxldGFTaXRpby5mZWNoYSkuZ2V0RnVsbFllYXIoKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlbGV0YXM6W3ZtLnBhcGVsZXRhU2l0aW9dfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1YXJkYXJTdWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VhcmRhckVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZVxyXG4gICAgICAgIHNob3dBY3Rpb25Ub2FzdCgpO1xyXG4gICAgfVxyXG4gICAgICBcclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJTdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdHdWFyZGFkbyBjb24gw6l4aXRvISEnKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgICAkc3RhdGUuZ28oJ3BhcGVsZXRhc1NpdGlvcycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJFcnJvcihyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXJyb3IgYWwgZ3VhcmRhciEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzaG93QWN0aW9uVG9hc3QoKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFeGlzdGVuIGVycm9yZXMgZW4gZWwgZm9ybXVsYXJpbycpXHJcbiAgICAgICAgICAuYWN0aW9uKCdPSycpXHJcbiAgICAgICAgICAuaGlnaGxpZ2h0QWN0aW9uKGZhbHNlKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignUGFwZWxldGFzU2l0aW9zJywgUGFwZWxldGFzU2l0aW9zKTtcclxuXHJcbiAgZnVuY3Rpb24gUGFwZWxldGFzU2l0aW9zKHBhcGVsZXRhc1NpdGlvc1ByZXBTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5wYXBlbGV0YXNTaXRpb3MgPSBudWxsO1xyXG4gICAgYWN0aXZhdGUoKTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIHJldHVybiBwYXBlbGV0YXNTaXRpb3NQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLnBhcGVsZXRhc1NpdGlvcyA9IGRhdGE7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdTZWN0b3JBZGRNb2RpZnknLCBTZWN0b3JBZGRNb2RpZnkpO1xyXG5cclxuICBmdW5jdGlvbiBTZWN0b3JBZGRNb2RpZnkoJHNjb3BlLCAkZmlsdGVyLCAkZG9jdW1lbnQsICRtZFRvYXN0LCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgZ2V0U2VjdG9yUHJlcFNlcnZpY2UsIHNlY3RvcmVzU2VydmljZSwgY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5uZXdFbmNhcmdhZG8gPSBmYWxzZTtcclxuICAgIHZtLm5ld0NhbGxlICAgICA9IGZhbHNlO1xyXG4gICAgdm0uaW5kZXhDYWxsZSAgID0gbnVsbDtcclxuXHJcbiAgICB2bS5iYWNrU3RhdGUgICAgICAgICAgPSBiYWNrU3RhdGU7XHJcbiAgICB2bS5xdWVyeVNlYXJjaCAgICAgICAgPSBxdWVyeVNlYXJjaDtcclxuICAgIHZtLnNlbGVjdGVkSXRlbUNoYW5nZSA9IHNlbGVjdGVkSXRlbUNoYW5nZTtcclxuICAgIHZtLmd1YXJkYXIgICAgICAgICAgICA9IGd1YXJkYXI7XHJcblxyXG4gICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgaWYgKGdldFNlY3RvclByZXBTZXJ2aWNlKXtcclxuICAgICAgICBnZXRTZWN0b3JQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGluaXRTZWN0b3IpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgbmV3RW5jYXJnYWRvKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbml0U2VjdG9yKGRhdGEpIHtcclxuICAgICAgdm0uc2VjdG9yID0gZGF0YVswXTtcclxuICAgICAgdm0uY29mcmFkZVNlbGVjdGVkID0gdm0uc2VjdG9yLmNvZnJhZGU7XHJcbiAgICAgIHZtLm9yaWdpblNlY3RvciA9IHZtLnNlY3Rvci5udW1lcm9TZWN0b3I7XHJcbiAgICAgIGlmICgkc3RhdGVQYXJhbXMuY2FsbGUgPT09ICduZXcnKXtcclxuICAgICAgICB2bS5uZXdDYWxsZSA9IHRydWU7XHJcbiAgICAgICAgdm0uaW5kZXhDYWxsZSA9IHZtLnNlY3Rvci5jYWxsZXMubGVuZ3RoO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgdm0uaW5kZXhDYWxsZSA9ICh2bS5zZWN0b3IuY2FsbGVzLmluZGV4T2YoJHN0YXRlUGFyYW1zLmNhbGxlKSA+IC0xKSA/IHZtLnNlY3Rvci5jYWxsZXMuaW5kZXhPZigkc3RhdGVQYXJhbXMuY2FsbGUpIDogbnVsbDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBuZXdFbmNhcmdhZG8oKSB7XHJcbiAgICAgIHZtLm5ld0VuY2FyZ2FkbyA9IHRydWU7XHJcbiAgICAgIHZtLnNlY3RvciA9IHtjb2ZyYWRlOiBudWxsfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBiYWNrU3RhdGUoKSB7XHJcbiAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBxdWVyeVNlYXJjaChxdWVyeSkge1xyXG4gICAgICB2YXIgZmlsdHJvID0ge307XHJcbiAgICAgIGlmIChpc05hTihxdWVyeSkpXHJcbiAgICAgICAgZmlsdHJvLm5vbWJyZSA9IHF1ZXJ5O1xyXG4gICAgICBlbHNlIGlmKCFpc05hTihxdWVyeSkpXHJcbiAgICAgICAgZmlsdHJvLm51bWVyb09yZGVuID0gcXVlcnk7XHJcblxyXG4gICAgICByZXR1cm4gY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzUmVzdCgpLnF1ZXJ5KGZpbHRybykuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UucmVzdWx0cztcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0ZWRJdGVtQ2hhbmdlKGl0ZW0pIHtcclxuICAgICAgdm0uc2VjdG9yLmNvZnJhZGUgPSAgaXRlbSA/IGl0ZW0uaWQgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXIoaXNWYWxpZCkge1xyXG4gICAgICBpZihpc1ZhbGlkKXtcclxuICAgICAgICBpZiAoIXZtLnNlY3Rvci5jb2ZyYWRlKXtcclxuICAgICAgICAgICRzY29wZS5zZWN0b3JGb3JtLmNvZnJhZGUuJGVycm9yLnJlcXVpcmVkID0gdHJ1ZTtcclxuICAgICAgICAgIHNob3dBY3Rpb25Ub2FzdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgaWYgKHZtLnNlY3Rvci5udW1lcm9TZWN0b3IgPT09IHZtLm9yaWdpblNlY3RvciB8fCB2bS5uZXdFbmNhcmdhZG8pe1xyXG4gICAgICAgICAgICBndWFyZGFyU2VjdG9yKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBndWFyZGFyQ2FtYmlvU2VjdG9yKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2VcclxuICAgICAgICBzaG93QWN0aW9uVG9hc3QoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhclNlY3Rvcigpe1xyXG4gICAgICBzZWN0b3Jlc1NlcnZpY2Uuc2VjdG9yZXNSZXN0KCkuc2F2ZSh2bS5zZWN0b3IsIGd1YXJkYXJTdWNjZXNzLCBndWFyZGFyRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJDYW1iaW9TZWN0b3IoKXtcclxuICAgICAgc2VjdG9yZXNTZXJ2aWNlLnNlY3RvcmVzUmVzdCgpLmdldCh7c2VjdG9yOiB2bS5zZWN0b3IubnVtZXJvU2VjdG9yfSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgaWYgKCFyZXNwb25zZVswXSl7XHJcbiAgICAgICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgICAgIC5jb250ZW50KCdObyBleGlzdGUgZXNlIHNlY3RvcicpXHJcbiAgICAgICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc3BvbnNlWzBdLmNvZnJhZGUgPSByZXNwb25zZVswXS5jb2ZyYWRlLmlkO1xyXG4gICAgICAgIHJlc3BvbnNlWzBdLmNhbGxlcy5wdXNoKHZtLnNlY3Rvci5jYWxsZXNbdm0uaW5kZXhDYWxsZV0pO1xyXG4gICAgICAgIHJlc3BvbnNlWzBdLiRzYXZlKG51bGwsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uc2VjdG9yLmNhbGxlcy5zcGxpY2Uodm0uaW5kZXhDYWxsZSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uc2VjdG9yLm51bWVyb1NlY3RvciA9IHZtLm9yaWdpblNlY3RvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWFyZGFyU2VjdG9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGd1YXJkYXJFcnJvcik7XHJcbiAgICAgICAgXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJTdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdHdWFyZGFkbyBjb24gw6l4aXRvISEnKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgICAkc3RhdGUuZ28oJ3NlY3RvcmVzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhckVycm9yKHJlc3BvbnNlKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFcnJvciBhbCBndWFyZGFyISEnKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHNob3dBY3Rpb25Ub2FzdCgpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0V4aXN0ZW4gZXJyb3JlcyBlbiBlbCBmb3JtdWxhcmlvJylcclxuICAgICAgICAgIC5hY3Rpb24oJ09LJylcclxuICAgICAgICAgIC5oaWdobGlnaHRBY3Rpb24oZmFsc2UpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdTZWN0b3JlcycsIFNlY3RvcmVzKTtcclxuXHJcbiAgZnVuY3Rpb24gU2VjdG9yZXMoc2VjdG9yZXNQcmVwU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0uc2VjdG9yZXMgPSBudWxsO1xyXG4gICAgYWN0aXZhdGUoKTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIHJldHVybiBzZWN0b3Jlc1ByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0uc2VjdG9yZXMgPSBkYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0xpc3RhQXNwaXJhbnRlcycsIExpc3RhQXNwaXJhbnRlcyk7XHJcblxyXG4gIGZ1bmN0aW9uIExpc3RhQXNwaXJhbnRlcygkc3RhdGUpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLm1vZGlmeUFzcGlyYW50ZSA9IG1vZGlmeUFzcGlyYW50ZTtcclxuICAgIHZtLmdvVG9Bc3BpcmFudGUgICA9IGdvVG9Bc3BpcmFudGU7XHJcblxyXG4gICAgZnVuY3Rpb24gZ29Ub0FzcGlyYW50ZShpZCwgZXZlbnQpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2FzcGlyYW50ZXNEZXRhbGxlJywge2FzcGlyYW50ZUlkOiBpZH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUFzcGlyYW50ZShpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgJHN0YXRlLmdvKCdhc3BpcmFudGVzQ2FtYmlvcycsIHthc3BpcmFudGVJZDogaWR9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnbGlzdGFBc3BpcmFudGVzJywgbGlzdGFBc3BpcmFudGVzKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIGxpc3RhQXNwaXJhbnRlcygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9hc3BpcmFudGVzL2xpc3QvYXNwaXJhbnRlcy5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgYXNwaXJhbnRlczogJz1hc3BpcmFudGVzJyAgICAgICAgXHJcbiAgICAgIH0sXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCkge1xyXG4gICAgICAgIHNjb3BlLiR3YXRjaCgndm0uYXNwaXJhbnRlcycsIGZ1bmN0aW9uKG5ld1ZhbCkge1xyXG4gICAgICAgICAgICBpZihuZXdWYWwpIHsgXHJcbiAgICAgICAgICAgICAgc2NvcGUudm0uYXNwaXJhbnRlc1Nob3J0ID0gc2NvcGUudm0uYXNwaXJhbnRlcy5tYXAoZnVuY3Rpb24oYXNwaXJhbnRlKXtcclxuICAgICAgICAgICAgICAgIHZhciBhdXggPSB7aWQ6IGFzcGlyYW50ZS5pZCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlY2hhOiBhc3BpcmFudGUuZmVjaGF9O1xyXG4gICAgICAgICAgICAgICAgaWYgKGFzcGlyYW50ZS5jb2ZyYWRlKXtcclxuICAgICAgICAgICAgICAgICAgYXV4Lm51bWVyb09yZGVuID0gYXNwaXJhbnRlLmNvZnJhZGUubnVtZXJvT3JkZW47XHJcbiAgICAgICAgICAgICAgICAgIGF1eC5ub21icmUgPSBhc3BpcmFudGUuY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMubm9tYnJlICAgICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzcGlyYW50ZS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5hcGVsbGlkbzEgKyAnICcgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzcGlyYW50ZS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5hcGVsbGlkbzI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRydWUpO1xyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnTGlzdGFBc3BpcmFudGVzJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdSZW1vdmVBc3BpcmFudGUnLCBSZW1vdmVBc3BpcmFudGUpO1xyXG5cclxuICBmdW5jdGlvbiBSZW1vdmVBc3BpcmFudGUoJHN0YXRlLCAkbWREaWFsb2csIGFzcGlyYW50ZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLnJlbW92ZUFzcGlyYW50ZSA9IHJlbW92ZUFzcGlyYW50ZTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQXNwaXJhbnRlKGlkLCBldmVudCl7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB2YXIgcmVtb3ZlRGlhbG9nID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgLnRpdGxlKCdFbGltaW5hciBhc3BpcmFudGUnKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ8K/RXN0w6Egc2VndXJvIHF1ZSBkZXNlYSBlbGltaW5hciBlc3RlIGFzcGlyYW50ZT88YnI+UGVyZGVyw6Egc3UgYW50aWd1ZWRhZC4nKVxyXG4gICAgICAgICAgLmFyaWFMYWJlbCgnRWxpbWluYXIgYXNwaXJhbnRlJylcclxuICAgICAgICAgIC50YXJnZXRFdmVudChldmVudClcclxuICAgICAgICAgIC5vaygnQWNlcHRhcicpXHJcbiAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAuY2xpY2tPdXRzaWRlVG9DbG9zZSh0cnVlKTtcclxuICAgICAgJG1kRGlhbG9nLnNob3cocmVtb3ZlRGlhbG9nKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJlbW92ZUVuZEFzcGlyYW50ZShpZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUVuZEFzcGlyYW50ZShpZCl7XHJcbiAgICAgIHZhciBhc3BpcmFudGUgPSBhc3BpcmFudGVzU2VydmljZS5hc3BpcmFudGVzUmVzdCgpLmdldCh7aWQ6IGlkfSwgZnVuY3Rpb24oKXtcclxuICAgICAgICBhc3BpcmFudGUuJGRlbGV0ZSh7aWQ6IGlkfSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgaWYoJHN0YXRlLmN1cnJlbnQubmFtZSA9PT0gJ2FzcGlyYW50ZXMnKXtcclxuICAgICAgICAgICAgJHN0YXRlLnRyYW5zaXRpb25Ubygkc3RhdGUuY3VycmVudCwgbnVsbCwge1xyXG4gICAgICAgICAgICAgIHJlbG9hZDogdHJ1ZSxcclxuICAgICAgICAgICAgICBpbmhlcml0OiBmYWxzZSxcclxuICAgICAgICAgICAgICBub3RpZnk6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2FzcGlyYW50ZXMnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ3JlbW92ZUFzcGlyYW50ZScsIHJlbW92ZUFzcGlyYW50ZSk7XHJcblxyXG5cclxuICBmdW5jdGlvbiByZW1vdmVBc3BpcmFudGUoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvYXNwaXJhbnRlcy9yZW1vdmUvcmVtb3ZlQXNwaXJhbnRlLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBhc3BpcmFudGVJZDogJz1hc3BpcmFudGUnICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ1JlbW92ZUFzcGlyYW50ZScsXHJcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignTGlzdGFBdXRvcmlkYWRlcycsIExpc3RhQXV0b3JpZGFkZXMpO1xyXG5cclxuICBmdW5jdGlvbiBMaXN0YUF1dG9yaWRhZGVzKCRzdGF0ZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0ubW9kaWZ5QXV0b3JpZGFkID0gbW9kaWZ5QXV0b3JpZGFkO1xyXG4gICAgdm0uZ29Ub0F1dG9yaWRhZCAgID0gZ29Ub0F1dG9yaWRhZDtcclxuXHJcbiAgICBmdW5jdGlvbiBnb1RvQXV0b3JpZGFkKGlkLCBldmVudCl7XHJcbiAgICAgICRzdGF0ZS5nbygnYXV0b3JpZGFkZXNEZXRhbGxlJywge2F1dG9yaWRhZElkOiBpZH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUF1dG9yaWRhZChpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgJHN0YXRlLmdvKCdhdXRvcmlkYWRlc0NhbWJpb3MnLCB7YXV0b3JpZGFkSWQ6IGlkfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ2xpc3RhQXV0b3JpZGFkZXMnLCBsaXN0YUF1dG9yaWRhZGVzKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIGxpc3RhQXV0b3JpZGFkZXMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvYXV0b3JpZGFkZXMvbGlzdC9hdXRvcmlkYWRlcy5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgYXV0b3JpZGFkZXM6ICc9YXV0b3JpZGFkZXMnICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ0xpc3RhQXV0b3JpZGFkZXMnLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ1JlbW92ZUF1dG9yaWRhZCcsIFJlbW92ZUF1dG9yaWRhZCk7XHJcblxyXG4gIGZ1bmN0aW9uIFJlbW92ZUF1dG9yaWRhZCgkc3RhdGUsICRtZERpYWxvZywgYXV0b3JpZGFkZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLnJlbW92ZUF1dG9yaWRhZCA9IHJlbW92ZUF1dG9yaWRhZDtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQXV0b3JpZGFkKGlkLCBldmVudCl7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB2YXIgcmVtb3ZlRGlhbG9nID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgLnRpdGxlKCdFbGltaW5hciBhdXRvcmlkYWQnKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ8K/RXN0w6Egc2VndXJvIHF1ZSBkZXNlYSBlbGltaW5hciBlc3RlIGF1dG9yaWRhZD8nKVxyXG4gICAgICAgICAgLmFyaWFMYWJlbCgnRWxpbWluYXIgYXV0b3JpZGFkJylcclxuICAgICAgICAgIC50YXJnZXRFdmVudChldmVudClcclxuICAgICAgICAgIC5vaygnQWNlcHRhcicpXHJcbiAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAuY2xpY2tPdXRzaWRlVG9DbG9zZSh0cnVlKTtcclxuICAgICAgJG1kRGlhbG9nLnNob3cocmVtb3ZlRGlhbG9nKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJlbW92ZUVuZEF1dG9yaWRhZChpZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUVuZEF1dG9yaWRhZChpZCl7XHJcbiAgICAgIHZhciBhdXRvcmlkYWQgPSBhdXRvcmlkYWRlc1NlcnZpY2UuYXV0b3JpZGFkZXNSZXN0KCkuZ2V0KHtpZDogaWR9LCBmdW5jdGlvbigpe1xyXG4gICAgICAgIGF1dG9yaWRhZC4kZGVsZXRlKHtpZDogaWR9KS50aGVuKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICBpZigkc3RhdGUuY3VycmVudC5uYW1lID09PSAnYXV0b3JpZGFkZXMnKXtcclxuICAgICAgICAgICAgJHN0YXRlLnRyYW5zaXRpb25Ubygkc3RhdGUuY3VycmVudCwgbnVsbCwge1xyXG4gICAgICAgICAgICAgIHJlbG9hZDogdHJ1ZSxcclxuICAgICAgICAgICAgICBpbmhlcml0OiBmYWxzZSxcclxuICAgICAgICAgICAgICBub3RpZnk6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2F1dG9yaWRhZGVzJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdyZW1vdmVBdXRvcmlkYWQnLCByZW1vdmVBdXRvcmlkYWQpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlQXV0b3JpZGFkKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9kaXJlY3RpdmVzL2F1dG9yaWRhZGVzL3JlbW92ZS9yZW1vdmVBdXRvcmlkYWQuZGlyZWN0aXZlLmh0bWwnLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIGF1dG9yaWRhZElkOiAnPWF1dG9yaWRhZCcgICAgICAgIFxyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnUmVtb3ZlQXV0b3JpZGFkJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdMaXN0YUNvZnJhZGVzJywgTGlzdGFDb2ZyYWRlcyk7XHJcblxyXG4gIGZ1bmN0aW9uIExpc3RhQ29mcmFkZXMoJHJvb3RTY29wZSwgJHNjb3BlLCAkc3RhdGUsIGNvZnJhZGVzU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0uZmlsdHJvICAgID0gJ25vbWJyZSc7XHJcbiAgICB2bS5idXNjYXIgICAgPSBudWxsO1xyXG5cclxuICAgIHZtLnNlYXJjaCAgICAgICAgID0gc2VhcmNoO1xyXG4gICAgdm0uZ29Ub0NvZnJhZGUgICAgPSBnb1RvQ29mcmFkZTtcclxuICAgIHZtLm1vZGlmeUNvZnJhZGUgID0gbW9kaWZ5Q29mcmFkZTtcclxuICAgIHZtLmNoYW5nZVRhYiAgICAgID0gY2hhbmdlVGFiO1xyXG5cclxuICAgIHZhciBoYW5kbGVyID0gJHJvb3RTY29wZS4kb24oJ3Njcm9sbERvd24nLCBnZXROZXh0UGFnZSk7XHJcblxyXG4gICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcclxuICAgICAgaGFuZGxlcigpO1xyXG4gICAgICBoYW5kbGVyID0gbnVsbDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldE5leHRQYWdlKCkge1xyXG4gICAgICBpZiAoIXZtLmJhamFzKVxyXG4gICAgICAgIGdldE5leHRQYWdlQWx0YXMoKTtcclxuICAgICAgZWxzZVxyXG4gICAgICAgIGdldE5leHRQYWdlQmFqYXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXROZXh0UGFnZUFsdGFzKCkge1xyXG4gICAgICBpZiAodm0ubmV4dFBhZ2Upe1xyXG4gICAgICAgIHZhciBwYXJhbWV0ZXJzID0ge3BhZ2U6IHZtLm5leHRQYWdlfTtcclxuXHJcbiAgICAgICAgaWYgKHZtLmJ1c2NhcilcclxuICAgICAgICAgIHBhcmFtZXRlcnNbdm0uZmlsdHJvXSA9IHZtLmJ1c2NhcjtcclxuXHJcbiAgICAgICAgY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzUmVzdCgpLnF1ZXJ5KHBhcmFtZXRlcnMsIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgdm0ubmV4dFBhZ2UgPSBkYXRhLm5leHQ7XHJcbiAgICAgICAgICB2bS5jb2ZyYWRlcyA9IHZtLmNvZnJhZGVzLmNvbmNhdChkYXRhLnJlc3VsdHMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TmV4dFBhZ2VCYWphcygpIHtcclxuICAgICAgaWYgKHZtLm5leHRQYWdlQmFqYXMpe1xyXG4gICAgICAgIHZhciBwYXJhbWV0ZXJzID0ge3BhZ2U6IHZtLm5leHRQYWdlQmFqYXN9O1xyXG5cclxuICAgICAgICBpZiAodm0uYnVzY2FyKVxyXG4gICAgICAgICAgcGFyYW1ldGVyc1t2bS5maWx0cm9dID0gdm0uYnVzY2FyO1xyXG5cclxuICAgICAgICBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNCYWphc1Jlc3QoKS5xdWVyeShwYXJhbWV0ZXJzLCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIHZtLm5leHRQYWdlQmFqYXMgPSBkYXRhLm5leHQ7XHJcbiAgICAgICAgICB2bS5jb2ZyYWRlc0JhamFzID0gdm0uY29mcmFkZXNCYWphcy5jb25jYXQoZGF0YS5yZXN1bHRzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlYXJjaCgpIHtcclxuICAgICAgdm0uZmlsdHJvID0gKCBpc05hTih2bS5idXNjYXIpKSA/ICdub21icmUnOiAnbnVtZXJvT3JkZW4nO1xyXG4gICAgICBpZiAoIXZtLmJhamFzKVxyXG4gICAgICAgIHNlYXJjaEFsdGFzKCk7XHJcbiAgICAgIGVsc2VcclxuICAgICAgICBzZWFyY2hCYWphcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlYXJjaEFsdGFzKCkge1xyXG4gICAgICB2YXIgZmlsdHJvID0ge307XHJcbiAgICAgIGZpbHRyb1t2bS5maWx0cm9dID0gdm0uYnVzY2FyO1xyXG4gICAgICBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkucXVlcnkoZmlsdHJvLCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5uZXh0UGFnZSA9IGRhdGEubmV4dDtcclxuICAgICAgICB2bS5jb2ZyYWRlcyA9IGRhdGEucmVzdWx0cztcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VhcmNoQmFqYXMoKSB7XHJcbiAgICAgIHZhciBmaWx0cm8gPSB7fTtcclxuICAgICAgZmlsdHJvW3ZtLmZpbHRyb10gPSB2bS5idXNjYXI7XHJcbiAgICAgIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc0JhamFzUmVzdCgpLnF1ZXJ5KGZpbHRybywgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0ubmV4dFBhZ2VCYWphcyA9IGRhdGEubmV4dDtcclxuICAgICAgICB2bS5jb2ZyYWRlc0JhamFzID0gZGF0YS5yZXN1bHRzO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnb1RvQ29mcmFkZShpZCwgZXZlbnQpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2NvZnJhZGVzRGV0YWxsZScsIHtjb2ZyYWRlSWQ6IGlkfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbW9kaWZ5Q29mcmFkZShpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgJHN0YXRlLmdvKCdjb2ZyYWRlc0NhbWJpb3MnLCB7Y29mcmFkZUlkOiBpZH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNoYW5nZVRhYigpe1xyXG4gICAgICB2bS5zZWFyY2goKTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnbGlzdGFDb2ZyYWRlcycsIGxpc3RhQ29mcmFkZXMpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gbGlzdGFDb2ZyYWRlcygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9saXN0L2NvZnJhZGVzLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBjb2ZyYWRlczogJz1jb2ZyYWRlcycsXHJcbiAgICAgICAgbmV4dFBhZ2U6ICc9cGFnZScsXHJcbiAgICAgICAgY29mcmFkZXNCYWphczogJz1jb2ZyYWRlc0JhamFzJyxcclxuICAgICAgICBuZXh0UGFnZUJhamFzOiAnPXBhZ2VCYWphcydcclxuICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ0xpc3RhQ29mcmFkZXMnLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ1JlbW92ZUNvZnJhZGUnLCBSZW1vdmVDb2ZyYWRlKTtcclxuXHJcbiAgZnVuY3Rpb24gUmVtb3ZlQ29mcmFkZSgkc3RhdGUsICRtZERpYWxvZykge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5yZW1vdmVDb2ZyYWRlID0gcmVtb3ZlQ29mcmFkZTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQ29mcmFkZShpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZW1vdmUvZGlhbG9nVG1wbC9yZW1vdmVDb2ZyYWRlLnRtcGwuaHRtbCcsXHJcbiAgICAgICAgbG9jYWxzOiB7aWQ6IGlkfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnUmVtb3ZlQ29mcmFkZVRtcGwnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxyXG4gICAgICAgIHRhcmdldEV2ZW50OiBldmVudCxcclxuICAgICAgICBjbGlja091dHNpZGVUb0Nsb3NlOnRydWVcclxuICAgICAgfSkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAvL3JlbW92ZUVuZENvZnJhZGUoaWQpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdyZW1vdmVDb2ZyYWRlJywgcmVtb3ZlQ29mcmFkZSk7XHJcblxyXG5cclxuICBmdW5jdGlvbiByZW1vdmVDb2ZyYWRlKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9kaXJlY3RpdmVzL2NvZnJhZGVzL3JlbW92ZS9yZW1vdmVDb2ZyYWRlLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBjb2ZyYWRlSWQ6ICc9Y29mcmFkZScgICAgICAgIFxyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnUmVtb3ZlQ29mcmFkZScsXHJcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignUmVzdG9yZUNvZnJhZGUnLCBSZXN0b3JlQ29mcmFkZSk7XHJcblxyXG4gIGZ1bmN0aW9uIFJlc3RvcmVDb2ZyYWRlKCRzdGF0ZSwgJG1kRGlhbG9nLCBjb2ZyYWRlc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgdm0ucmVzdG9yZUNvZnJhZGUgPSByZXN0b3JlQ29mcmFkZTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcmVzdG9yZUNvZnJhZGUoaWQsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIHZhciByZXN0YXVyYXJEaWFsb2cgPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAudGl0bGUoJ1Jlc3RhdXJhciBjb2ZyYWRlJylcclxuICAgICAgICAgIC5jb250ZW50KCfCv0VzdMOhIHNlZ3VybyBxdWUgZGVzZWEgcmVzdGF1cmFyIGVzdGUgY29mcmFkZT88YnI+U3UgbsO6bWVybyBkZSBDb2ZyYWRlIHNlIGNhbGN1bGFyw6EgZGUgbnVldm8uJylcclxuICAgICAgICAgIC5hcmlhTGFiZWwoJ1Jlc3RhdXJhciBjb2ZyYWRlJylcclxuICAgICAgICAgIC50YXJnZXRFdmVudChldmVudClcclxuICAgICAgICAgIC5vaygnQWNlcHRhcicpXHJcbiAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAuY2xpY2tPdXRzaWRlVG9DbG9zZSh0cnVlKTtcclxuICAgICAgJG1kRGlhbG9nLnNob3cocmVzdGF1cmFyRGlhbG9nKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJlc3RvcmVFbmRDb2ZyYWRlKGlkKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzdG9yZUVuZENvZnJhZGUoaWQpe1xyXG4gICAgICB2YXIgY29mcmFkZSA9IGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5nZXQoe2lkOiBpZH0sIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY29mcmFkZS5iYWphID0gbnVsbDtcclxuICAgICAgICBjb2ZyYWRlLiRzYXZlKHt1cGRhdGVOdW1lcm9Db2ZyYWRlOiB0cnVlfSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgaWYoJHN0YXRlLmN1cnJlbnQubmFtZSA9PT0gJ2NvZnJhZGVzJyl7XHJcbiAgICAgICAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oJHN0YXRlLmN1cnJlbnQsIG51bGwsIHtcclxuICAgICAgICAgICAgICByZWxvYWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgaW5oZXJpdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgbm90aWZ5OiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdjb2ZyYWRlcycpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgncmVzdG9yZUNvZnJhZGUnLCByZXN0b3JlQ29mcmFkZSk7XHJcblxyXG5cclxuICBmdW5jdGlvbiByZXN0b3JlQ29mcmFkZSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZXN0b3JlL3Jlc3RvcmVDb2ZyYWRlLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBjb2ZyYWRlSWQ6ICc9Y29mcmFkZScgICAgICAgIFxyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnUmVzdG9yZUNvZnJhZGUnLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0xpc3RhQ29zdGFsZXJvcycsIExpc3RhQ29zdGFsZXJvcyk7XHJcblxyXG4gIGZ1bmN0aW9uIExpc3RhQ29zdGFsZXJvcygkc3RhdGUpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLm1vZGlmeUNvc3RhbGVybyA9IG1vZGlmeUNvc3RhbGVybztcclxuICAgIHZtLmdvVG9Db3N0YWxlcm8gICA9IGdvVG9Db3N0YWxlcm87XHJcblxyXG4gICAgZnVuY3Rpb24gZ29Ub0Nvc3RhbGVybyhpZCwgZXZlbnQpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2Nvc3RhbGVyb3NEZXRhbGxlJywge2Nvc3RhbGVyb0lkOiBpZH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUNvc3RhbGVybyhpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgJHN0YXRlLmdvKCdjb3N0YWxlcm9zQ2FtYmlvcycsIHtjb3N0YWxlcm9JZDogaWR9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnbGlzdGFDb3N0YWxlcm9zJywgbGlzdGFDb3N0YWxlcm9zKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIGxpc3RhQ29zdGFsZXJvcygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9jb3N0YWxlcm9zL2xpc3QvY29zdGFsZXJvcy5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgY29zdGFsZXJvczogJz1jb3N0YWxlcm9zJyAgICAgICAgXHJcbiAgICAgIH0sXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCkge1xyXG4gICAgICAgIHNjb3BlLiR3YXRjaCgndm0uY29zdGFsZXJvcycsIGZ1bmN0aW9uKG5ld1ZhbCkge1xyXG4gICAgICAgICAgICBpZihuZXdWYWwpIHsgXHJcbiAgICAgICAgICAgICAgc2NvcGUudm0uY29zdGFsZXJvc1Nob3J0ID0gc2NvcGUudm0uY29zdGFsZXJvcy5tYXAoZnVuY3Rpb24oY29zdGFsZXJvKXtcclxuICAgICAgICAgICAgICAgIHZhciBhdXggPSB7aWQ6IGNvc3RhbGVyby5pZCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGlvOiBjb3N0YWxlcm8uc2l0aW99O1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvc3RhbGVyby5jb2ZyYWRlKXtcclxuICAgICAgICAgICAgICAgICAgYXV4Lm51bWVyb09yZGVuID0gY29zdGFsZXJvLmNvZnJhZGUubnVtZXJvT3JkZW47XHJcbiAgICAgICAgICAgICAgICAgIGF1eC5ub21icmUgPSBjb3N0YWxlcm8uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMubm9tYnJlICAgICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvc3RhbGVyby5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5hcGVsbGlkbzEgKyAnICcgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvc3RhbGVyby5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5hcGVsbGlkbzI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRydWUpO1xyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnTGlzdGFDb3N0YWxlcm9zJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdSZW1vdmVDb3N0YWxlcm8nLCBSZW1vdmVDb3N0YWxlcm8pO1xyXG5cclxuICBmdW5jdGlvbiBSZW1vdmVDb3N0YWxlcm8oJHN0YXRlLCAkbWREaWFsb2csIGNvc3RhbGVyb3NTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLnJlbW92ZUNvc3RhbGVybyA9IHJlbW92ZUNvc3RhbGVybztcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQ29zdGFsZXJvKGlkLCBldmVudCl7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB2YXIgcmVtb3ZlRGlhbG9nID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgLnRpdGxlKCdFbGltaW5hciBjb3N0YWxlcm8nKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ8K/RXN0w6Egc2VndXJvIHF1ZSBkZXNlYSBlbGltaW5hciBlc3RlIGNvc3RhbGVybz88YnI+RGVqYXLDoSBzdSBzaXRpbyBsaWJyZS4nKVxyXG4gICAgICAgICAgLmFyaWFMYWJlbCgnRWxpbWluYXIgY29zdGFsZXJvJylcclxuICAgICAgICAgIC50YXJnZXRFdmVudChldmVudClcclxuICAgICAgICAgIC5vaygnQWNlcHRhcicpXHJcbiAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAuY2xpY2tPdXRzaWRlVG9DbG9zZSh0cnVlKTtcclxuICAgICAgJG1kRGlhbG9nLnNob3cocmVtb3ZlRGlhbG9nKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJlbW92ZUVuZENvc3RhbGVybyhpZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUVuZENvc3RhbGVybyhpZCl7XHJcbiAgICAgIHZhciBjb3N0YWxlcm8gPSBjb3N0YWxlcm9zU2VydmljZS5jb3N0YWxlcm9zUmVzdCgpLmdldCh7aWQ6IGlkfSwgZnVuY3Rpb24oKXtcclxuICAgICAgICBjb3N0YWxlcm8uY29mcmFkZSA9IG51bGw7XHJcbiAgICAgICAgY29zdGFsZXJvLnRhbGxhID0gbnVsbDtcclxuICAgICAgICBjb3N0YWxlcm8uZmVjaGEgPSBudWxsO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvc3RhbGVyby4kc2F2ZSgpLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgIGlmKCRzdGF0ZS5jdXJyZW50Lm5hbWUgPT09ICdjb3N0YWxlcm9zJyl7XHJcbiAgICAgICAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oJHN0YXRlLmN1cnJlbnQsIG51bGwsIHtcclxuICAgICAgICAgICAgICByZWxvYWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgaW5oZXJpdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgbm90aWZ5OiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdjb3N0YWxlcm9zJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdyZW1vdmVDb3N0YWxlcm8nLCByZW1vdmVDb3N0YWxlcm8pO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlQ29zdGFsZXJvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9kaXJlY3RpdmVzL2Nvc3RhbGVyb3MvcmVtb3ZlL3JlbW92ZUNvc3RhbGVyby5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgY29zdGFsZXJvSWQ6ICc9Y29zdGFsZXJvJyAgICAgICAgXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbnRyb2xsZXI6ICdSZW1vdmVDb3N0YWxlcm8nLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0xpc3RhRGlyZWN0aXZvcycsIExpc3RhRGlyZWN0aXZvcyk7XHJcblxyXG4gIGZ1bmN0aW9uIExpc3RhRGlyZWN0aXZvcygkc3RhdGUpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLm1vZGlmeURpcmVjdGl2byA9IG1vZGlmeURpcmVjdGl2bztcclxuICAgIHZtLmdvVG9EaXJlY3Rpdm8gICA9IGdvVG9EaXJlY3Rpdm87XHJcblxyXG4gICAgZnVuY3Rpb24gZ29Ub0RpcmVjdGl2byhpZCwgZXZlbnQpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2RpcmVjdGl2b3NEZXRhbGxlJywge2RpcmVjdGl2b0lkOiBpZH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeURpcmVjdGl2byhpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgJHN0YXRlLmdvKCdkaXJlY3Rpdm9zQ2FtYmlvcycsIHtkaXJlY3Rpdm9JZDogaWR9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnbGlzdGFEaXJlY3Rpdm9zJywgbGlzdGFEaXJlY3Rpdm9zKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIGxpc3RhRGlyZWN0aXZvcygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9kaXJlY3Rpdm9zL2xpc3QvZGlyZWN0aXZvcy5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgZGlyZWN0aXZvczogJz1kaXJlY3Rpdm9zJyAgICAgICAgXHJcbiAgICAgIH0sXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCkge1xyXG4gICAgICAgIHNjb3BlLiR3YXRjaCgndm0uZGlyZWN0aXZvcycsIGZ1bmN0aW9uKG5ld1ZhbCkge1xyXG4gICAgICAgICAgICBpZihuZXdWYWwpIHsgXHJcbiAgICAgICAgICAgICAgc2NvcGUudm0uZGlyZWN0aXZvc1Nob3J0ID0gc2NvcGUudm0uZGlyZWN0aXZvcy5tYXAoZnVuY3Rpb24oZGlyZWN0aXZvKXtcclxuICAgICAgICAgICAgICAgIHZhciBhdXggPSB7aWQ6IGRpcmVjdGl2by5pZCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2ljaW9uOiBkaXJlY3Rpdm8ucG9zaWNpb259O1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGl2by5jb2ZyYWRlKXtcclxuICAgICAgICAgICAgICAgICAgYXV4Lm51bWVyb09yZGVuID0gZGlyZWN0aXZvLmNvZnJhZGUubnVtZXJvT3JkZW47XHJcbiAgICAgICAgICAgICAgICAgIGF1eC5ub21icmUgPSBkaXJlY3Rpdm8uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMubm9tYnJlICAgICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2by5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5hcGVsbGlkbzEgKyAnICcgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2by5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5hcGVsbGlkbzI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRydWUpO1xyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnTGlzdGFEaXJlY3Rpdm9zJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdSZW1vdmVEaXJlY3Rpdm8nLCBSZW1vdmVEaXJlY3Rpdm8pO1xyXG5cclxuICBmdW5jdGlvbiBSZW1vdmVEaXJlY3Rpdm8oJHN0YXRlLCAkbWREaWFsb2csIGRpcmVjdGl2b3NTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLnJlbW92ZURpcmVjdGl2byA9IHJlbW92ZURpcmVjdGl2bztcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlRGlyZWN0aXZvKGlkLCBldmVudCl7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB2YXIgcmVtb3ZlRGlhbG9nID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgLnRpdGxlKCdFbGltaW5hciBkaXJlY3Rpdm8nKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ8K/RXN0w6Egc2VndXJvIHF1ZSBkZXNlYSBlbGltaW5hciBlc3RlIGRpcmVjdGl2bz8nKVxyXG4gICAgICAgICAgLmFyaWFMYWJlbCgnRWxpbWluYXIgZGlyZWN0aXZvJylcclxuICAgICAgICAgIC50YXJnZXRFdmVudChldmVudClcclxuICAgICAgICAgIC5vaygnQWNlcHRhcicpXHJcbiAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAuY2xpY2tPdXRzaWRlVG9DbG9zZSh0cnVlKTtcclxuICAgICAgJG1kRGlhbG9nLnNob3cocmVtb3ZlRGlhbG9nKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJlbW92ZUVuZERpcmVjdGl2byhpZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUVuZERpcmVjdGl2byhpZCl7XHJcbiAgICAgIHZhciBkaXJlY3Rpdm8gPSBkaXJlY3Rpdm9zU2VydmljZS5kaXJlY3Rpdm9zUmVzdCgpLmdldCh7aWQ6IGlkfSwgZnVuY3Rpb24oKXtcclxuICAgICAgICBkaXJlY3Rpdm8uJGRlbGV0ZSh7aWQ6IGlkfSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgaWYoJHN0YXRlLmN1cnJlbnQubmFtZSA9PT0gJ2RpcmVjdGl2b3MnKXtcclxuICAgICAgICAgICAgJHN0YXRlLnRyYW5zaXRpb25Ubygkc3RhdGUuY3VycmVudCwgbnVsbCwge1xyXG4gICAgICAgICAgICAgIHJlbG9hZDogdHJ1ZSxcclxuICAgICAgICAgICAgICBpbmhlcml0OiBmYWxzZSxcclxuICAgICAgICAgICAgICBub3RpZnk6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2RpcmVjdGl2b3MnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ3JlbW92ZURpcmVjdGl2bycsIHJlbW92ZURpcmVjdGl2byk7XHJcblxyXG5cclxuICBmdW5jdGlvbiByZW1vdmVEaXJlY3Rpdm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvZGlyZWN0aXZvcy9yZW1vdmUvcmVtb3ZlRGlyZWN0aXZvLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBkaXJlY3Rpdm9JZDogJz1kaXJlY3Rpdm8nICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ1JlbW92ZURpcmVjdGl2bycsXHJcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignTGlzdGFQYXBlbGV0YXNTaXRpb3MnLCBMaXN0YVBhcGVsZXRhc1NpdGlvcyk7XHJcblxyXG4gIGZ1bmN0aW9uIExpc3RhUGFwZWxldGFzU2l0aW9zKCRzdGF0ZSwgcGFwZWxldGFzU2l0aW9zU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0uYW5pbyA9IG51bGw7XHJcblxyXG4gICAgdm0uZ2V0QW5pbyA9IGdldEFuaW87XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0QW5pbygpe1xyXG4gICAgICBwYXBlbGV0YXNTaXRpb3NTZXJ2aWNlLnBhcGVsZXRhc1NpdGlvc1Jlc3QoKS5xdWVyeSh7YW5pbzogdm0uYW5pb30sIGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICB2bS5wYXBlbGV0YXNTaXRpbyA9IHJlc3BvbnNlWzBdO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnbGlzdGFQYXBlbGV0YXNTaXRpb3MnLCBsaXN0YVBhcGVsZXRhc1NpdGlvcyk7XHJcblxyXG5cclxuICBmdW5jdGlvbiBsaXN0YVBhcGVsZXRhc1NpdGlvcygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9wYXBlbGV0YXNTaXRpb3MvbGlzdC9wYXBlbGV0YXNTaXRpb3MuZGlyZWN0aXZlLmh0bWwnLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIGFuaW9zOiAnPXBhcGVsZXRhcycgICAgICAgIFxyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnTGlzdGFQYXBlbGV0YXNTaXRpb3MnLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ1JlbW92ZVBhcGVsZXRhU2l0aW8nLCBSZW1vdmVQYXBlbGV0YVNpdGlvKTtcclxuXHJcbiAgZnVuY3Rpb24gUmVtb3ZlUGFwZWxldGFTaXRpbygkc3RhdGUsICRtZERpYWxvZywgcGFwZWxldGFzU2l0aW9zU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5yZW1vdmVQYXBlbGV0YVNpdGlvID0gcmVtb3ZlUGFwZWxldGFTaXRpbztcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlUGFwZWxldGFTaXRpbyhpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgdmFyIHJlbW92ZURpYWxvZyA9ICRtZERpYWxvZy5jb25maXJtKClcclxuICAgICAgICAgIC50aXRsZSgnRWxpbWluYXIgcGFwZWxldGEgc2l0aW8nKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ8K/RXN0w6Egc2VndXJvIHF1ZSBkZXNlYSBlbGltaW5hciBlc3RhIHBhcGVsZXRhIGRlIHNpdGlvPycpXHJcbiAgICAgICAgICAuYXJpYUxhYmVsKCdFbGltaW5hciBwYXBlbGV0YVNpdGlvJylcclxuICAgICAgICAgIC50YXJnZXRFdmVudChldmVudClcclxuICAgICAgICAgIC5vaygnQWNlcHRhcicpXHJcbiAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAuY2xpY2tPdXRzaWRlVG9DbG9zZSh0cnVlKTtcclxuICAgICAgJG1kRGlhbG9nLnNob3cocmVtb3ZlRGlhbG9nKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJlbW92ZUVuZFBhcGVsZXRhU2l0aW8oaWQpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVFbmRQYXBlbGV0YVNpdGlvKHBhcGVsZXRhT2JqKXtcclxuICAgICAgcGFwZWxldGFzU2l0aW9zU2VydmljZS5wYXBlbGV0YXNTaXRpb3NSZXN0KCkuc2F2ZSh7YW5pbzogcGFwZWxldGFPYmouYW5pbywgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcGVsZXRhczogW3BhcGVsZXRhT2JqLnBhcGVsZXRhXSwgcmVtb3ZlOiB0cnVlfSwgZnVuY3Rpb24oKXtcclxuICAgICAgICBpZigkc3RhdGUuY3VycmVudC5uYW1lID09PSAncGFwZWxldGFzU2l0aW9zJyl7XHJcbiAgICAgICAgICAkc3RhdGUudHJhbnNpdGlvblRvKCRzdGF0ZS5jdXJyZW50LCBudWxsLCB7XHJcbiAgICAgICAgICAgIHJlbG9hZDogdHJ1ZSxcclxuICAgICAgICAgICAgaW5oZXJpdDogZmFsc2UsXHJcbiAgICAgICAgICAgIG5vdGlmeTogdHJ1ZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ3BhcGVsZXRhc1NpdGlvcycpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ3JlbW92ZVBhcGVsZXRhU2l0aW8nLCByZW1vdmVQYXBlbGV0YVNpdGlvKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIHJlbW92ZVBhcGVsZXRhU2l0aW8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvcGFwZWxldGFzU2l0aW9zL3JlbW92ZS9yZW1vdmVQYXBlbGV0YVNpdGlvLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBwYXBlbGV0YVNpdGlvOiAnPXBhcGVsZXRhJyAgICAgICAgXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbnRyb2xsZXI6ICdSZW1vdmVQYXBlbGV0YVNpdGlvJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdMaXN0YVNlY3RvcmVzJywgTGlzdGFTZWN0b3Jlcyk7XHJcblxyXG4gIGZ1bmN0aW9uIExpc3RhU2VjdG9yZXMoJHN0YXRlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5tb2RpZnlTZWN0b3IgPSBtb2RpZnlTZWN0b3I7XHJcbiAgICB2bS5tb2RpZnlDYWxsZSAgPSBtb2RpZnlDYWxsZTtcclxuICAgIHZtLmFkZENhbGxlICAgICA9IGFkZENhbGxlO1xyXG4gICAgdm0uc2hvd0NhbGxlcyAgID0gc2hvd0NhbGxlcztcclxuXHJcbiAgICBmdW5jdGlvbiBzaG93Q2FsbGVzKHNlY3RvciwgZXZlbnQpe1xyXG4gICAgICBzZWN0b3IgPSAnY2FsbGVzU2VjdG9yJytzZWN0b3I7XHJcbiAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWN0b3IpKS50b2dnbGVDbGFzcygnb2N1bHRhcicpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeVNlY3RvcihpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgJHN0YXRlLmdvKCdzZWN0b3Jlc0NhbWJpb3MnLCB7c2VjdG9ySWQ6IGlkfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbW9kaWZ5Q2FsbGUoaWQsIGNhbGxlLCBldmVudCl7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAkc3RhdGUuZ28oJ3NlY3RvcmVzQ2FtYmlvcycsIHtzZWN0b3JJZDogaWQsIGNhbGxlOiBjYWxsZX0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZENhbGxlKGlkLCBldmVudCl7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAkc3RhdGUuZ28oJ3NlY3RvcmVzQ2FtYmlvcycsIHtzZWN0b3JJZDogaWQsIGNhbGxlOiAnbmV3J30pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdsaXN0YVNlY3RvcmVzJywgbGlzdGFTZWN0b3Jlcyk7XHJcblxyXG5cclxuICBmdW5jdGlvbiBsaXN0YVNlY3RvcmVzKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9kaXJlY3RpdmVzL3NlY3RvcmVzL2xpc3Qvc2VjdG9yZXMuZGlyZWN0aXZlLmh0bWwnLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIHNlY3RvcmVzOiAnPXNlY3RvcmVzJyAgICAgICAgXHJcbiAgICAgIH0sXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCkge1xyXG4gICAgICAgIHNjb3BlLiR3YXRjaCgndm0uc2VjdG9yZXMnLCBmdW5jdGlvbihuZXdWYWwpIHtcclxuICAgICAgICAgICAgaWYobmV3VmFsKSB7IFxyXG4gICAgICAgICAgICAgIHNjb3BlLnZtLnNlY3RvcmVzU2hvcnQgPSBzY29wZS52bS5zZWN0b3Jlcy5tYXAoZnVuY3Rpb24oc2VjdG9yKXtcclxuICAgICAgICAgICAgICAgIHZhciBhdXggPSB7aWQ6IHNlY3Rvci5pZCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWVyb1NlY3Rvcjogc2VjdG9yLm51bWVyb1NlY3RvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVzOiBzZWN0b3IuY2FsbGVzfTtcclxuICAgICAgICAgICAgICAgIGlmIChzZWN0b3IuY29mcmFkZSl7XHJcbiAgICAgICAgICAgICAgICAgIGF1eC5udW1lcm9PcmRlbiA9IHNlY3Rvci5jb2ZyYWRlLm51bWVyb09yZGVuO1xyXG4gICAgICAgICAgICAgICAgICBhdXgubm9tYnJlID0gc2VjdG9yLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLm5vbWJyZSAgICArICcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0b3IuY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuYXBlbGxpZG8xICsgJyAnICsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0b3IuY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuYXBlbGxpZG8yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1eDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0cnVlKTtcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ0xpc3RhU2VjdG9yZXMnLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ1JlbW92ZVNlY3RvcicsIFJlbW92ZVNlY3Rvcik7XHJcblxyXG4gIGZ1bmN0aW9uIFJlbW92ZVNlY3Rvcigkc3RhdGUsICRtZERpYWxvZywgJG1kVG9hc3QsIHNlY3RvcmVzU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5yZW1vdmVTZWN0b3IgPSByZW1vdmVTZWN0b3I7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHJlbW92ZVNlY3RvcihpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgdmFyIHJlbW92ZURpYWxvZyA9ICRtZERpYWxvZy5jb25maXJtKClcclxuICAgICAgICAgIC50aXRsZSgnRWxpbWluYXIgc2VjdG9yJylcclxuICAgICAgICAgIC5jb250ZW50KCfCv0VzdMOhIHNlZ3VybyBxdWUgZGVzZWEgZWxpbWluYXIgZXN0ZSBzZWN0b3I/JylcclxuICAgICAgICAgIC5hcmlhTGFiZWwoJ0VsaW1pbmFyIHNlY3RvcicpXHJcbiAgICAgICAgICAudGFyZ2V0RXZlbnQoZXZlbnQpXHJcbiAgICAgICAgICAub2soJ0FjZXB0YXInKVxyXG4gICAgICAgICAgLmNhbmNlbCgnQ2FuY2VsYXInKVxyXG4gICAgICAgICAgLmNsaWNrT3V0c2lkZVRvQ2xvc2UodHJ1ZSk7XHJcbiAgICAgICRtZERpYWxvZy5zaG93KHJlbW92ZURpYWxvZykudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICByZW1vdmVFbmRTZWN0b3IoaWQpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVFbmRTZWN0b3IoaWQpe1xyXG4gICAgICB2YXIgc2VjdG9yID0gc2VjdG9yZXNTZXJ2aWNlLnNlY3RvcmVzUmVzdCgpLmdldCh7aWQ6IGlkfSwgZnVuY3Rpb24oKXtcclxuICAgICAgICBpZihzZWN0b3JbMF0uY2FsbGVzLmxlbmd0aCAhPT0gMCl7XHJcbiAgICAgICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgICAgIC5jb250ZW50KCdObyBzZSBwdWVkZSBlbGltaW5hciB1biBzZWN0b3IgY29uIGNhbGxlcyBhc2lnbmFkYXMnKVxyXG4gICAgICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgc2VjdG9yWzBdLiRkZWxldGUoe2lkOiBpZH0pLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaWYoJHN0YXRlLmN1cnJlbnQubmFtZSA9PT0gJ3NlY3RvcmVzJyl7XHJcbiAgICAgICAgICAgICAgJHN0YXRlLnRyYW5zaXRpb25Ubygkc3RhdGUuY3VycmVudCwgbnVsbCwge1xyXG4gICAgICAgICAgICAgICAgcmVsb2FkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaW5oZXJpdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBub3RpZnk6IHRydWVcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICRzdGF0ZS5nbygnc2VjdG9yZXMnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgncmVtb3ZlU2VjdG9yJywgcmVtb3ZlU2VjdG9yKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIHJlbW92ZVNlY3RvcigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9zZWN0b3Jlcy9yZW1vdmUvcmVtb3ZlU2VjdG9yLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBzZWN0b3JJZDogJz1zZWN0b3InICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ1JlbW92ZVNlY3RvcicsXHJcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignUmVtb3ZlQ29mcmFkZVRtcGwnLCBSZW1vdmVDb2ZyYWRlVG1wbCk7XHJcblxyXG4gIGZ1bmN0aW9uIFJlbW92ZUNvZnJhZGVUbXBsKCRzdGF0ZSwgJG1kRGlhbG9nLCBjb2ZyYWRlc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgdm0uY2xvc2VEaWFsb2cgPSBjbG9zZURpYWxvZztcclxuICAgIHZtLnJlbW92ZUVuZENvZnJhZGUgPSByZW1vdmVFbmRDb2ZyYWRlO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNsb3NlRGlhbG9nKCkge1xyXG4gICAgICAkbWREaWFsb2cuY2FuY2VsKCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZW1vdmVFbmRDb2ZyYWRlKGlkKXtcclxuICAgICAgdmFyIGNvZnJhZGUgPSBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkuZ2V0KHtpZDogaWR9LCBmdW5jdGlvbigpe1xyXG4gICAgICAgIGNvZnJhZGUuYmFqYSA9IHttb3Rpdm8gOiB2bS5tb3Rpdm9CYWphLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmZWNoYUJhamE6IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9O1xyXG4gICAgICAgIGNvZnJhZGUubnVtZXJvQ29mcmFkZSA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29mcmFkZS4kc2F2ZSh7dXBkYXRlTnVtZXJvQ29mcmFkZTogdHJ1ZX0pLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgIHZtLmNsb3NlRGlhbG9nKCk7XHJcbiAgICAgICAgICBpZigkc3RhdGUuY3VycmVudC5uYW1lID09PSAnY29mcmFkZXMnKXtcclxuICAgICAgICAgICAgJHN0YXRlLnRyYW5zaXRpb25Ubygkc3RhdGUuY3VycmVudCwgbnVsbCwge1xyXG4gICAgICAgICAgICAgIHJlbG9hZDogdHJ1ZSxcclxuICAgICAgICAgICAgICBpbmhlcml0OiBmYWxzZSxcclxuICAgICAgICAgICAgICBub3RpZnk6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2NvZnJhZGVzJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
