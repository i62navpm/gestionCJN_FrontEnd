!function(){"use strict";angular.module("app",["ui.router","ngResource","ngMaterial","uiGmapgoogle-maps"])}(),function(){"use strict";function e(e){e.configure({libraries:"weather,geometry,visualization"})}angular.module("app").config(e),e.$inject=["uiGmapGoogleMapApiProvider"]}(),function(){"use strict";function e(e,t){t.otherwise("/"),e.state("home",{url:"/",template:'<p class="lead">Welcome to the UI-Router Demo</p><p>Use the menu above to navigate. Pay attention to the <code>$state</code> and <code>$stateParams</code> values below.</p><p>Click these links—<a href="#/c?id=1">Alice</a> or <a href="#/user/42">Bob</a>—to see a url redirect in action.</p>'})}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){}angular.module("app").config(e),e.$inject=["$mdThemingProvider"]}(),function(){"use strict";function e(e){e.state("cofrades",{url:"/cofrades",templateProvider:["$templateCache",function(e){return e.get("cofrades/list/cofrades.html")}],controller:"Cofrades",controllerAs:"vm",resolve:{cofradesPrepService:t}}).state("cofradesDetalle",{url:"/cofrades/:cofradeId",templateProvider:["$templateCache",function(e){return e.get("cofrades/detail/cofradeDetalle.html")}],controller:"CofradeDetalle",controllerAs:"vm",resolve:{getCofradePrepService:r}})}function t(e){return e.cofradesRest().query()}function r(e,t){return e.cofradesRest().get({id:t.cofradeId})}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["cofradesService"],r.$inject=["cofradesService","$stateParams"]}(),function(){"use strict";function e(e,t,r){function o(){return t.$promise.then(function(t){n.cofrade=t;var o=n.cofrade.datosPersonales.direccion.calle+" "+n.cofrade.datosPersonales.direccion.numero+" "+n.cofrade.datosPersonales.direccion.municipio+" "+n.cofrade.datosPersonales.direccion.provincia+" "+n.cofrade.datosPersonales.direccion.cp;r.geoCodingAPI(o).then(function(t){if(t.data.results.length){var r=t.data.results[0].geometry.location;e.then(function(e){n.maps={coord:{latitude:r.lat,longitude:r.lng},zoom:17}})}})})}var n=this;n.cofrade=null,o()}angular.module("app").controller("CofradeDetalle",e),e.$inject=["uiGmapGoogleMapApi","getCofradePrepService","mapasService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){r.nextPage=e.next,r.cofrades=e.results})}var r=this;r.cofrades=null,r.nextPage=null,t()}angular.module("app").controller("Cofrades",e),e.$inject=["cofradesPrepService"]}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,t,r){var o=t[0];t.bind("scroll",function(){o.scrollTop+o.offsetHeight>=o.scrollHeight-5&&e.$emit("scrollDown")})}}}angular.module("app").directive("scrolly",e)}(),function(){"use strict";function e(){return function(t){var r=t instanceof Array;for(var o in t)null===t[o]?r?t.splice(o,1):delete t[o]:"object"==typeof t[o]&&e(t[o]);return t}}angular.module("app").filter("removeNulls",e)}(),function(){"use strict";function e(e,t){function r(){return e("http://127.0.0.1:5050/api/cofrades/:id.json:json",null,{query:{method:"GET",isArray:!1,cache:!0},save:{method:"POST",transformRequest:function(e,r){return angular.toJson(t("removeNulls")(e))}}})}function o(){return e("http://127.0.0.1:5050/api/cofradesBajas/:id.json:json",null,{query:{method:"GET",isArray:!1}})}return{cofradesRest:r,cofradesBajasRest:o}}angular.module("app").factory("cofradesService",e),e.$inject=["$resource","$filter"]}(),function(){"use strict";function e(e){function t(t){return e.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:t,key:"AIzaSyDC_OIDSl6curjCMCLyzn2yhMmg-er5knI"}}).then(function(e){return e})}return{geoCodingAPI:t}}angular.module("app").factory("mapasService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t){function r(t){e(t).toggle()}function o(e,o){r(o),t.go(e)}var n=this;n.toggleSidenav=r,n.navigateTo=o}angular.module("app").controller("AppCtrl",e),e.$inject=["$mdSidenav","$state"]}(),function(){"use strict";function e(e,t,r){function o(){if(i.nextPage){var e={page:i.nextPage};i.buscar&&(e[i.filtro]=i.buscar),r.cofradesRest().query(e,function(e){i.nextPage=e.next,i.cofrades=i.cofrades.concat(e.results)})}}function n(){var e={};e[i.filtro]=i.buscar,r.cofradesRest().query(e,function(e){i.nextPage=e.next,i.cofrades=e.results})}function a(){i.buscar=null,i.typeInput="nombre"===i.filtro?"text":"number"}function c(e,r){t.go("cofradesDetalle",{cofradeId:e})}var i=this;i.filtro="nombre",i.typeInput="text",i.buscar=null,i.busqueda=n,i.radioChange=a,i.goToCofrade=c,e.$on("scrollDown",o)}angular.module("app").controller("ListaCofrades",e),e.$inject=["$rootScope","$state","cofradesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/cofrades/cofrades.directive.html",scope:{cofrades:"=cofrades",nextPage:"=page"},controller:"ListaCofrades",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaCofrades",e)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5pbml0Lm1vZHVsZS5qcyIsImFwcC5tYXAuanMiLCJhbGwubWluLmpzIiwiYXBwLnJvdXRlcy5qcyIsImFwcC50aGVtZS5qcyIsImNvZnJhZGVzL2NvZnJhZGVzLnJvdXRlcy5qcyIsImNvZnJhZGVzL2RldGFpbC9jb2ZyYWRlRGV0YWxsZS5jb250cm9sbGVyLmpzIiwiY29mcmFkZXMvbGlzdC9jb2ZyYWRlcy5jb250cm9sbGVyLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL3Njcm9sbHkuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9maWx0ZXJzL3JlbW92ZU51bGxzLmZpbHRlci5qcyIsImNvbW1vbnMvc2VydmljZXMvY29mcmFkZXMuc2VydmljZS5qcyIsImNvbW1vbnMvc2VydmljZXMvbWFwYXMuc2VydmljZS5qcyIsImludGVyZmF6L2FwcC5jb250cm9sbGVyLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2NvZnJhZGVzL2NvZnJhZGVzLmNvbnRyb2xsZXIuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2NvZnJhZGVzL2NvZnJhZGVzLmRpcmVjdGl2ZS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiZ29vZ2xlTWFwQVBJIiwidWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIiLCJjb25maWd1cmUiLCJsaWJyYXJpZXMiLCJjb25maWciLCIkaW5qZWN0IiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlIiwidGhlbWVBbmd1bGFyTWF0ZXJpYWwiLCIkbWRUaGVtaW5nUHJvdmlkZXIiLCJ0ZW1wbGF0ZVByb3ZpZGVyIiwiJHRlbXBsYXRlQ2FjaGUiLCJnZXQiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwicmVzb2x2ZSIsImNvZnJhZGVzUHJlcFNlcnZpY2UiLCJnZXRDb2ZyYWRlUHJlcFNlcnZpY2UiLCJjb2ZyYWRlc1NlcnZpY2UiLCJjb2ZyYWRlc1Jlc3QiLCJxdWVyeSIsIiRzdGF0ZVBhcmFtcyIsImlkIiwiY29mcmFkZUlkIiwiQ29mcmFkZURldGFsbGUiLCJ1aUdtYXBHb29nbGVNYXBBcGkiLCJtYXBhc1NlcnZpY2UiLCJhY3RpdmF0ZSIsIiRwcm9taXNlIiwidGhlbiIsImRhdGEiLCJ2bSIsImNvZnJhZGUiLCJhZGRyZXNzIiwiZGF0b3NQZXJzb25hbGVzIiwiZGlyZWNjaW9uIiwiY2FsbGUiLCJudW1lcm8iLCJtdW5pY2lwaW8iLCJwcm92aW5jaWEiLCJjcCIsImdlb0NvZGluZ0FQSSIsInJlc3BvbnNlIiwicmVzdWx0cyIsImxlbmd0aCIsImNvb3JkaW5hdGVzIiwiZ2VvbWV0cnkiLCJsb2NhdGlvbiIsIm1hcHMiLCJjb29yZCIsImxhdGl0dWRlIiwibGF0IiwibG9uZ2l0dWRlIiwibG5nIiwiem9vbSIsInRoaXMiLCJDb2ZyYWRlcyIsIm5leHRQYWdlIiwibmV4dCIsImNvZnJhZGVzIiwic2Nyb2xseSIsInJlc3RyaWN0IiwibGluayIsIiRyb290U2NvcGUiLCJlbGVtZW50IiwiYXR0cnMiLCJyYXciLCJiaW5kIiwic2Nyb2xsVG9wIiwib2Zmc2V0SGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0IiwiJGVtaXQiLCJkaXJlY3RpdmUiLCJyZW1vdmVOdWxscyIsIm9iaiIsImlzQXJyYXkiLCJBcnJheSIsImsiLCJzcGxpY2UiLCJmaWx0ZXIiLCIkcmVzb3VyY2UiLCIkZmlsdGVyIiwibWV0aG9kIiwiY2FjaGUiLCJzYXZlIiwidHJhbnNmb3JtUmVxdWVzdCIsImhlYWRlcnNHZXR0ZXIiLCJ0b0pzb24iLCJjb2ZyYWRlc0JhamFzUmVzdCIsImZhY3RvcnkiLCIkaHR0cCIsInBhcmFtcyIsImtleSIsIkFwcEN0cmwiLCIkbWRTaWRlbmF2IiwiJHN0YXRlIiwidG9nZ2xlU2lkZW5hdiIsIm1lbnVJZCIsInRvZ2dsZSIsIm5hdmlnYXRlVG8iLCJ0byIsImdvIiwiTGlzdGFDb2ZyYWRlcyIsImdldE5leHRQYWdlIiwicGFyYW1ldGVycyIsInBhZ2UiLCJidXNjYXIiLCJmaWx0cm8iLCJjb25jYXQiLCJidXNxdWVkYSIsInJhZGlvQ2hhbmdlIiwidHlwZUlucHV0IiwiZ29Ub0NvZnJhZGUiLCJldmVudCIsIiRvbiIsImxpc3RhQ29mcmFkZXMiLCJ0ZW1wbGF0ZVVybCIsInNjb3BlIiwiYmluZFRvQ29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQSxZQUVBQSxTQUFBQyxPQUFBLE9BQ0EsWUFDQSxhQUNBLGFBQ0EseUJDUEEsV0FDQSxZQU1BLFNBQUFDLEdBQUFDLEdBQ0FBLEVBQUFDLFdBQ0FDLFVBQUEsbUNBTkFMLFFBQ0FDLE9BQUEsT0FDQUssT0FBQUosR0NrQkVBLEVBQWFLLFNBQVcsaUNDdkIxQixXQUNBLFlBTUEsU0FBQUQsR0FBQUUsRUFBQUMsR0FFQUEsRUFBQUMsVUFBQSxLQUVBRixFQUNBRyxNQUFBLFFBQ0FDLElBQUEsSUFDQUMsU0FBQSxzU0FYQWIsUUFDQUMsT0FBQSxPQUNBSyxPQUFBQSxHRDBDRUEsRUFBT0MsU0FBVyxpQkFBa0IseUJFL0N0QyxXQUNBLFlBTUEsU0FBQU8sR0FBQUMsSUFKQWYsUUFDQUMsT0FBQSxPQUNBSyxPQUFBUSxHRnVERUEsRUFBcUJQLFNBQVcseUJHNURsQyxXQUNBLFlBTUEsU0FBQUQsR0FBQUUsR0FDQUEsRUFDQUcsTUFBQSxZQUNBQyxJQUFBLFlBQ0FJLGtCQUFBLGlCQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQUMsSUFBQSxpQ0FFQUMsV0FBQSxXQUNBQyxhQUFBLEtBQ0FDLFNBQ0FDLG9CQUFBQSxLQUdBWCxNQUFBLG1CQUNBQyxJQUFBLHVCQUNBSSxrQkFBQSxpQkFBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQUFDLElBQUEseUNBRUFDLFdBQUEsaUJBQ0FDLGFBQUEsS0FDQUMsU0FDQUUsc0JBQUFBLEtBS0EsUUFBQUQsR0FBQUUsR0FDQSxNQUFBQSxHQUFBQyxlQUFBQyxRQUdBLFFBQUFILEdBQUFDLEVBQUFHLEdBQ0EsTUFBQUgsR0FBQUMsZUFBQVAsS0FBQVUsR0FBQUQsRUFBQUUs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QUFBSyxHQUFBMUYsRUFBQTJGLEdBQ0FsQixFQUFBTSxHQUFBLG1CQUFBOUUsVUFBQUQsSUF6Q0EsR0FBQVMsR0FBQXdCLElBRUF4QixHQUFBNEUsT0FBQSxTQUNBNUUsRUFBQWdGLFVBQUEsT0FDQWhGLEVBQUEyRSxPQUFBLEtBRUEzRSxFQUFBOEUsU0FBQUEsRUFDQTlFLEVBQUErRSxZQUFBQSxFQUNBL0UsRUFBQWlGLFlBQUFBLEVBRUFqRCxFQUFBbUQsSUFBQSxhQUFBWCxHQWZBN0csUUFDQUMsT0FBQSxPQUNBa0IsV0FBQSxnQkFBQXlGLEdYd1ZFQSxFQUFjckcsU0FBVyxhQUFjLFNBQVUsc0JZN1ZuRCxXQUNBLFlBT0EsU0FBQWtILEtBQ0EsT0FDQXRELFNBQUEsSUFDQXVELFlBQUEsMERBQ0FDLE9BQ0ExRCxTQUFBLFlBQ0FGLFNBQUEsU0FFQTVDLFdBQUEsZ0JBQ0FDLGFBQUEsS0FDQXdHLGtCQUFBLEdBZkE1SCxRQUNBQyxPQUFBLE9BQ0E2RSxVQUFBLGdCQUFBMkMiLCJmaWxlIjoiYWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXHJcbiAgICAndWkucm91dGVyJyxcclxuICAgICduZ1Jlc291cmNlJyxcclxuICAgICduZ01hdGVyaWFsJyxcclxuICAgICd1aUdtYXBnb29nbGUtbWFwcydcclxuICBdKTtcclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoZ29vZ2xlTWFwQVBJKTtcclxuXHJcbiAgZnVuY3Rpb24gZ29vZ2xlTWFwQVBJKHVpR21hcEdvb2dsZU1hcEFwaVByb3ZpZGVyKXtcclxuICAgIHVpR21hcEdvb2dsZU1hcEFwaVByb3ZpZGVyLmNvbmZpZ3VyZSh7XHJcbiAgICAgICAgbGlicmFyaWVzOiAnd2VhdGhlcixnZW9tZXRyeSx2aXN1YWxpemF0aW9uJ1xyXG4gICAgfSk7ICAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IixudWxsLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xyXG5cclxuICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCIvXCIpO1xyXG5cclxuICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgIC5zdGF0ZShcImhvbWVcIiwge1xyXG4gICAgICAgIHVybDogXCIvXCIsXHJcbiAgICAgICAgdGVtcGxhdGU6ICc8cCBjbGFzcz1cImxlYWRcIj5XZWxjb21lIHRvIHRoZSBVSS1Sb3V0ZXIgRGVtbzwvcD4nICtcclxuICAgICAgICAgICc8cD5Vc2UgdGhlIG1lbnUgYWJvdmUgdG8gbmF2aWdhdGUuICcgK1xyXG4gICAgICAgICAgJ1BheSBhdHRlbnRpb24gdG8gdGhlIDxjb2RlPiRzdGF0ZTwvY29kZT4gYW5kIDxjb2RlPiRzdGF0ZVBhcmFtczwvY29kZT4gdmFsdWVzIGJlbG93LjwvcD4nICtcclxuICAgICAgICAgICc8cD5DbGljayB0aGVzZSBsaW5rc+KAlDxhIGhyZWY9XCIjL2M/aWQ9MVwiPkFsaWNlPC9hPiBvciAnICtcclxuICAgICAgICAgICc8YSBocmVmPVwiIy91c2VyLzQyXCI+Qm9iPC9hPuKAlHRvIHNlZSBhIHVybCByZWRpcmVjdCBpbiBhY3Rpb24uPC9wPidcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyh0aGVtZUFuZ3VsYXJNYXRlcmlhbCk7XHJcblxyXG4gIGZ1bmN0aW9uIHRoZW1lQW5ndWxhck1hdGVyaWFsKCRtZFRoZW1pbmdQcm92aWRlcil7XHJcbiAgICBcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGNvbmZpZyk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xyXG4gICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgLnN0YXRlKCdjb2ZyYWRlcycsIHtcclxuICAgICAgICB1cmw6IFwiL2NvZnJhZGVzXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdjb2ZyYWRlcy9saXN0L2NvZnJhZGVzLmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnQ29mcmFkZXMnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIGNvZnJhZGVzUHJlcFNlcnZpY2U6IGNvZnJhZGVzUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5zdGF0ZSgnY29mcmFkZXNEZXRhbGxlJywge1xyXG4gICAgICAgIHVybDogXCIvY29mcmFkZXMvOmNvZnJhZGVJZFwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnY29mcmFkZXMvZGV0YWlsL2NvZnJhZGVEZXRhbGxlLmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnQ29mcmFkZURldGFsbGUnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIGdldENvZnJhZGVQcmVwU2VydmljZTogZ2V0Q29mcmFkZVByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNvZnJhZGVzUHJlcFNlcnZpY2UoY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzUmVzdCgpLnF1ZXJ5KCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRDb2ZyYWRlUHJlcFNlcnZpY2UoY29mcmFkZXNTZXJ2aWNlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgIHJldHVybiBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkuZ2V0KHtpZDogJHN0YXRlUGFyYW1zLmNvZnJhZGVJZH0pO1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0NvZnJhZGVEZXRhbGxlJywgQ29mcmFkZURldGFsbGUpO1xyXG5cclxuICBmdW5jdGlvbiBDb2ZyYWRlRGV0YWxsZSh1aUdtYXBHb29nbGVNYXBBcGksIGdldENvZnJhZGVQcmVwU2VydmljZSwgbWFwYXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLmNvZnJhZGUgPSBudWxsO1xyXG4gICAgXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgcmV0dXJuIGdldENvZnJhZGVQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLmNvZnJhZGUgPSBkYXRhO1xyXG4gICAgICAgIHZhciBhZGRyZXNzID0gdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLmNhbGxlICAgICArICcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ubnVtZXJvICAgICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5tdW5pY2lwaW8gKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLnByb3ZpbmNpYSArICcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY3A7XHJcblxyXG4gICAgICAgIG1hcGFzU2VydmljZS5nZW9Db2RpbmdBUEkoYWRkcmVzcykuXHJcbiAgICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucmVzdWx0cy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgIHZhciBjb29yZGluYXRlcyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbjtcclxuXHJcbiAgICAgICAgICAgICAgdWlHbWFwR29vZ2xlTWFwQXBpLnRoZW4oZnVuY3Rpb24obWFwcykge1xyXG4gICAgICAgICAgICAgICAgdm0ubWFwcyA9IHtjb29yZDogeyBsYXRpdHVkZTogY29vcmRpbmF0ZXMubGF0LCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBjb29yZGluYXRlcy5sbmcgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMTcgfTtcclxuXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQ29mcmFkZXMnLCBDb2ZyYWRlcyk7XHJcblxyXG4gIGZ1bmN0aW9uIENvZnJhZGVzKGNvZnJhZGVzUHJlcFNlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLmNvZnJhZGVzID0gbnVsbDtcclxuICAgIHZtLm5leHRQYWdlID0gbnVsbDtcclxuXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgcmV0dXJuIGNvZnJhZGVzUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5uZXh0UGFnZSA9IGRhdGEubmV4dDtcclxuICAgICAgICB2bS5jb2ZyYWRlcyA9IGRhdGEucmVzdWx0cztcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ3Njcm9sbHknLCBzY3JvbGx5KTtcclxuXHJcbiAgZnVuY3Rpb24gc2Nyb2xseSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uICgkcm9vdFNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgIHZhciByYXcgPSBlbGVtZW50WzBdO1xyXG4gICAgICAgIGVsZW1lbnQuYmluZCgnc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgaWYgKHJhdy5zY3JvbGxUb3AgKyByYXcub2Zmc2V0SGVpZ2h0ID49IHJhdy5zY3JvbGxIZWlnaHQtNSkge1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KFwic2Nyb2xsRG93blwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZpbHRlcigncmVtb3ZlTnVsbHMnLCByZW1vdmVOdWxscyk7XHJcblxyXG4gIGZ1bmN0aW9uIHJlbW92ZU51bGxzKCl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKXtcclxuICAgICAgdmFyIGlzQXJyYXkgPSBvYmogaW5zdGFuY2VvZiBBcnJheTtcclxuICAgICAgZm9yICh2YXIgayBpbiBvYmope1xyXG4gICAgICAgIGlmIChvYmpba109PT1udWxsKSBpc0FycmF5ID8gb2JqLnNwbGljZShrLDEpIDogZGVsZXRlIG9ialtrXTtcclxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqW2tdPT1cIm9iamVjdFwiKSByZW1vdmVOdWxscyhvYmpba10pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgnY29mcmFkZXNTZXJ2aWNlJywgY29mcmFkZXNTZXJ2aWNlKTtcclxuXHJcbiAgZnVuY3Rpb24gY29mcmFkZXNTZXJ2aWNlKCRyZXNvdXJjZSwgJGZpbHRlcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY29mcmFkZXNSZXN0OiBjb2ZyYWRlc1Jlc3QsXHJcbiAgICAgIGNvZnJhZGVzQmFqYXNSZXN0OiBjb2ZyYWRlc0JhamFzUmVzdFxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb2ZyYWRlc1Jlc3QoKSB7XHJcbiAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2h0dHA6Ly8xMjcuMC4wLjE6NTA1MC9hcGkvY29mcmFkZXMvOmlkLmpzb246anNvbicsIG51bGwsIHtcclxuICAgICAgICAncXVlcnknOiAge21ldGhvZDonR0VUJywgaXNBcnJheTogZmFsc2UsIGNhY2hlOiB0cnVlfSxcclxuICAgICAgICAnc2F2ZSc6ICAge21ldGhvZDonUE9TVCcsIHRyYW5zZm9ybVJlcXVlc3Q6IGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIudG9Kc29uKCRmaWx0ZXIoJ3JlbW92ZU51bGxzJykoZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb2ZyYWRlc0JhamFzUmVzdCgpIHtcclxuICAgICAgcmV0dXJuICRyZXNvdXJjZSgnaHR0cDovLzEyNy4wLjAuMTo1MDUwL2FwaS9jb2ZyYWRlc0JhamFzLzppZC5qc29uOmpzb24nLCBudWxsLCB7J3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6ZmFsc2V9fSk7XHJcbiAgICB9XHJcbiAgICBcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgnbWFwYXNTZXJ2aWNlJywgbWFwYXNTZXJ2aWNlKTtcclxuXHJcbiAgZnVuY3Rpb24gbWFwYXNTZXJ2aWNlKCRodHRwKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBnZW9Db2RpbmdBUEk6IGdlb0NvZGluZ0FQSVxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZW9Db2RpbmdBUEkoYWRkcmVzcykge1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KCdodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvZ2VvY29kZS9qc29uJywge3BhcmFtczoge2FkZHJlc3M6IGFkZHJlc3MsIGtleTogXCJBSXphU3lEQ19PSURTbDZjdXJqQ01DTHl6bjJ5aE1tZy1lcjVrbklcIn19KS5cclxuICAgICAgdGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICB9KTtcclxuICAgIH0gICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIFxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQXBwQ3RybCcsIEFwcEN0cmwpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gQXBwQ3RybCgkbWRTaWRlbmF2LCAkc3RhdGUpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICB2bS50b2dnbGVTaWRlbmF2ID0gdG9nZ2xlU2lkZW5hdjtcclxuICAgIHZtLm5hdmlnYXRlVG8gICAgPSBuYXZpZ2F0ZVRvO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiB0b2dnbGVTaWRlbmF2KG1lbnVJZCkge1xyXG4gICAgICAkbWRTaWRlbmF2KG1lbnVJZCkudG9nZ2xlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmF2aWdhdGVUbyh0bywgbWVudUlkKXtcclxuICAgICAgdG9nZ2xlU2lkZW5hdihtZW51SWQpXHJcbiAgICAgICRzdGF0ZS5nbyh0byk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0xpc3RhQ29mcmFkZXMnLCBMaXN0YUNvZnJhZGVzKTtcclxuXHJcbiAgZnVuY3Rpb24gTGlzdGFDb2ZyYWRlcygkcm9vdFNjb3BlLCAkc3RhdGUsIGNvZnJhZGVzU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0uZmlsdHJvICAgID0gJ25vbWJyZSc7XHJcbiAgICB2bS50eXBlSW5wdXQgPSAndGV4dCc7XHJcbiAgICB2bS5idXNjYXIgICAgPSBudWxsO1xyXG5cclxuICAgIHZtLmJ1c3F1ZWRhICAgICA9IGJ1c3F1ZWRhO1xyXG4gICAgdm0ucmFkaW9DaGFuZ2UgID0gcmFkaW9DaGFuZ2U7XHJcbiAgICB2bS5nb1RvQ29mcmFkZSA9IGdvVG9Db2ZyYWRlO1xyXG5cclxuICAgICRyb290U2NvcGUuJG9uKCdzY3JvbGxEb3duJywgZ2V0TmV4dFBhZ2UpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldE5leHRQYWdlKCkge1xyXG4gICAgICBpZiAodm0ubmV4dFBhZ2Upe1xyXG4gICAgICAgIHZhciBwYXJhbWV0ZXJzID0ge3BhZ2U6IHZtLm5leHRQYWdlfTtcclxuXHJcbiAgICAgICAgaWYgKHZtLmJ1c2NhcilcclxuICAgICAgICAgIHBhcmFtZXRlcnNbdm0uZmlsdHJvXSA9IHZtLmJ1c2NhcjtcclxuXHJcbiAgICAgICAgY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzUmVzdCgpLnF1ZXJ5KHBhcmFtZXRlcnMsIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgdm0ubmV4dFBhZ2UgPSBkYXRhLm5leHQ7XHJcbiAgICAgICAgICB2bS5jb2ZyYWRlcyA9IHZtLmNvZnJhZGVzLmNvbmNhdChkYXRhLnJlc3VsdHMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYnVzcXVlZGEoKSB7XHJcbiAgICAgIHZhciBmaWx0cm8gPSB7fTtcclxuICAgICAgZmlsdHJvW3ZtLmZpbHRyb10gPSB2bS5idXNjYXI7XHJcbiAgICAgIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5xdWVyeShmaWx0cm8sIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLm5leHRQYWdlID0gZGF0YS5uZXh0O1xyXG4gICAgICAgIHZtLmNvZnJhZGVzID0gZGF0YS5yZXN1bHRzO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByYWRpb0NoYW5nZSgpIHtcclxuICAgICAgdm0uYnVzY2FyID0gbnVsbDtcclxuICAgICAgdm0udHlwZUlucHV0ID0gKHZtLmZpbHRybyA9PT0gJ25vbWJyZScpID8gJ3RleHQnOiAnbnVtYmVyJztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnb1RvQ29mcmFkZShpZCwgZXZlbnQpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2NvZnJhZGVzRGV0YWxsZScsIHtjb2ZyYWRlSWQ6IGlkfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ2xpc3RhQ29mcmFkZXMnLCBsaXN0YUNvZnJhZGVzKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIGxpc3RhQ29mcmFkZXMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvY29mcmFkZXMvY29mcmFkZXMuZGlyZWN0aXZlLmh0bWwnLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIGNvZnJhZGVzOiAnPWNvZnJhZGVzJyxcclxuICAgICAgICBuZXh0UGFnZTogJz1wYWdlJ1xyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnTGlzdGFDb2ZyYWRlcycsXHJcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
