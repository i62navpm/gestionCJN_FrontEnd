!function(){"use strict";angular.module("app",["ui.router","ngResource","ngMaterial","uiGmapgoogle-maps","ngMessages"])}(),function(){"use strict";function e(e){e.interceptors.push("myHttpInterceptor")}function r(e){var r=angular.element(document.querySelector(".m-app-loading"));return{request:function(e){return"POST"===e.method&&r.css("display","block"),e},requestError:function(r){return e.reject(r)},response:function(e){return r.css("display","none"),e},responseError:function(r){return e.reject(r)}}}angular.module("app").factory("myHttpInterceptor",r).config(e),e.$inject=["$httpProvider"],r.$inject=["$q"]}(),function(){"use strict";function e(e){e.configure({libraries:"weather,geometry,visualization"})}angular.module("app").config(e),e.$inject=["uiGmapGoogleMapApiProvider"]}(),function(){"use strict";function e(e){e.months=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],e.shortMonths=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],e.days=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"],e.shortDays=["lun","mar","mié","jue","vie","sáb","dom"],e.firstDayOfWeek=1,e.parseDate=function(e){return new Date(e)},e.formatDate=function(e){return new Date(e).toLocaleDateString()}}angular.module("app").config(e),e.$inject=["$mdDateLocaleProvider"]}(),function(){"use strict";function e(e,r){r.otherwise("/"),e.state("home",{url:"/",template:'<p class="lead">Welcome to the UI-Router Demo</p><p>Use the menu above to navigate. Pay attention to the <code>$state</code> and <code>$stateParams</code> values below.</p><p>Click these links—<a href="#/c?id=1">Alice</a> or <a href="#/user/42">Bob</a>—to see a url redirect in action.</p>'})}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){}angular.module("app").config(e),e.$inject=["$mdThemingProvider"]}(),function(){"use strict";function e(e){e.state("cofrades",{url:"/cofrades",templateProvider:["$templateCache",function(e){return e.get("cofrades/list/cofrades.html")}],controller:"Cofrades",controllerAs:"vm",resolve:{cofradesPrepService:r,cofradesBajasPrepService:o}}).state("cofradesDetalle",{url:"/cofrades/:cofradeId",templateProvider:["$templateCache",function(e){return e.get("cofrades/detail/cofradeDetalle.html")}],controller:"CofradeDetalle",controllerAs:"vm",resolve:{getCofradePrepService:t,getMapsPrepService:a}}).state("cofradesCambios",{url:"/cofrades/nuevos/:cofradeId",templateProvider:["$templateCache",function(e){return e.get("cofrades/add/cofradeNuevo.html")}],controller:"CofradeNuevo",controllerAs:"vm",resolve:{getCofradePrepService:t}})}function r(e){return e.cofradesRest().query()}function o(e){return e.cofradesBajasRest().query()}function t(e,r){return r.cofradeId?e.cofradesRest().get({id:r.cofradeId}):!1}function a(e,r,o){return r.$promise.then(function(r){var t=r.datosPersonales.direccion.calle+" "+r.datosPersonales.direccion.numero+" "+r.datosPersonales.direccion.municipio+" "+r.datosPersonales.direccion.provincia+" "+r.datosPersonales.direccion.cp;return o.geoCodingAPI(t).then(function(r){if(r.data.results.length){var o=r.data.results[0].geometry.location;return e.then(function(e){return{coord:{latitude:o.lat,longitude:o.lng},marker:{latitude:o.lat,longitude:o.lng},zoom:17}})}})})}angular.module("app").config(e),e.$inject=["$stateProvider"],r.$inject=["cofradesService"],o.$inject=["cofradesService"],t.$inject=["cofradesService","$stateParams"],a.$inject=["uiGmapGoogleMapApi","getCofradePrepService","mapasService"]}(),function(){"use strict";function e(e,r){function o(r){e(r).toggle()}function t(e,t){o(t),r.go(e)}var a=this;a.toggleSidenav=o,a.navigateTo=t}angular.module("app").controller("AppCtrl",e),e.$inject=["$mdSidenav","$state"]}(),function(){"use strict";function e(e,r,o,t,a,n,c){function i(){a?a.$promise.then(s):n.getRegistros().then(function(e){P.cofrade.numeroOrden=e.data.numeroOrden,P.cofrade.numeroCofrade=e.data.numeroCofrade})}function s(e){return P.cofrade=e,P.calleSelected={calle:P.cofrade.datosPersonales.direccion.calle,cp:P.cofrade.datosPersonales.direccion.cp,provincia:P.cofrade.datosPersonales.direccion.provincia,municipio:P.cofrade.datosPersonales.direccion.municipio},P.fechaNacimiento=P.cofrade.datosPersonales.fechaNacimiento,P.fechaInscripcion=P.cofrade.datosPersonales.fechaInscripcion,P.cofrade.datosFinancieros=P.cofrade.datosFinancieros||{cuenta:{},deuda:[]},P.cofrade.datosFinancieros.cuenta=P.cofrade.datosFinancieros.cuenta||{},P.cofrade.datosFinancieros.deuda=P.cofrade.datosFinancieros.deuda||[],!0}function u(){window.history.back()}function l(e){return n.getCalles(e).then(function(e){return e.data})}function d(e){e?(P.cofrade.datosPersonales.direccion.calle=e.calle,P.cofrade.datosPersonales.direccion.municipio=e.municipio,P.cofrade.datosPersonales.direccion.cp=e.cp,P.cofrade.datosPersonales.direccion.provincia=e.provincia,f(e.calle)):(P.cofrade.datosPersonales.direccion.calle=null,P.cofrade.datosPersonales.direccion.municipio=null,P.cofrade.datosPersonales.direccion.cp=null,P.cofrade.datosPersonales.direccion.provincia=null,P.sector=null,P.nuevaCalle=!0)}function f(e){c.sectoresRest().query({calle:e},function(e){P.sector=e[0].numeroSector,P.nuevaCalle=!1})}function p(){P.cofrade.datosFinancieros.cuenta.iban&&(P.cofrade.datosFinancieros.cuenta.cc=e("calcularCC")(P.cofrade.datosFinancieros.cuenta.iban))}function m(){P.cofrade.datosFinancieros.cuenta.cc&&(P.cofrade.datosFinancieros.cuenta.iban=e("calcularIban")(P.cofrade.datosFinancieros.cuenta.cc))}function g(e){function t(){c.sectoresRest().get({sector:P.sector},function(e){var t=e[0];t?(t.calles.push(P.searchText),t.$save(),i.save(P.cofrade,v,h)):o.show(o.simple().content("El sector "+P.sector+" no existe!!").position("top right").parent(r[0].querySelector("#toastBounds")).hideDelay(3e3))})}if(e){var a={cuenta:{},deuda:[]};P.cofrade.datosPersonales.direccion.calle=P.searchText,JSON.stringify(P.cofrade.datosFinancieros)===JSON.stringify(a)&&delete P.cofrade.datosFinancieros;var i=n.cofradesRest();P.nuevaCalle?t():i.save(P.cofrade,v,h)}else C()}function v(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),t.go("cofrades")}function h(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(r[0].querySelector("#toastBounds")).hideDelay(3e3))}function C(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(r[0].querySelector("#toastBounds")).position("top right"))}var P=this;P.nuevaCalle=!0,P.cofrade={datosFinancieros:{cuenta:{},deuda:[]},datosPersonales:{direccion:{},sexo:"Hombre",fechaInscripcion:new Date,fechaNacimiento:new Date}},P.backState=u,P.querySearch=l,P.selectedItemChange=d,P.calcularCC=p,P.calcularIban=m,P.guardar=g,i()}angular.module("app").controller("CofradeNuevo",e),e.$inject=["$filter","$document","$mdToast","$state","getCofradePrepService","cofradesService","sectoresService"]}(),function(){"use strict";function e(e,r,o,t){function a(){return o.$promise.then(function(e){c.cofrade=e,c.cofrade.datosFinancieros&&c.cofrade.datosFinancieros.cuenta&&(c.iban=r("parseIban")(c.cofrade.datosFinancieros.cuenta.iban),c.cc=r("parseCC")(c.cofrade.datosFinancieros.cuenta.cc)),c.maps=t})}function n(r,o){e.go("cofradesCambios",{cofradeId:r})}var c=this;c.cofrade=null,c.maps=null,c.modifyCofrade=n,a()}angular.module("app").controller("CofradeDetalle",e),e.$inject=["$state","$filter","getCofradePrepService","getMapsPrepService"]}(),function(){"use strict";function e(e,r){function o(){return e.$promise.then(function(e){t.nextPage=e.next,t.cofrades=e.results}),r.$promise.then(function(e){t.nextPageBajas=e.next,t.cofradesBajas=e.results})}var t=this;t.cofrades=null,t.nextPage=null,t.cofradesBajas=null,t.nextPageBajas=null,t.selectedTab=0,o()}angular.module("app").controller("Cofrades",e),e.$inject=["cofradesPrepService","cofradesBajasPrepService"]}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,r,o){var t=r[0];r.bind("scroll",function(){t.scrollTop+t.offsetHeight>=t.scrollHeight-5&&e.$emit("scrollDown")})}}}angular.module("app").directive("scrolly",e)}(),function(){"use strict";function e(){return function(e){e=e||"";for(var r="",o=0;o<e.length;o++)o>0&&o%4===0&&(r+=" "),r+=e[o];return r}}function r(){return function(e){e=e||"";var r="";return r=e.substr(0,4)+"-",r+=e.substr(4,4)+"-",r+=e.substr(8,2)+"-",r+=e.substr(10,10)}}function o(){return function(e){return e=e||"",e.substr(4,20)}}function t(){function e(e){for(var r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",o=[],t=0;t<e.length;t++){var a=r.indexOf(e[t]);o.push(0>a?"-":a)}return o.join("")}function r(e,r){for(var o=10,t=e.length,a=0,n=0;t>n;n+=o){var c=a+""+e.substr(n,o);a=c%r}return a}function o(e,r){for(e+="";e.length<r;)e="0"+e;return e}return function(t){var a="ES",n=t+e(a)+"00",c=r(n,97);return a+o(98-c,2)+t}}angular.module("app").filter("parseIban",e).filter("parseCC",r).filter("calcularIban",t).filter("calcularCC",o)}(),function(){"use strict";function e(){return function(e){return e.datosPersonales.fechaNacimiento=new Date(e.datosPersonales.fechaNacimiento).toLocaleDateString(),e.datosPersonales.fechaInscripcion=new Date(e.datosPersonales.fechaInscripcion).toLocaleDateString(),e}}function r(){return function(e){var r=e.datosPersonales.fechaNacimiento.split("/");return e.datosPersonales.fechaNacimiento=r[2]+"-"+r[1]+"-"+r[0],r=e.datosPersonales.fechaInscripcion.split("/"),e.datosPersonales.fechaInscripcion=r[2]+"-"+r[1]+"-"+r[0],e}}angular.module("app").filter("stringToDateFormat",e).filter("formatDates",r)}(),function(){"use strict";function e(){return function(r){var o=r instanceof Array;for(var t in r)null===r[t]?o?r.splice(t,1):delete r[t]:"object"==typeof r[t]&&e(r[t]);return r}}angular.module("app").filter("removeNulls",e)}(),function(){"use strict";function e(e,r,o){function t(){return e("http://127.0.0.1:5050/api/cofrades/:id.json:json",null,{query:{method:"GET",isArray:!1},get:{method:"GET",transformResponse:function(e,r){return o("stringToDateFormat")(angular.fromJson(e))}},save:{method:"POST",transformRequest:function(e,r){return angular.toJson(o("formatDates")(o("removeNulls")(e)))}}})}function a(){return e("http://127.0.0.1:5050/api/cofradesBajas/:id.json:json",null,{query:{method:"GET",isArray:!1}})}function n(e){return r.get("http://127.0.0.1:5050/api/calles/",{params:{calle:e}}).then(function(e){return angular.fromJson(e)})}function c(){return r.get("http://127.0.0.1:5050/api/registros/").then(function(e){return angular.fromJson(e)})}return{cofradesRest:t,cofradesBajasRest:a,getCalles:n,getRegistros:c}}angular.module("app").factory("cofradesService",e),e.$inject=["$resource","$http","$filter"]}(),function(){"use strict";function e(e){function r(r){return e.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:r,key:"AIzaSyDC_OIDSl6curjCMCLyzn2yhMmg-er5knI"}}).then(function(e){return e})}return{geoCodingAPI:r}}angular.module("app").factory("mapasService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function r(){return e("http://127.0.0.1:5050/api/sectores/:id.json:json",null,{get:{method:"GET",isArray:!0}})}return{sectoresRest:r}}angular.module("app").factory("sectoresService",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e,r,o,t){function a(){p.bajas?c():n()}function n(){if(p.nextPage){var e={page:p.nextPage};p.buscar&&(e[p.filtro]=p.buscar),t.cofradesRest().query(e,function(e){p.nextPage=e.next,p.cofrades=p.cofrades.concat(e.results)})}}function c(){if(p.nextPageBajas){var e={page:p.nextPageBajas};p.buscar&&(e[p.filtro]=p.buscar),t.cofradesBajasRest().query(e,function(e){p.nextPageBajas=e.next,p.cofradesBajas=p.cofradesBajas.concat(e.results)})}}function i(){p.bajas?u():s()}function s(){var e={};e[p.filtro]=p.buscar,t.cofradesRest().query(e,function(e){p.nextPage=e.next,p.cofrades=e.results})}function u(){var e={};e[p.filtro]=p.buscar,t.cofradesBajasRest().query(e,function(e){p.nextPageBajas=e.next,p.cofradesBajas=e.results})}function l(){p.buscar=null,p.typeInput="nombre"===p.filtro?"text":"number",p.search()}function d(e,r){o.go("cofradesDetalle",{cofradeId:e})}function f(e,r){r.stopPropagation(),o.go("cofradesCambios",{cofradeId:e})}var p=this;p.filtro="nombre",p.typeInput="text",p.buscar=null,p.search=i,p.radioChange=l,p.goToCofrade=d,p.modifyCofrade=f;var m=e.$on("scrollDown",a);r.$on("$destroy",function(){m(),m=null})}angular.module("app").controller("ListaCofrades",e),e.$inject=["$rootScope","$scope","$state","cofradesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/cofrades/list/cofrades.directive.html",scope:{cofrades:"=cofrades",nextPage:"=page",cofradesBajas:"=cofradesBajas",nextPageBajas:"=pageBajas"},controller:"ListaCofrades",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaCofrades",e)}(),function(){"use strict";function e(e,r){function o(e,o){o.stopPropagation(),r.show({templateUrl:"./templates/directives/cofrades/remove/dialogTmpl/removeCofrade.tmpl.html",locals:{id:e},controller:"RemoveCofradeTmpl",controllerAs:"vm",bindToController:!0,targetEvent:o,clickOutsideToClose:!0}).then(function(){})}var t=this;t.removeCofrade=o}angular.module("app").controller("RemoveCofrade",e),e.$inject=["$state","$mdDialog"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/cofrades/remove/removeCofrade.directive.html",scope:{cofradeId:"=cofrade"},controller:"RemoveCofrade",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeCofrade",e)}(),function(){"use strict";function e(e,r,o){function t(e,o){o.stopPropagation();var t=r.confirm().title("Restaurar cofrade").content("¿Está seguro que desea restaurar este cofrade?<br>Su número de Cofrade se calculará de nuevo.").ariaLabel("Restaurar cofrade").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);r.show(t).then(function(){a(e)})}function a(r){var t=o.cofradesRest().get({id:r},function(){t.baja=null,t.$save({updateNumeroCofrade:!0}).then(function(){"cofrades"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("cofrades")})})}var n=this;n.restoreCofrade=t}angular.module("app").controller("RestoreCofrade",e),e.$inject=["$state","$mdDialog","cofradesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/cofrades/restore/restoreCofrade.directive.html",scope:{cofradeId:"=cofrade"},controller:"RestoreCofrade",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("restoreCofrade",e)}(),function(){"use strict";function e(e,r,o){function t(){r.cancel()}function a(r){var t=o.cofradesRest().get({id:r},function(){t.baja={motivo:n.motivoBaja,fechaBaja:(new Date).toLocaleDateString()},t.numeroCofrade=null,t.$save({updateNumeroCofrade:!0}).then(function(){n.closeDialog(),"cofrades"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("cofrades")})})}var n=this;n.closeDialog=t,n.removeEndCofrade=a}angular.module("app").controller("RemoveCofradeTmpl",e),e.$inject=["$state","$mdDialog","cofradesService"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5pbml0Lm1vZHVsZS5qcyIsImFwcC5sb2FkaW5nLmpzIiwiYWxsLm1pbi5qcyIsImFwcC5tYXAuanMiLCJhcHAucGlja2VyRGF0ZS5qcyIsImFwcC5yb3V0ZXMuanMiLCJhcHAudGhlbWUuanMiLCJjb2ZyYWRlcy9jb2ZyYWRlcy5yb3V0ZXMuanMiLCJpbnRlcmZhei9hcHAuY29udHJvbGxlci5qcyIsImNvZnJhZGVzL2FkZC9jb2ZyYWRlTnVldm8uY29udHJvbGxlci5qcyIsImNvZnJhZGVzL2RldGFpbC9jb2ZyYWRlRGV0YWxsZS5jb250cm9sbGVyLmpzIiwiY29mcmFkZXMvbGlzdC9jb2ZyYWRlcy5jb250cm9sbGVyLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL3Njcm9sbHkuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9maWx0ZXJzL3BhcnNlQ3VlbnRhLmZpbHRlci5qcyIsImNvbW1vbnMvZmlsdGVycy9wYXJzZURhdGUuZmlsdGVyLmpzIiwiY29tbW9ucy9maWx0ZXJzL3JlbW92ZU51bGxzLmZpbHRlci5qcyIsImNvbW1vbnMvc2VydmljZXMvY29mcmFkZXMuc2VydmljZS5qcyIsImNvbW1vbnMvc2VydmljZXMvbWFwYXMuc2VydmljZS5qcyIsImNvbW1vbnMvc2VydmljZXMvc2VjdG9yZXMuc2VydmljZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9saXN0L2NvZnJhZGVzLmNvbnRyb2xsZXIuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2NvZnJhZGVzL2xpc3QvY29mcmFkZXMuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2NvZnJhZGVzL3JlbW92ZS9yZW1vdmVDb2ZyYWRlLmNvbnRyb2xsZXIuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2NvZnJhZGVzL3JlbW92ZS9yZW1vdmVDb2ZyYWRlLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZXN0b3JlL3Jlc3RvcmVDb2ZyYWRlLmNvbnRyb2xsZXIuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2NvZnJhZGVzL3Jlc3RvcmUvcmVzdG9yZUNvZnJhZGUuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2NvZnJhZGVzL3JlbW92ZS9kaWFsb2dUbXBsL3JlbW92ZUNvZnJhZGUuY29udHJvbGxlci50bXBsLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJsb2FkaW5nU3Bpbm5lciIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwibXlIdHRwSW50ZXJjZXB0b3IiLCIkcSIsImxvYWRTY3JlZW4iLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicmVxdWVzdCIsImNvbmZpZyIsIm1ldGhvZCIsImNzcyIsInJlcXVlc3RFcnJvciIsInJlamVjdGlvbiIsInJlamVjdCIsInJlc3BvbnNlIiwicmVzcG9uc2VFcnJvciIsImZhY3RvcnkiLCIkaW5qZWN0IiwiZ29vZ2xlTWFwQVBJIiwidWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIiLCJjb25maWd1cmUiLCJsaWJyYXJpZXMiLCJkYXRlUGlja2VyQ29uZmlnIiwiJG1kRGF0ZUxvY2FsZVByb3ZpZGVyIiwibW9udGhzIiwic2hvcnRNb250aHMiLCJkYXlzIiwic2hvcnREYXlzIiwiZmlyc3REYXlPZldlZWsiLCJwYXJzZURhdGUiLCJkYXRlU3RyaW5nIiwiRGF0ZSIsImZvcm1hdERhdGUiLCJkYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlIiwidGhlbWVBbmd1bGFyTWF0ZXJpYWwiLCIkbWRUaGVtaW5nUHJvdmlkZXIiLCJ0ZW1wbGF0ZVByb3ZpZGVyIiwiJHRlbXBsYXRlQ2FjaGUiLCJnZXQiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwicmVzb2x2ZSIsImNvZnJhZGVzUHJlcFNlcnZpY2UiLCJjb2ZyYWRlc0JhamFzUHJlcFNlcnZpY2UiLCJnZXRDb2ZyYWRlUHJlcFNlcnZpY2UiLCJnZXRNYXBzUHJlcFNlcnZpY2UiLCJjb2ZyYWRlc1NlcnZpY2UiLCJjb2ZyYWRlc1Jlc3QiLCJxdWVyeSIsImNvZnJhZGVzQmFqYXNSZXN0IiwiJHN0YXRlUGFyYW1zIiwiaWQiLCJjb2ZyYWRlSWQiLCJ1aUdtYXBHb29nbGVNYXBBcGkiLCJtYXBhc1NlcnZpY2UiLCIkcHJvbWlzZSIsInRoZW4iLCJkYXRhIiwiYWRkcmVzcyIsImRhdG9zUGVyc29uYWxlcyIsImRpcmVjY2lvbiIsImNhbGxlIiwibnVtZXJvIiwibXVuaWNpcGlvIiwicHJvdmluY2lhIiwiY3AiLCJnZW9Db2RpbmdBUEkiLCJyZXN1bHRzIiwibGVuZ3RoIiwiY29vcmRpbmF0ZXMiLCJnZW9tZXRyeSIsImxvY2F0aW9uIiwibWFwcyIsImNvb3JkIiwibGF0aXR1ZGUiLCJsYXQiLCJsb25naXR1ZGUiLCJsbmciLCJtYXJrZXIiLCJ6b29tIiwiQXBwQ3RybCIsIiRtZFNpZGVuYXYiLCIkc3RhdGUiLCJ0b2dnbGVTaWRlbmF2IiwibWVudUlkIiwidG9nZ2xlIiwibmF2aWdhdGVUbyIsInRvIiwiZ28iLCJ2bSIsInRoaXMiLCJDb2ZyYWRlTnVldm8iLCIkZmlsdGVyIiwiJGRvY3VtZW50IiwiJG1kVG9hc3QiLCJzZWN0b3Jlc1NlcnZpY2UiLCJhY3RpdmF0ZSIsImluaXRDb2ZyYWRlIiwiZ2V0UmVnaXN0cm9zIiwiY29mcmFkZSIsIm51bWVyb09yZGVuIiwibnVtZXJvQ29mcmFkZSIsImNhbGxlU2VsZWN0ZWQiLCJmZWNoYU5hY2ltaWVudG8iLCJmZWNoYUluc2NyaXBjaW9uIiwiZGF0b3NGaW5hbmNpZXJvcyIsImN1ZW50YSIsImRldWRhIiwiYmFja1N0YXRlIiwid2luZG93IiwiaGlzdG9yeSIsImJhY2siLCJxdWVyeVNlYXJjaCIsImdldENhbGxlcyIsInNlbGVjdGVkSXRlbUNoYW5nZSIsIml0ZW0iLCJzZWFyY2hTZWN0b3IiLCJzZWN0b3IiLCJudWV2YUNhbGxlIiwic2VjdG9yZXNSZXN0IiwibnVtZXJvU2VjdG9yIiwiY2FsY3VsYXJDQyIsImliYW4iLCJjYyIsImNhbGN1bGFySWJhbiIsImd1YXJkYXIiLCJpc1ZhbGlkIiwiZ3VhcmRhckNhbGxlIiwic2VjdG9yUmVzb3VyY2UiLCJjYWxsZXMiLCJzZWFyY2hUZXh0IiwiJHNhdmUiLCJDb2ZyYWRlUmVzb3VyY2UiLCJzYXZlIiwiZ3VhcmRhclN1Y2Nlc3MiLCJndWFyZGFyRXJyb3IiLCJzaG93Iiwic2ltcGxlIiwiY29udGVudCIsInBvc2l0aW9uIiwicGFyZW50IiwiaGlkZURlbGF5IiwiSlNPTiIsInN0cmluZ2lmeSIsInNob3dBY3Rpb25Ub2FzdCIsImFjdGlvbiIsImhpZ2hsaWdodEFjdGlvbiIsInNleG8iLCJDb2ZyYWRlRGV0YWxsZSIsIm1vZGlmeUNvZnJhZGUiLCJldmVudCIsIkNvZnJhZGVzIiwibmV4dFBhZ2UiLCJuZXh0IiwiY29mcmFkZXMiLCJuZXh0UGFnZUJhamFzIiwiY29mcmFkZXNCYWphcyIsInNlbGVjdGVkVGFiIiwic2Nyb2xseSIsInJlc3RyaWN0IiwibGluayIsIiRyb290U2NvcGUiLCJhdHRycyIsInJhdyIsImJpbmQiLCJzY3JvbGxUb3AiLCJvZmZzZXRIZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCIkZW1pdCIsImRpcmVjdGl2ZSIsInBhcnNlSWJhbiIsImZvcm1hdHRlZEliYW4iLCJpIiwicGFyc2VDQyIsImZvcm1hdHRlZENDIiwic3Vic3RyIiwidmFsb3JDaWZyYXMiLCJjaWZyYXMiLCJMRVRSQVMiLCJpdGVtcyIsInBvc2ljaW9uIiwiaW5kZXhPZiIsImpvaW4iLCJtb2R1bG8iLCJkaXZpc29yIiwiQ1VFTlRBIiwibGFyZ28iLCJyZXN0byIsImRpdmlkZW5kbyIsImNlcm9zSXpxdWllcmRhIiwiY2NjIiwicGFpcyIsImZpbHRlciIsInN0cmluZ1RvRGF0ZUZvcm1hdCIsImZvcm1hdERhdGVzIiwic3BsaXQiLCJyZW1vdmVOdWxscyIsIm9iaiIsImlzQXJyYXkiLCJBcnJheSIsImsiLCJzcGxpY2UiLCIkcmVzb3VyY2UiLCIkaHR0cCIsInRyYW5zZm9ybVJlc3BvbnNlIiwiaGVhZGVyc0dldHRlciIsImZyb21Kc29uIiwidHJhbnNmb3JtUmVxdWVzdCIsInRvSnNvbiIsInBhcmFtcyIsImtleSIsIkxpc3RhQ29mcmFkZXMiLCIkc2NvcGUiLCJnZXROZXh0UGFnZSIsImJhamFzIiwiZ2V0TmV4dFBhZ2VCYWphcyIsImdldE5leHRQYWdlQWx0YXMiLCJwYXJhbWV0ZXJzIiwicGFnZSIsImJ1c2NhciIsImZpbHRybyIsImNvbmNhdCIsInNlYXJjaCIsInNlYXJjaEJhamFzIiwic2VhcmNoQWx0YXMiLCJyYWRpb0NoYW5nZSIsInR5cGVJbnB1dCIsImdvVG9Db2ZyYWRlIiwic3RvcFByb3BhZ2F0aW9uIiwiaGFuZGxlciIsIiRvbiIsImxpc3RhQ29mcmFkZXMiLCJ0ZW1wbGF0ZVVybCIsInNjb3BlIiwiYmluZFRvQ29udHJvbGxlciIsIlJlbW92ZUNvZnJhZGUiLCIkbWREaWFsb2ciLCJyZW1vdmVDb2ZyYWRlIiwibG9jYWxzIiwidGFyZ2V0RXZlbnQiLCJjbGlja091dHNpZGVUb0Nsb3NlIiwiUmVzdG9yZUNvZnJhZGUiLCJyZXN0b3JlQ29mcmFkZSIsInJlc3RhdXJhckRpYWxvZyIsImNvbmZpcm0iLCJ0aXRsZSIsImFyaWFMYWJlbCIsIm9rIiwiY2FuY2VsIiwicmVzdG9yZUVuZENvZnJhZGUiLCJiYWphIiwidXBkYXRlTnVtZXJvQ29mcmFkZSIsImN1cnJlbnQiLCJuYW1lIiwidHJhbnNpdGlvblRvIiwicmVsb2FkIiwiaW5oZXJpdCIsIm5vdGlmeSIsIlJlbW92ZUNvZnJhZGVUbXBsIiwiY2xvc2VEaWFsb2ciLCJyZW1vdmVFbmRDb2ZyYWRlIiwibW90aXZvIiwibW90aXZvQmFqYSIsImZlY2hhQmFqYSJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQSxZQUVBQSxTQUFBQyxPQUFBLE9BQ0EsWUFDQSxhQUNBLGFB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LElBSUEvSyxFQUFBTSxHQUFBLGdCQXhCQSxHQUFBQyxHQUFBQyxJQUVBRCxHQUFBMEssWUFBQUEsRUFDQTFLLEVBQUEySyxpQkFBQUEsRUFSQWhSLFFBQ0FDLE9BQUEsT0FDQWtELFdBQUEsb0JBQUEyTixHdkJ3Z0NFQSxFQUFrQnhQLFNBQVcsU0FBVSxZQUFhIiwiZmlsZSI6ImFsbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xyXG4gICAgJ3VpLnJvdXRlcicsXHJcbiAgICAnbmdSZXNvdXJjZScsXHJcbiAgICAnbmdNYXRlcmlhbCcsXHJcbiAgICAndWlHbWFwZ29vZ2xlLW1hcHMnLFxyXG4gICAgJ25nTWVzc2FnZXMnXHJcbiAgXSk7XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgnbXlIdHRwSW50ZXJjZXB0b3InLCBteUh0dHBJbnRlcmNlcHRvcilcclxuICAgIC5jb25maWcobG9hZGluZ1NwaW5uZXIpO1xyXG5cclxuICBmdW5jdGlvbiBsb2FkaW5nU3Bpbm5lcigkaHR0cFByb3ZpZGVyKSB7XHJcbiAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdteUh0dHBJbnRlcmNlcHRvcicpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gbXlIdHRwSW50ZXJjZXB0b3IoJHEpIHtcclxuICAgIHZhciBsb2FkU2NyZWVuID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tLWFwcC1sb2FkaW5nJykpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXHJcbiAgICAgICdyZXF1ZXN0JzogZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIHN1Y2Nlc3NcclxuICAgICAgICBpZiAoY29uZmlnLm1ldGhvZCA9PT0gJ1BPU1QnKVxyXG4gICAgICAgICAgbG9hZFNjcmVlbi5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICByZXR1cm4gY29uZmlnO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXHJcbiAgICAgJ3JlcXVlc3RFcnJvcic6IGZ1bmN0aW9uKHJlamVjdGlvbikge1xyXG4gICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBlcnJvclxyXG4gICAgICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZFxyXG4gICAgICAncmVzcG9uc2UnOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBzdWNjZXNzXHJcbiAgICAgICAgbG9hZFNjcmVlbi5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZFxyXG4gICAgICdyZXNwb25zZUVycm9yJzogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XHJcbiAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIGVycm9yXHJcblxyXG4gICAgICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpO1xyXG4iLG51bGwsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGdvb2dsZU1hcEFQSSk7XHJcblxyXG4gIGZ1bmN0aW9uIGdvb2dsZU1hcEFQSSh1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlcil7XHJcbiAgICB1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlci5jb25maWd1cmUoe1xyXG4gICAgICAgIGxpYnJhcmllczogJ3dlYXRoZXIsZ2VvbWV0cnksdmlzdWFsaXphdGlvbidcclxuICAgIH0pOyAgICBcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGRhdGVQaWNrZXJDb25maWcpO1xyXG5cclxuICBmdW5jdGlvbiBkYXRlUGlja2VyQ29uZmlnKCRtZERhdGVMb2NhbGVQcm92aWRlcikge1xyXG5cclxuICAgICRtZERhdGVMb2NhbGVQcm92aWRlci5tb250aHMgPSBbJ2VuZXJvJywgJ2ZlYnJlcm8nLCAnbWFyem8nLCAnYWJyaWwnLCAnbWF5bycsICdqdW5pbycsICdqdWxpbycsICdhZ29zdG8nLCAnc2VwdGllbWJyZScsICdvY3R1YnJlJywgJ25vdmllbWJyZScsICdkaWNpZW1icmUnXTtcclxuICAgICRtZERhdGVMb2NhbGVQcm92aWRlci5zaG9ydE1vbnRocyA9IFsnZW5lJywgJ2ZlYicsICdtYXInLCAnYWJyJywgJ21heScsICdqdW4nLCAnanVsJywgJ2FnbycsICdzZXAnLCAnb2N0JywgJ25vdicsICdkaWMnXTtcclxuICAgICRtZERhdGVMb2NhbGVQcm92aWRlci5kYXlzID0gWydsdW5lcycsICdtYXJ0ZXMnLCAnbWnDqXJjb2xlcycsICdqdWV2ZXMnLCAndmllcm5lcycsICdzw6FiYWRvJywgJ2RvbWluZ28nXTtcclxuICAgICRtZERhdGVMb2NhbGVQcm92aWRlci5zaG9ydERheXMgPSBbJ2x1bicsICdtYXInLCAnbWnDqScsICdqdWUnLCAndmllJywgJ3PDoWInLCAnZG9tJ107XHJcblxyXG4gICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLmZpcnN0RGF5T2ZXZWVrID0gMTtcclxuICAgIFxyXG4gICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLnBhcnNlRGF0ZSA9IGZ1bmN0aW9uKGRhdGVTdHJpbmcpIHtcclxuICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGVTdHJpbmcpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLmZvcm1hdERhdGUgPSBmdW5jdGlvbihkYXRlKSB7XHJcbiAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoKTtcclxuICAgIH07XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGNvbmZpZyk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XHJcblxyXG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZShcIi9cIik7XHJcblxyXG4gICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgLnN0YXRlKFwiaG9tZVwiLCB7XHJcbiAgICAgICAgdXJsOiBcIi9cIixcclxuICAgICAgICB0ZW1wbGF0ZTogJzxwIGNsYXNzPVwibGVhZFwiPldlbGNvbWUgdG8gdGhlIFVJLVJvdXRlciBEZW1vPC9wPicgK1xyXG4gICAgICAgICAgJzxwPlVzZSB0aGUgbWVudSBhYm92ZSB0byBuYXZpZ2F0ZS4gJyArXHJcbiAgICAgICAgICAnUGF5IGF0dGVudGlvbiB0byB0aGUgPGNvZGU+JHN0YXRlPC9jb2RlPiBhbmQgPGNvZGU+JHN0YXRlUGFyYW1zPC9jb2RlPiB2YWx1ZXMgYmVsb3cuPC9wPicgK1xyXG4gICAgICAgICAgJzxwPkNsaWNrIHRoZXNlIGxpbmtz4oCUPGEgaHJlZj1cIiMvYz9pZD0xXCI+QWxpY2U8L2E+IG9yICcgK1xyXG4gICAgICAgICAgJzxhIGhyZWY9XCIjL3VzZXIvNDJcIj5Cb2I8L2E+4oCUdG8gc2VlIGEgdXJsIHJlZGlyZWN0IGluIGFjdGlvbi48L3A+J1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKHRoZW1lQW5ndWxhck1hdGVyaWFsKTtcclxuXHJcbiAgZnVuY3Rpb24gdGhlbWVBbmd1bGFyTWF0ZXJpYWwoJG1kVGhlbWluZ1Byb3ZpZGVyKXtcclxuICAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoY29uZmlnKTtcclxuXHJcbiAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAuc3RhdGUoJ2NvZnJhZGVzJywge1xyXG4gICAgICAgIHVybDogXCIvY29mcmFkZXNcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2NvZnJhZGVzL2xpc3QvY29mcmFkZXMuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb2ZyYWRlcycsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgY29mcmFkZXNQcmVwU2VydmljZTogY29mcmFkZXNQcmVwU2VydmljZSxcclxuICAgICAgICAgICAgY29mcmFkZXNCYWphc1ByZXBTZXJ2aWNlOiBjb2ZyYWRlc0JhamFzUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5zdGF0ZSgnY29mcmFkZXNEZXRhbGxlJywge1xyXG4gICAgICAgIHVybDogXCIvY29mcmFkZXMvOmNvZnJhZGVJZFwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnY29mcmFkZXMvZGV0YWlsL2NvZnJhZGVEZXRhbGxlLmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnQ29mcmFkZURldGFsbGUnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIGdldENvZnJhZGVQcmVwU2VydmljZTogZ2V0Q29mcmFkZVByZXBTZXJ2aWNlLFxyXG4gICAgICAgICAgICBnZXRNYXBzUHJlcFNlcnZpY2U6IGdldE1hcHNQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSkuXHJcbiAgICAgIHN0YXRlKCdjb2ZyYWRlc0NhbWJpb3MnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9jb2ZyYWRlcy9udWV2b3MvOmNvZnJhZGVJZFwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnY29mcmFkZXMvYWRkL2NvZnJhZGVOdWV2by5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0NvZnJhZGVOdWV2bycsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZ2V0Q29mcmFkZVByZXBTZXJ2aWNlOiBnZXRDb2ZyYWRlUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY29mcmFkZXNQcmVwU2VydmljZShjb2ZyYWRlc1NlcnZpY2UpIHtcclxuICAgIHJldHVybiBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkucXVlcnkoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNvZnJhZGVzQmFqYXNQcmVwU2VydmljZShjb2ZyYWRlc1NlcnZpY2UpIHtcclxuICAgIHJldHVybiBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNCYWphc1Jlc3QoKS5xdWVyeSgpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0Q29mcmFkZVByZXBTZXJ2aWNlKGNvZnJhZGVzU2VydmljZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICByZXR1cm4gKCRzdGF0ZVBhcmFtcy5jb2ZyYWRlSWQpID8gY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzUmVzdCgpLmdldCh7aWQ6ICRzdGF0ZVBhcmFtcy5jb2ZyYWRlSWR9KSA6IGZhbHNlO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBnZXRNYXBzUHJlcFNlcnZpY2UodWlHbWFwR29vZ2xlTWFwQXBpLCBnZXRDb2ZyYWRlUHJlcFNlcnZpY2UsIG1hcGFzU2VydmljZSkge1xyXG4gICAgcmV0dXJuIGdldENvZnJhZGVQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBcclxuICAgICAgdmFyIGFkZHJlc3MgPSBkYXRhLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY2FsbGUgICAgICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ubnVtZXJvICAgICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ubXVuaWNpcGlvICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ucHJvdmluY2lhICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY3A7XHJcblxyXG4gICAgICByZXR1cm4gbWFwYXNTZXJ2aWNlLmdlb0NvZGluZ0FQSShhZGRyZXNzKS5cclxuICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJlc3VsdHMubGVuZ3RoKXtcclxuICAgICAgICAgICAgdmFyIGNvb3JkaW5hdGVzID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uO1xyXG4gICAgICAgICAgICByZXR1cm4gdWlHbWFwR29vZ2xlTWFwQXBpLnRoZW4oZnVuY3Rpb24obWFwcykge1xyXG4gICAgICAgICAgICAgIHJldHVybiAge2Nvb3JkOiAgeyBsYXRpdHVkZTogY29vcmRpbmF0ZXMubGF0LCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGU6IGNvb3JkaW5hdGVzLmxuZyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcjogeyBsYXRpdHVkZTogY29vcmRpbmF0ZXMubGF0LCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGU6IGNvb3JkaW5hdGVzLmxuZyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgem9vbTogMTcgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdBcHBDdHJsJywgQXBwQ3RybCk7XHJcblxyXG5cclxuICBmdW5jdGlvbiBBcHBDdHJsKCRtZFNpZGVuYXYsICRzdGF0ZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIHZtLnRvZ2dsZVNpZGVuYXYgPSB0b2dnbGVTaWRlbmF2O1xyXG4gICAgdm0ubmF2aWdhdGVUbyAgICA9IG5hdmlnYXRlVG87XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHRvZ2dsZVNpZGVuYXYobWVudUlkKSB7XHJcbiAgICAgICRtZFNpZGVuYXYobWVudUlkKS50b2dnbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBuYXZpZ2F0ZVRvKHRvLCBtZW51SWQpe1xyXG4gICAgICB0b2dnbGVTaWRlbmF2KG1lbnVJZCk7XHJcbiAgICAgICRzdGF0ZS5nbyh0byk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQ29mcmFkZU51ZXZvJywgQ29mcmFkZU51ZXZvKTtcclxuXHJcbiAgZnVuY3Rpb24gQ29mcmFkZU51ZXZvKCRmaWx0ZXIsICRkb2N1bWVudCwgJG1kVG9hc3QsICRzdGF0ZSwgZ2V0Q29mcmFkZVByZXBTZXJ2aWNlLCBjb2ZyYWRlc1NlcnZpY2UsIHNlY3RvcmVzU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0ubnVldmFDYWxsZSA9IHRydWU7XHJcbiAgICB2bS5jb2ZyYWRlID0ge2RhdG9zRmluYW5jaWVyb3M6IHtjdWVudGE6IHt9LCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldWRhOiBbXX0sXHJcbiAgICAgICAgICAgICAgICAgIGRhdG9zUGVyc29uYWxlczogIHtkaXJlY2Npb246IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V4bzogXCJIb21icmVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlY2hhSW5zY3JpcGNpb246IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWNoYU5hY2ltaWVudG86IG5ldyBEYXRlKCl9XHJcbiAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICB2bS5iYWNrU3RhdGUgICAgICAgICAgPSBiYWNrU3RhdGU7XHJcbiAgICB2bS5xdWVyeVNlYXJjaCAgICAgICAgPSBxdWVyeVNlYXJjaDtcclxuICAgIHZtLnNlbGVjdGVkSXRlbUNoYW5nZSA9IHNlbGVjdGVkSXRlbUNoYW5nZTtcclxuICAgIHZtLmNhbGN1bGFyQ0MgICAgICAgICA9IGNhbGN1bGFyQ0M7XHJcbiAgICB2bS5jYWxjdWxhckliYW4gICAgICAgPSBjYWxjdWxhckliYW47XHJcbiAgICB2bS5ndWFyZGFyICAgICAgICAgICAgPSBndWFyZGFyO1xyXG5cclxuICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIGlmIChnZXRDb2ZyYWRlUHJlcFNlcnZpY2Upe1xyXG4gICAgICAgIGdldENvZnJhZGVQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGluaXRDb2ZyYWRlKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNle1xyXG4gICAgICAgIGNvZnJhZGVzU2VydmljZS5nZXRSZWdpc3Ryb3MoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmNvZnJhZGUubnVtZXJvT3JkZW4gPSByZXNwb25zZS5kYXRhLm51bWVyb09yZGVuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uY29mcmFkZS5udW1lcm9Db2ZyYWRlID0gcmVzcG9uc2UuZGF0YS5udW1lcm9Db2ZyYWRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRDb2ZyYWRlKGRhdGEpIHtcclxuICAgICAgdm0uY29mcmFkZSA9IGRhdGE7XHJcbiAgICAgIHZtLmNhbGxlU2VsZWN0ZWQgPSB7Y2FsbGU6IHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jYWxsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjcDogdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLmNwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpbmNpYTogdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLnByb3ZpbmNpYSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBtdW5pY2lwaW86IHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5tdW5pY2lwaW99O1xyXG5cclxuICAgICAgdm0uZmVjaGFOYWNpbWllbnRvID0gdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFOYWNpbWllbnRvO1xyXG4gICAgICB2bS5mZWNoYUluc2NyaXBjaW9uID0gdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFJbnNjcmlwY2lvbjtcclxuICAgICAgdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zID0gdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zIHx8IHtjdWVudGE6IHt9LCBkZXVkYTogW119O1xyXG4gICAgICB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhID0gdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YSB8fCB7fTtcclxuICAgICAgdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmRldWRhID0gdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmRldWRhIHx8IFtdO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBiYWNrU3RhdGUoKSB7XHJcbiAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBxdWVyeVNlYXJjaChxdWVyeSkge1xyXG4gICAgICByZXR1cm4gY29mcmFkZXNTZXJ2aWNlLmdldENhbGxlcyhxdWVyeSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlLmRhdGE7fSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0ZWRJdGVtQ2hhbmdlKGl0ZW0pIHtcclxuICAgICAgaWYgKGl0ZW0pe1xyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jYWxsZSA9IGl0ZW0uY2FsbGU7XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLm11bmljaXBpbyA9IGl0ZW0ubXVuaWNpcGlvO1xyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jcCA9IGl0ZW0uY3A7XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLnByb3ZpbmNpYSA9IGl0ZW0ucHJvdmluY2lhO1xyXG4gICAgICAgIHNlYXJjaFNlY3RvcihpdGVtLmNhbGxlKTtcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLmNhbGxlID0gbnVsbDtcclxuICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ubXVuaWNpcGlvID0gbnVsbDtcclxuICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY3AgPSBudWxsO1xyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5wcm92aW5jaWEgPSBudWxsO1xyXG4gICAgICAgIHZtLnNlY3RvciA9IG51bGw7XHJcbiAgICAgICAgdm0ubnVldmFDYWxsZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2VhcmNoU2VjdG9yKGNhbGxlKSB7XHJcbiAgICAgIHNlY3RvcmVzU2VydmljZS5zZWN0b3Jlc1Jlc3QoKS5xdWVyeSh7Y2FsbGU6IGNhbGxlfSwgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0uc2VjdG9yID0gZGF0YVswXS5udW1lcm9TZWN0b3I7XHJcbiAgICAgICAgdm0ubnVldmFDYWxsZSA9IGZhbHNlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjYWxjdWxhckNDKCkge1xyXG4gICAgICBpZiAodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5pYmFuKVxyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuY2MgPSAkZmlsdGVyKCdjYWxjdWxhckNDJykodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5pYmFuKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjYWxjdWxhckliYW4oKSB7XHJcbiAgICAgIGlmICh2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhLmNjKVxyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuaWJhbiA9ICRmaWx0ZXIoJ2NhbGN1bGFySWJhbicpKHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuY2MpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXIoaXNWYWxpZCkge1xyXG4gICAgICBpZihpc1ZhbGlkKXtcclxuICAgICAgICB2YXIgZGF0b3NGaW5hbmNpZXJvcyA9IHtjdWVudGE6IHt9LCBkZXVkYTogW119O1xyXG5cclxuICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY2FsbGUgPSB2bS5zZWFyY2hUZXh0O1xyXG5cclxuICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zKSA9PT0gSlNPTi5zdHJpbmdpZnkoZGF0b3NGaW5hbmNpZXJvcykpXHJcbiAgICAgICAgICBkZWxldGUgdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBDb2ZyYWRlUmVzb3VyY2UgPSBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCk7XHJcbiAgICAgICAgaWYodm0ubnVldmFDYWxsZSlcclxuICAgICAgICAgIGd1YXJkYXJDYWxsZSgpO1xyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICBDb2ZyYWRlUmVzb3VyY2Uuc2F2ZSh2bS5jb2ZyYWRlLCBndWFyZGFyU3VjY2VzcywgZ3VhcmRhckVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZVxyXG4gICAgICAgIHNob3dBY3Rpb25Ub2FzdCgpO1xyXG4gICAgICBcclxuICAgICAgZnVuY3Rpb24gZ3VhcmRhckNhbGxlKCkge1xyXG4gICAgICAgIHNlY3RvcmVzU2VydmljZS5zZWN0b3Jlc1Jlc3QoKS5nZXQoe3NlY3Rvcjogdm0uc2VjdG9yfSwgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICB2YXIgc2VjdG9yUmVzb3VyY2UgPSAgZGF0YVswXTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYoc2VjdG9yUmVzb3VyY2Upe1xyXG4gICAgICAgICAgICBzZWN0b3JSZXNvdXJjZS5jYWxsZXMucHVzaCh2bS5zZWFyY2hUZXh0KTtcclxuICAgICAgICAgICAgc2VjdG9yUmVzb3VyY2UuJHNhdmUoKTtcclxuICAgICAgICAgICAgQ29mcmFkZVJlc291cmNlLnNhdmUodm0uY29mcmFkZSwgZ3VhcmRhclN1Y2Nlc3MsIGd1YXJkYXJFcnJvcik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAgICAgICAuY29udGVudCgnRWwgc2VjdG9yICcgK3ZtLnNlY3RvcisgJyBubyBleGlzdGUhIScpXHJcbiAgICAgICAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJTdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdHdWFyZGFkbyBjb24gw6l4aXRvISEnKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgICAkc3RhdGUuZ28oJ2NvZnJhZGVzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhckVycm9yKHJlc3BvbnNlKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFcnJvciBhbCBndWFyZGFyISEnKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHNob3dBY3Rpb25Ub2FzdCgpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0V4aXN0ZW4gZXJyb3JlcyBlbiBlbCBmb3JtdWxhcmlvJylcclxuICAgICAgICAgIC5hY3Rpb24oJ09LJylcclxuICAgICAgICAgIC5oaWdobGlnaHRBY3Rpb24oZmFsc2UpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdDb2ZyYWRlRGV0YWxsZScsIENvZnJhZGVEZXRhbGxlKTtcclxuXHJcbiAgZnVuY3Rpb24gQ29mcmFkZURldGFsbGUoJHN0YXRlLCAkZmlsdGVyLCBnZXRDb2ZyYWRlUHJlcFNlcnZpY2UsIGdldE1hcHNQcmVwU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5jb2ZyYWRlID0gbnVsbDtcclxuICAgIHZtLm1hcHMgPSBudWxsO1xyXG4gICAgXHJcbiAgICB2bS5tb2RpZnlDb2ZyYWRlID0gbW9kaWZ5Q29mcmFkZTtcclxuICAgIFxyXG4gICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgcmV0dXJuIGdldENvZnJhZGVQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLmNvZnJhZGUgPSBkYXRhO1xyXG4gICAgICAgIGlmKHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcylcclxuICAgICAgICAgIGlmKHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEpe1xyXG4gICAgICAgICAgICB2bS5pYmFuID0gJGZpbHRlcigncGFyc2VJYmFuJykodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5pYmFuKTtcclxuICAgICAgICAgICAgdm0uY2MgPSAkZmlsdGVyKCdwYXJzZUNDJykodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5jYyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgdm0ubWFwcyA9IGdldE1hcHNQcmVwU2VydmljZTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbW9kaWZ5Q29mcmFkZShpZCwgZXZlbnQpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2NvZnJhZGVzQ2FtYmlvcycsIHtjb2ZyYWRlSWQ6IGlkfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQ29mcmFkZXMnLCBDb2ZyYWRlcyk7XHJcblxyXG4gIGZ1bmN0aW9uIENvZnJhZGVzKGNvZnJhZGVzUHJlcFNlcnZpY2UsIGNvZnJhZGVzQmFqYXNQcmVwU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0uY29mcmFkZXMgPSBudWxsO1xyXG4gICAgdm0ubmV4dFBhZ2UgPSBudWxsO1xyXG4gICAgdm0uY29mcmFkZXNCYWphcyA9IG51bGw7XHJcbiAgICB2bS5uZXh0UGFnZUJhamFzID0gbnVsbDtcclxuICAgIHZtLnNlbGVjdGVkVGFiID0gMDtcclxuICAgIGFjdGl2YXRlKCk7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICBjb2ZyYWRlc1ByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0ubmV4dFBhZ2UgPSBkYXRhLm5leHQ7XHJcbiAgICAgICAgdm0uY29mcmFkZXMgPSBkYXRhLnJlc3VsdHM7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIGNvZnJhZGVzQmFqYXNQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLm5leHRQYWdlQmFqYXMgPSBkYXRhLm5leHQ7XHJcbiAgICAgICAgdm0uY29mcmFkZXNCYWphcyA9IGRhdGEucmVzdWx0cztcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ3Njcm9sbHknLCBzY3JvbGx5KTtcclxuXHJcbiAgZnVuY3Rpb24gc2Nyb2xseSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uICgkcm9vdFNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgIHZhciByYXcgPSBlbGVtZW50WzBdO1xyXG4gICAgICAgIGVsZW1lbnQuYmluZCgnc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgaWYgKHJhdy5zY3JvbGxUb3AgKyByYXcub2Zmc2V0SGVpZ2h0ID49IHJhdy5zY3JvbGxIZWlnaHQtNSkge1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KFwic2Nyb2xsRG93blwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZpbHRlcigncGFyc2VJYmFuJywgcGFyc2VJYmFuKVxyXG4gICAgLmZpbHRlcigncGFyc2VDQycsIHBhcnNlQ0MpXHJcbiAgICAuZmlsdGVyKCdjYWxjdWxhckliYW4nLCBjYWxjdWxhckliYW4pXHJcbiAgICAuZmlsdGVyKCdjYWxjdWxhckNDJywgY2FsY3VsYXJDQyk7XHJcblxyXG4gIGZ1bmN0aW9uIHBhcnNlSWJhbigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoaWJhbikge1xyXG4gICAgICBpYmFuID0gaWJhbiB8fCAnJztcclxuICAgICAgdmFyIGZvcm1hdHRlZEliYW4gPSAnJztcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWJhbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChpID4gMCAmJiBpICUgNCA9PT0gMCkge1xyXG4gICAgICAgICAgZm9ybWF0dGVkSWJhbiArPSAnICc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvcm1hdHRlZEliYW4gKz0gaWJhbltpXTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZm9ybWF0dGVkSWJhbjtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBwYXJzZUNDKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChjYykge1xyXG4gICAgICBjYyA9IGNjIHx8ICcnO1xyXG4gICAgICB2YXIgZm9ybWF0dGVkQ0MgPSAnJztcclxuXHJcbiAgICAgIGZvcm1hdHRlZENDID0gY2Muc3Vic3RyKDAsIDQpICsgJy0nO1xyXG4gICAgICBmb3JtYXR0ZWRDQyArPSBjYy5zdWJzdHIoNCwgNCkgKyAnLSc7XHJcbiAgICAgIGZvcm1hdHRlZENDICs9IGNjLnN1YnN0cig4LCAyKSArICctJztcclxuICAgICAgZm9ybWF0dGVkQ0MgKz0gY2Muc3Vic3RyKDEwLCAxMCk7XHJcblxyXG4gICAgICByZXR1cm4gZm9ybWF0dGVkQ0M7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2FsY3VsYXJDQygpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoaWJhbikge1xyXG4gICAgICBpYmFuID0gaWJhbiB8fCAnJztcclxuICAgICAgcmV0dXJuIGliYW4uc3Vic3RyKDQsIDIwKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjYWxjdWxhckliYW4oKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNjYykge1xyXG4gICAgICB2YXIgcGFpcyA9IFwiRVNcIjtcclxuICAgICAgdmFyIGNpZnJhcyA9IGNjYyArIHZhbG9yQ2lmcmFzKHBhaXMpICsgXCIwMFwiO1xyXG4gICAgICB2YXIgcmVzdG8gPSBtb2R1bG8oY2lmcmFzLCA5Nyk7XHJcbiAgICAgIHJldHVybiBwYWlzICsgY2Vyb3NJenF1aWVyZGEoOTgtcmVzdG8sIDIpICsgY2NjO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiB2YWxvckNpZnJhcyhjaWZyYXMpIHtcclxuICAgICAgdmFyIExFVFJBUyA9IFwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCI7XHJcbiAgICAgIHZhciBpdGVtcyA9IFtdO1xyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8Y2lmcmFzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHBvc2ljaW9uID0gTEVUUkFTLmluZGV4T2YoY2lmcmFzW2ldKTtcclxuICAgICAgICBpdGVtcy5wdXNoKHBvc2ljaW9uIDwgMD8gXCItXCI6IHBvc2ljaW9uKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gaXRlbXMuam9pbihcIlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtb2R1bG8oY2lmcmFzLCBkaXZpc29yKSB7XHJcbiAgICAgIHZhciBDVUVOVEEgPSAxMDtcclxuICAgICAgdmFyIGxhcmdvID0gY2lmcmFzLmxlbmd0aDtcclxuICAgICAgdmFyIHJlc3RvID0gMDtcclxuICAgICAgZm9yICh2YXIgaT0wOyBpPGxhcmdvOyBpKz1DVUVOVEEpIHtcclxuICAgICAgICB2YXIgZGl2aWRlbmRvID0gcmVzdG8gKyBcIlwiICsgY2lmcmFzLnN1YnN0cihpLCBDVUVOVEEpO1xyXG4gICAgICAgIHJlc3RvID0gZGl2aWRlbmRvICUgZGl2aXNvcjtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdG87XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2Vyb3NJenF1aWVyZGEoY2lmcmFzLCBsYXJnbykge1xyXG4gICAgICBjaWZyYXMgKz0gJyc7XHJcbiAgICAgIHdoaWxlKGNpZnJhcy5sZW5ndGggPCBsYXJnbykgeyBjaWZyYXMgPSAnMCcrY2lmcmFzOyB9XHJcbiAgICAgIHJldHVybiBjaWZyYXM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZpbHRlcignc3RyaW5nVG9EYXRlRm9ybWF0Jywgc3RyaW5nVG9EYXRlRm9ybWF0KVxyXG4gICAgLmZpbHRlcignZm9ybWF0RGF0ZXMnLCBmb3JtYXREYXRlcyk7XHJcblxyXG4gIGZ1bmN0aW9uIHN0cmluZ1RvRGF0ZUZvcm1hdCgpe1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBkYXRhLmRhdG9zUGVyc29uYWxlcy5mZWNoYU5hY2ltaWVudG8gID0gbmV3IERhdGUoZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFOYWNpbWllbnRvKS50b0xvY2FsZURhdGVTdHJpbmcoKTtcclxuICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFJbnNjcmlwY2lvbiA9IG5ldyBEYXRlKGRhdGEuZGF0b3NQZXJzb25hbGVzLmZlY2hhSW5zY3JpcGNpb24pLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gICAgICByZXR1cm4gZGF0YTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBmb3JtYXREYXRlcygpe1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICB2YXIgZGF0ZSA9IGRhdGEuZGF0b3NQZXJzb25hbGVzLmZlY2hhTmFjaW1pZW50by5zcGxpdChcIi9cIik7XHJcbiAgICAgIGRhdGEuZGF0b3NQZXJzb25hbGVzLmZlY2hhTmFjaW1pZW50byAgPSBkYXRlWzJdICsgJy0nICsgZGF0ZVsxXSArICctJyArIGRhdGVbMF07XHJcbiAgICAgIGRhdGUgPSBkYXRhLmRhdG9zUGVyc29uYWxlcy5mZWNoYUluc2NyaXBjaW9uLnNwbGl0KFwiL1wiKTtcclxuICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFJbnNjcmlwY2lvbiA9IGRhdGVbMl0gKyAnLScgKyBkYXRlWzFdICsgJy0nICsgZGF0ZVswXTtcclxuICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmlsdGVyKCdyZW1vdmVOdWxscycsIHJlbW92ZU51bGxzKTtcclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlTnVsbHMoKXtcclxuICAgIHJldHVybiBmdW5jdGlvbihvYmope1xyXG4gICAgICB2YXIgaXNBcnJheSA9IG9iaiBpbnN0YW5jZW9mIEFycmF5O1xyXG4gICAgICBmb3IgKHZhciBrIGluIG9iail7XHJcbiAgICAgICAgaWYgKG9ialtrXT09PW51bGwpIGlzQXJyYXkgPyBvYmouc3BsaWNlKGssMSkgOiBkZWxldGUgb2JqW2tdO1xyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmpba109PVwib2JqZWN0XCIpIHJlbW92ZU51bGxzKG9ialtrXSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG9iajtcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdjb2ZyYWRlc1NlcnZpY2UnLCBjb2ZyYWRlc1NlcnZpY2UpO1xyXG5cclxuICBmdW5jdGlvbiBjb2ZyYWRlc1NlcnZpY2UoJHJlc291cmNlLCAkaHR0cCwgJGZpbHRlcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY29mcmFkZXNSZXN0OiBjb2ZyYWRlc1Jlc3QsXHJcbiAgICAgIGNvZnJhZGVzQmFqYXNSZXN0OiBjb2ZyYWRlc0JhamFzUmVzdCxcclxuICAgICAgZ2V0Q2FsbGVzOiBnZXRDYWxsZXMsXHJcbiAgICAgIGdldFJlZ2lzdHJvczogZ2V0UmVnaXN0cm9zXHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvZnJhZGVzUmVzdCgpIHtcclxuICAgICAgcmV0dXJuICRyZXNvdXJjZSgnaHR0cDovLzEyNy4wLjAuMTo1MDUwL2FwaS9jb2ZyYWRlcy86aWQuanNvbjpqc29uJywgbnVsbCwge1xyXG4gICAgICAgICdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OiBmYWxzZX0sXHJcbiAgICAgICAgJ2dldCc6ICAgIHttZXRob2Q6J0dFVCcsIHRyYW5zZm9ybVJlc3BvbnNlOiBmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkZmlsdGVyKCdzdHJpbmdUb0RhdGVGb3JtYXQnKShhbmd1bGFyLmZyb21Kc29uKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAnc2F2ZSc6ICAge21ldGhvZDonUE9TVCcsIHRyYW5zZm9ybVJlcXVlc3Q6IGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIudG9Kc29uKCRmaWx0ZXIoJ2Zvcm1hdERhdGVzJykoJGZpbHRlcigncmVtb3ZlTnVsbHMnKShkYXRhKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb2ZyYWRlc0JhamFzUmVzdCgpIHtcclxuICAgICAgcmV0dXJuICRyZXNvdXJjZSgnaHR0cDovLzEyNy4wLjAuMTo1MDUwL2FwaS9jb2ZyYWRlc0JhamFzLzppZC5qc29uOmpzb24nLCBudWxsLCB7J3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6ZmFsc2V9fSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Q2FsbGVzKGNhbGxlKSB7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6NTA1MC9hcGkvY2FsbGVzLycsIHtwYXJhbXM6IHtjYWxsZTogY2FsbGV9fSkuXHJcbiAgICAgICAgICAgICAgdGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci5mcm9tSnNvbihyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0UmVnaXN0cm9zKCkge1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KCdodHRwOi8vMTI3LjAuMC4xOjUwNTAvYXBpL3JlZ2lzdHJvcy8nKS5cclxuICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLmZyb21Kc29uKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdtYXBhc1NlcnZpY2UnLCBtYXBhc1NlcnZpY2UpO1xyXG5cclxuICBmdW5jdGlvbiBtYXBhc1NlcnZpY2UoJGh0dHApIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGdlb0NvZGluZ0FQSTogZ2VvQ29kaW5nQVBJXHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGdlb0NvZGluZ0FQSShhZGRyZXNzKSB7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2h0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9nZW9jb2RlL2pzb24nLCB7cGFyYW1zOiB7YWRkcmVzczogYWRkcmVzcywga2V5OiBcIkFJemFTeURDX09JRFNsNmN1cmpDTUNMeXpuMnloTW1nLWVyNWtuSVwifX0pLlxyXG4gICAgICB0aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgIH0pO1xyXG4gICAgfSAgICBcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgnc2VjdG9yZXNTZXJ2aWNlJywgc2VjdG9yZXNTZXJ2aWNlKTtcclxuXHJcbiAgZnVuY3Rpb24gc2VjdG9yZXNTZXJ2aWNlKCRyZXNvdXJjZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc2VjdG9yZXNSZXN0OiBzZWN0b3Jlc1Jlc3RcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gc2VjdG9yZXNSZXN0KCkge1xyXG4gICAgICByZXR1cm4gJHJlc291cmNlKCdodHRwOi8vMTI3LjAuMC4xOjUwNTAvYXBpL3NlY3RvcmVzLzppZC5qc29uOmpzb24nLCBudWxsLCB7XHJcbiAgICAgICAgJ2dldCc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OiB0cnVlfSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdMaXN0YUNvZnJhZGVzJywgTGlzdGFDb2ZyYWRlcyk7XHJcblxyXG4gIGZ1bmN0aW9uIExpc3RhQ29mcmFkZXMoJHJvb3RTY29wZSwgJHNjb3BlLCAkc3RhdGUsIGNvZnJhZGVzU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0uZmlsdHJvICAgID0gJ25vbWJyZSc7XHJcbiAgICB2bS50eXBlSW5wdXQgPSAndGV4dCc7XHJcbiAgICB2bS5idXNjYXIgICAgPSBudWxsO1xyXG5cclxuICAgIHZtLnNlYXJjaCAgICAgICAgID0gc2VhcmNoO1xyXG4gICAgdm0ucmFkaW9DaGFuZ2UgICAgPSByYWRpb0NoYW5nZTtcclxuICAgIHZtLmdvVG9Db2ZyYWRlICAgID0gZ29Ub0NvZnJhZGU7XHJcbiAgICB2bS5tb2RpZnlDb2ZyYWRlICA9IG1vZGlmeUNvZnJhZGU7XHJcblxyXG4gICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignc2Nyb2xsRG93bicsIGdldE5leHRQYWdlKTtcclxuXHJcbiAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBoYW5kbGVyKCk7XHJcbiAgICAgIGhhbmRsZXIgPSBudWxsO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TmV4dFBhZ2UoKSB7XHJcbiAgICAgIGlmICghdm0uYmFqYXMpXHJcbiAgICAgICAgZ2V0TmV4dFBhZ2VBbHRhcygpO1xyXG4gICAgICBlbHNlXHJcbiAgICAgICAgZ2V0TmV4dFBhZ2VCYWphcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldE5leHRQYWdlQWx0YXMoKSB7XHJcbiAgICAgIGlmICh2bS5uZXh0UGFnZSl7XHJcbiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSB7cGFnZTogdm0ubmV4dFBhZ2V9O1xyXG5cclxuICAgICAgICBpZiAodm0uYnVzY2FyKVxyXG4gICAgICAgICAgcGFyYW1ldGVyc1t2bS5maWx0cm9dID0gdm0uYnVzY2FyO1xyXG5cclxuICAgICAgICBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkucXVlcnkocGFyYW1ldGVycywgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICB2bS5uZXh0UGFnZSA9IGRhdGEubmV4dDtcclxuICAgICAgICAgIHZtLmNvZnJhZGVzID0gdm0uY29mcmFkZXMuY29uY2F0KGRhdGEucmVzdWx0cyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXROZXh0UGFnZUJhamFzKCkge1xyXG4gICAgICBpZiAodm0ubmV4dFBhZ2VCYWphcyl7XHJcbiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSB7cGFnZTogdm0ubmV4dFBhZ2VCYWphc307XHJcblxyXG4gICAgICAgIGlmICh2bS5idXNjYXIpXHJcbiAgICAgICAgICBwYXJhbWV0ZXJzW3ZtLmZpbHRyb10gPSB2bS5idXNjYXI7XHJcblxyXG4gICAgICAgIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc0JhamFzUmVzdCgpLnF1ZXJ5KHBhcmFtZXRlcnMsIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgdm0ubmV4dFBhZ2VCYWphcyA9IGRhdGEubmV4dDtcclxuICAgICAgICAgIHZtLmNvZnJhZGVzQmFqYXMgPSB2bS5jb2ZyYWRlc0JhamFzLmNvbmNhdChkYXRhLnJlc3VsdHMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VhcmNoKCkge1xyXG4gICAgICBpZiAoIXZtLmJhamFzKVxyXG4gICAgICAgIHNlYXJjaEFsdGFzKCk7XHJcbiAgICAgIGVsc2VcclxuICAgICAgICBzZWFyY2hCYWphcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlYXJjaEFsdGFzKCkge1xyXG4gICAgICB2YXIgZmlsdHJvID0ge307XHJcbiAgICAgIGZpbHRyb1t2bS5maWx0cm9dID0gdm0uYnVzY2FyO1xyXG4gICAgICBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkucXVlcnkoZmlsdHJvLCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5uZXh0UGFnZSA9IGRhdGEubmV4dDtcclxuICAgICAgICB2bS5jb2ZyYWRlcyA9IGRhdGEucmVzdWx0cztcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VhcmNoQmFqYXMoKSB7XHJcbiAgICAgIHZhciBmaWx0cm8gPSB7fTtcclxuICAgICAgZmlsdHJvW3ZtLmZpbHRyb10gPSB2bS5idXNjYXI7XHJcbiAgICAgIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc0JhamFzUmVzdCgpLnF1ZXJ5KGZpbHRybywgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0ubmV4dFBhZ2VCYWphcyA9IGRhdGEubmV4dDtcclxuICAgICAgICB2bS5jb2ZyYWRlc0JhamFzID0gZGF0YS5yZXN1bHRzO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByYWRpb0NoYW5nZSgpIHtcclxuICAgICAgdm0uYnVzY2FyID0gbnVsbDtcclxuICAgICAgdm0udHlwZUlucHV0ID0gKHZtLmZpbHRybyA9PT0gJ25vbWJyZScpID8gJ3RleHQnOiAnbnVtYmVyJztcclxuICAgICAgdm0uc2VhcmNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ29Ub0NvZnJhZGUoaWQsIGV2ZW50KXtcclxuICAgICAgJHN0YXRlLmdvKCdjb2ZyYWRlc0RldGFsbGUnLCB7Y29mcmFkZUlkOiBpZH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUNvZnJhZGUoaWQsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICRzdGF0ZS5nbygnY29mcmFkZXNDYW1iaW9zJywge2NvZnJhZGVJZDogaWR9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnbGlzdGFDb2ZyYWRlcycsIGxpc3RhQ29mcmFkZXMpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gbGlzdGFDb2ZyYWRlcygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9saXN0L2NvZnJhZGVzLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBjb2ZyYWRlczogJz1jb2ZyYWRlcycsXHJcbiAgICAgICAgbmV4dFBhZ2U6ICc9cGFnZScsXHJcbiAgICAgICAgY29mcmFkZXNCYWphczogJz1jb2ZyYWRlc0JhamFzJyxcclxuICAgICAgICBuZXh0UGFnZUJhamFzOiAnPXBhZ2VCYWphcydcclxuICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ0xpc3RhQ29mcmFkZXMnLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ1JlbW92ZUNvZnJhZGUnLCBSZW1vdmVDb2ZyYWRlKTtcclxuXHJcbiAgZnVuY3Rpb24gUmVtb3ZlQ29mcmFkZSgkc3RhdGUsICRtZERpYWxvZykge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5yZW1vdmVDb2ZyYWRlID0gcmVtb3ZlQ29mcmFkZTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQ29mcmFkZShpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZW1vdmUvZGlhbG9nVG1wbC9yZW1vdmVDb2ZyYWRlLnRtcGwuaHRtbCcsXHJcbiAgICAgICAgbG9jYWxzOiB7aWQ6IGlkfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnUmVtb3ZlQ29mcmFkZVRtcGwnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxyXG4gICAgICAgIHRhcmdldEV2ZW50OiBldmVudCxcclxuICAgICAgICBjbGlja091dHNpZGVUb0Nsb3NlOnRydWVcclxuICAgICAgfSkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAvL3JlbW92ZUVuZENvZnJhZGUoaWQpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdyZW1vdmVDb2ZyYWRlJywgcmVtb3ZlQ29mcmFkZSk7XHJcblxyXG5cclxuICBmdW5jdGlvbiByZW1vdmVDb2ZyYWRlKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9kaXJlY3RpdmVzL2NvZnJhZGVzL3JlbW92ZS9yZW1vdmVDb2ZyYWRlLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBjb2ZyYWRlSWQ6ICc9Y29mcmFkZScgICAgICAgIFxyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnUmVtb3ZlQ29mcmFkZScsXHJcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignUmVzdG9yZUNvZnJhZGUnLCBSZXN0b3JlQ29mcmFkZSk7XHJcblxyXG4gIGZ1bmN0aW9uIFJlc3RvcmVDb2ZyYWRlKCRzdGF0ZSwgJG1kRGlhbG9nLCBjb2ZyYWRlc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgdm0ucmVzdG9yZUNvZnJhZGUgPSByZXN0b3JlQ29mcmFkZTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcmVzdG9yZUNvZnJhZGUoaWQsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIHZhciByZXN0YXVyYXJEaWFsb2cgPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAudGl0bGUoJ1Jlc3RhdXJhciBjb2ZyYWRlJylcclxuICAgICAgICAgIC5jb250ZW50KCfCv0VzdMOhIHNlZ3VybyBxdWUgZGVzZWEgcmVzdGF1cmFyIGVzdGUgY29mcmFkZT88YnI+U3UgbsO6bWVybyBkZSBDb2ZyYWRlIHNlIGNhbGN1bGFyw6EgZGUgbnVldm8uJylcclxuICAgICAgICAgIC5hcmlhTGFiZWwoJ1Jlc3RhdXJhciBjb2ZyYWRlJylcclxuICAgICAgICAgIC50YXJnZXRFdmVudChldmVudClcclxuICAgICAgICAgIC5vaygnQWNlcHRhcicpXHJcbiAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAuY2xpY2tPdXRzaWRlVG9DbG9zZSh0cnVlKTtcclxuICAgICAgJG1kRGlhbG9nLnNob3cocmVzdGF1cmFyRGlhbG9nKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJlc3RvcmVFbmRDb2ZyYWRlKGlkKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzdG9yZUVuZENvZnJhZGUoaWQpe1xyXG4gICAgICB2YXIgY29mcmFkZSA9IGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5nZXQoe2lkOiBpZH0sIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY29mcmFkZS5iYWphID0gbnVsbDtcclxuICAgICAgICBjb2ZyYWRlLiRzYXZlKHt1cGRhdGVOdW1lcm9Db2ZyYWRlOiB0cnVlfSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgaWYoJHN0YXRlLmN1cnJlbnQubmFtZSA9PT0gJ2NvZnJhZGVzJyl7XHJcbiAgICAgICAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oJHN0YXRlLmN1cnJlbnQsIG51bGwsIHtcclxuICAgICAgICAgICAgICByZWxvYWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgaW5oZXJpdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgbm90aWZ5OiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdjb2ZyYWRlcycpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgncmVzdG9yZUNvZnJhZGUnLCByZXN0b3JlQ29mcmFkZSk7XHJcblxyXG5cclxuICBmdW5jdGlvbiByZXN0b3JlQ29mcmFkZSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZXN0b3JlL3Jlc3RvcmVDb2ZyYWRlLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBjb2ZyYWRlSWQ6ICc9Y29mcmFkZScgICAgICAgIFxyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnUmVzdG9yZUNvZnJhZGUnLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ1JlbW92ZUNvZnJhZGVUbXBsJywgUmVtb3ZlQ29mcmFkZVRtcGwpO1xyXG5cclxuICBmdW5jdGlvbiBSZW1vdmVDb2ZyYWRlVG1wbCgkc3RhdGUsICRtZERpYWxvZywgY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLmNsb3NlRGlhbG9nID0gY2xvc2VEaWFsb2c7XHJcbiAgICB2bS5yZW1vdmVFbmRDb2ZyYWRlID0gcmVtb3ZlRW5kQ29mcmFkZTtcclxuXHJcbiAgICBmdW5jdGlvbiBjbG9zZURpYWxvZygpIHtcclxuICAgICAgJG1kRGlhbG9nLmNhbmNlbCgpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlRW5kQ29mcmFkZShpZCl7XHJcbiAgICAgIHZhciBjb2ZyYWRlID0gY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzUmVzdCgpLmdldCh7aWQ6IGlkfSwgZnVuY3Rpb24oKXtcclxuICAgICAgICBjb2ZyYWRlLmJhamEgPSB7bW90aXZvIDogdm0ubW90aXZvQmFqYSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmVjaGFCYWphOiBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpfTtcclxuICAgICAgICBjb2ZyYWRlLm51bWVyb0NvZnJhZGUgPSBudWxsO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvZnJhZGUuJHNhdmUoe3VwZGF0ZU51bWVyb0NvZnJhZGU6IHRydWV9KS50aGVuKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICB2bS5jbG9zZURpYWxvZygpO1xyXG4gICAgICAgICAgaWYoJHN0YXRlLmN1cnJlbnQubmFtZSA9PT0gJ2NvZnJhZGVzJyl7XHJcbiAgICAgICAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oJHN0YXRlLmN1cnJlbnQsIG51bGwsIHtcclxuICAgICAgICAgICAgICByZWxvYWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgaW5oZXJpdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgbm90aWZ5OiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdjb2ZyYWRlcycpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
