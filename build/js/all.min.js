!function(){"use strict";angular.module("app",["ui.router","ngResource","ngMaterial","uiGmapgoogle-maps","ngMessages"])}(),function(){"use strict";function e(e){e.configure({libraries:"weather,geometry,visualization"})}angular.module("app").config(e),e.$inject=["uiGmapGoogleMapApiProvider"]}(),function(){"use strict";function e(e){e.months=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],e.shortMonths=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],e.days=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"],e.shortDays=["lun","mar","mié","jue","vie","sáb","dom"],e.firstDayOfWeek=1,e.parseDate=function(e){return new Date(e)},e.formatDate=function(e){return new Date(e).toLocaleDateString()}}angular.module("app").config(e),e.$inject=["$mdDateLocaleProvider"]}(),function(){"use strict";function e(e,r){r.otherwise("/"),e.state("home",{url:"/",template:'<p class="lead">Welcome to the UI-Router Demo</p><p>Use the menu above to navigate. Pay attention to the <code>$state</code> and <code>$stateParams</code> values below.</p><p>Click these links—<a href="#/c?id=1">Alice</a> or <a href="#/user/42">Bob</a>—to see a url redirect in action.</p>'})}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){}angular.module("app").config(e),e.$inject=["$mdThemingProvider"]}(),function(){"use strict";function e(e){e.state("cofrades",{url:"/cofrades",templateProvider:["$templateCache",function(e){return e.get("cofrades/list/cofrades.html")}],controller:"Cofrades",controllerAs:"vm",resolve:{cofradesPrepService:r}}).state("cofradesDetalle",{url:"/cofrades/:cofradeId",templateProvider:["$templateCache",function(e){return e.get("cofrades/detail/cofradeDetalle.html")}],controller:"CofradeDetalle",controllerAs:"vm",resolve:{getCofradePrepService:o,getMapsPrepService:n}}).state("cofradesCambios",{url:"/cofrades/nuevos/:cofradeId",templateProvider:["$templateCache",function(e){return e.get("cofrades/add/cofradeNuevo.html")}],controller:"CofradeNuevo",controllerAs:"vm",resolve:{getCofradePrepService:o,getCallesPrepService:t}})}function r(e){return e.cofradesRest().query()}function o(e,r){return r.cofradeId?e.cofradesRest().get({id:r.cofradeId}):!1}function t(e){return e.getCalles().then(function(e){return e.data})}function n(e,r,o){return r.$promise.then(function(r){var t=r.datosPersonales.direccion.calle+" "+r.datosPersonales.direccion.numero+" "+r.datosPersonales.direccion.municipio+" "+r.datosPersonales.direccion.provincia+" "+r.datosPersonales.direccion.cp;return o.geoCodingAPI(t).then(function(r){if(r.data.results.length){var o=r.data.results[0].geometry.location;return e.then(function(e){return{coord:{latitude:o.lat,longitude:o.lng},marker:{latitude:o.lat,longitude:o.lng},zoom:17}})}})})}angular.module("app").config(e),e.$inject=["$stateProvider"],r.$inject=["cofradesService"],o.$inject=["cofradesService","$stateParams"],t.$inject=["cofradesService"],n.$inject=["uiGmapGoogleMapApi","getCofradePrepService","mapasService"]}(),function(){"use strict";function e(e,r){function o(r){e(r).toggle()}function t(e,t){o(t),r.go(e)}var n=this;n.toggleSidenav=o,n.navigateTo=t}angular.module("app").controller("AppCtrl",e),e.$inject=["$mdSidenav","$state"]}(),function(){"use strict";function e(e,r,o,t,n,a,c,i){function s(){n?n.$promise.then(function(e){return $.cofrade=e,$.calleSelected={calle:$.cofrade.datosPersonales.direccion.calle,cp:$.cofrade.datosPersonales.direccion.cp,provincia:$.cofrade.datosPersonales.direccion.provincia,municipio:$.cofrade.datosPersonales.direccion.municipio},p($.cofrade.datosPersonales.direccion.calle),$.cofrade.datosFinancieros=$.cofrade.datosFinancieros||{cuenta:{},deuda:[]},$.cofrade.datosFinancieros.cuenta=$.cofrade.datosFinancieros.cuenta||{},$.cofrade.datosFinancieros.deuda=$.cofrade.datosFinancieros.deuda||[],!0}):c.getRegistros().then(function(e){$.cofrade.numeroOrden=e.data.numeroOrden,$.cofrade.numeroCofrade=e.data.numeroCofrade}),$.calles=a}function u(){window.history.back()}function l(e){var r=e?$.calles.filter(d(e)):$.calles;return r}function d(e){var r=angular.lowercase(e);return function(e){return 0===angular.lowercase(e.calle).indexOf(r)}}function f(e){e?($.cofrade.datosPersonales.direccion.calle=e.calle,$.cofrade.datosPersonales.direccion.municipio=e.municipio,$.cofrade.datosPersonales.direccion.cp=e.cp,$.cofrade.datosPersonales.direccion.provincia=e.provincia,p(e.calle)):($.cofrade.datosPersonales.direccion.calle=null,$.cofrade.datosPersonales.direccion.municipio=null,$.cofrade.datosPersonales.direccion.cp=null,$.cofrade.datosPersonales.direccion.provincia=null,$.sector=null,$.nuevaCalle=!0)}function p(e){i.sectoresRest().query({calle:e},function(e){$.sector=e[0].numeroSector,$.nuevaCalle=!1})}function g(){$.cofrade.datosFinancieros.cuenta.iban&&($.cofrade.datosFinancieros.cuenta.cc=e("calcularCC")($.cofrade.datosFinancieros.cuenta.iban))}function m(){$.cofrade.datosFinancieros.cuenta.cc&&($.cofrade.datosFinancieros.cuenta.iban=e("calcularIban")($.cofrade.datosFinancieros.cuenta.cc))}function v(e){function t(){i.sectoresRest().get({sector:$.sector},function(e){var t=e[0];t?(t.calles.push($.searchText),t.$save(),a.save($.cofrade,h,P)):o.show(o.simple().content("El sector "+$.sector+" no existe!!").position("top right").parent(r[0].querySelector("#toastBounds")).hideDelay(3e3))})}if(e){var n={cuenta:{},deuda:[]};$.cofrade.datosPersonales.direccion.calle=$.searchText,JSON.stringify($.cofrade.datosFinancieros)===JSON.stringify(n)&&delete $.cofrade.datosFinancieros;var a=c.cofradesRest();$.nuevaCalle?t():a.save($.cofrade,h,P)}else C()}function h(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),t.go("cofrades")}function P(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(r[0].querySelector("#toastBounds")).hideDelay(3e3))}function C(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(r[0].querySelector("#toastBounds")).position("top right"))}var $=this;$.nuevaCalle=!0,$.cofrade={datosFinancieros:{cuenta:{},deuda:[]},datosPersonales:{direccion:{},sexo:"Hombre",fechaInscripcion:new Date,fechaNacimiento:new Date}},$.backState=u,$.querySearch=l,$.selectedItemChange=f,$.calcularCC=g,$.calcularIban=m,$.guardar=v,s()}angular.module("app").controller("CofradeNuevo",e),e.$inject=["$filter","$document","$mdToast","$state","getCofradePrepService","getCallesPrepService","cofradesService","sectoresService"]}(),function(){"use strict";function e(e,r,o,t){function n(){return o.$promise.then(function(e){c.cofrade=r("dateToString")(e),c.cofrade.datosFinancieros&&c.cofrade.datosFinancieros.cuenta&&(c.iban=r("parseIban")(c.cofrade.datosFinancieros.cuenta.iban),c.cc=r("parseCC")(c.cofrade.datosFinancieros.cuenta.cc)),c.maps=t})}function a(r,o){e.go("cofradesCambios",{cofradeId:r})}var c=this;c.cofrade=null,c.maps=null,c.modifyCofrade=a,n()}angular.module("app").controller("CofradeDetalle",e),e.$inject=["$state","$filter","getCofradePrepService","getMapsPrepService"]}(),function(){"use strict";function e(e){function r(){return e.$promise.then(function(e){o.nextPage=e.next,o.cofrades=e.results})}var o=this;o.cofrades=null,o.nextPage=null,r()}angular.module("app").controller("Cofrades",e),e.$inject=["cofradesPrepService"]}(),function(){"use strict";function e(e){function r(){return e.$promise.then(function(e){t.cofrade=e,t.cofrade.datosFinancieros||(t.cofrade.datosFinancieros={deuda:[]})})}function o(){window.history.back()}var t=this;t.cofrade=null,t.cofrade={datosFinancieros:{deuda:[]}},t.backState=o,r()}angular.module("app").controller("CofradeModificar",e),e.$inject=["getCofradePrepService"]}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,r,o){var t=r[0];r.bind("scroll",function(){t.scrollTop+t.offsetHeight>=t.scrollHeight-5&&e.$emit("scrollDown")})}}}angular.module("app").directive("scrolly",e)}(),function(){"use strict";function e(){return function(e){e=e||"";for(var r="",o=0;o<e.length;o++)o>0&&o%4===0&&(r+=" "),r+=e[o];return r}}function r(){return function(e){e=e||"";var r="";return r=e.substr(0,4)+"-",r+=e.substr(4,4)+"-",r+=e.substr(8,2)+"-",r+=e.substr(10,10)}}function o(){return function(e){return e=e||"",e.substr(4,20)}}function t(){function e(e){for(var r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",o=[],t=0;t<e.length;t++){var n=r.indexOf(e[t]);o.push(0>n?"-":n)}return o.join("")}function r(e,r){for(var o=10,t=e.length,n=0,a=0;t>a;a+=o){var c=n+""+e.substr(a,o);n=c%r}return n}function o(e,r){for(e+="";e.length<r;)e="0"+e;return e}return function(t){var n="ES",a=t+e(n)+"00",c=r(a,97);return n+o(98-c,2)+t}}angular.module("app").filter("parseIban",e).filter("parseCC",r).filter("calcularIban",t).filter("calcularCC",o)}(),function(){"use strict";function e(){return function(e){return e.datosPersonales.fechaNacimiento=new Date(e.datosPersonales.fechaNacimiento),e.datosPersonales.fechaInscripcion=new Date(e.datosPersonales.fechaInscripcion),e}}function r(){return function(e){return e.datosPersonales.fechaNacimiento=e.datosPersonales.fechaNacimiento.toLocaleDateString(),e.datosPersonales.fechaInscripcion=e.datosPersonales.fechaInscripcion.toLocaleDateString(),e}}angular.module("app").filter("stringToDate",e).filter("dateToString",r)}(),function(){"use strict";function e(){return function(r){var o=r instanceof Array;for(var t in r)null===r[t]?o?r.splice(t,1):delete r[t]:"object"==typeof r[t]&&e(r[t]);return r}}angular.module("app").filter("removeNulls",e)}(),function(){"use strict";function e(e,r,o){function t(){return e("http://127.0.0.1:5050/api/cofrades/:id.json:json",null,{query:{method:"GET",isArray:!1},get:{method:"GET",transformResponse:function(e,r){return o("stringToDate")(angular.fromJson(e))}},save:{method:"POST",transformRequest:function(e,r){return angular.toJson(o("removeNulls")(e))}}})}function n(){return e("http://127.0.0.1:5050/api/cofradesBajas/:id.json:json",null,{query:{method:"GET",isArray:!1}})}function a(){return r.get("http://127.0.0.1:5050/api/calles/").then(function(e){return angular.fromJson(e)})}function c(){return r.get("http://127.0.0.1:5050/api/registros/").then(function(e){return angular.fromJson(e)})}return{cofradesRest:t,cofradesBajasRest:n,getCalles:a,getRegistros:c}}angular.module("app").factory("cofradesService",e),e.$inject=["$resource","$http","$filter"]}(),function(){"use strict";function e(e){function r(r){return e.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:r,key:"AIzaSyDC_OIDSl6curjCMCLyzn2yhMmg-er5knI"}}).then(function(e){return e})}return{geoCodingAPI:r}}angular.module("app").factory("mapasService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function r(){return e("http://127.0.0.1:5050/api/sectores/:id.json:json",null,{get:{method:"GET",isArray:!0}})}return{sectoresRest:r}}angular.module("app").factory("sectoresService",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e,r,o,t){function n(){if(u.nextPage){var e={page:u.nextPage};u.buscar&&(e[u.filtro]=u.buscar),t.cofradesRest().query(e,function(e){u.nextPage=e.next,u.cofrades=u.cofrades.concat(e.results)})}}function a(){var e={};e[u.filtro]=u.buscar,t.cofradesRest().query(e,function(e){u.nextPage=e.next,u.cofrades=e.results})}function c(){u.buscar=null,u.typeInput="nombre"===u.filtro?"text":"number"}function i(e,r){o.go("cofradesDetalle",{cofradeId:e})}function s(e,r){o.go("cofradesCambios",{cofradeId:e})}var u=this;u.filtro="nombre",u.typeInput="text",u.buscar=null,u.busqueda=a,u.radioChange=c,u.goToCofrade=i,u.modifyCofrade=s;var l=e.$on("scrollDown",n);r.$on("$destroy",function(){l(),l=null})}angular.module("app").controller("ListaCofrades",e),e.$inject=["$rootScope","$scope","$state","cofradesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/cofrades/cofrades.directive.html",scope:{cofrades:"=cofrades",nextPage:"=page"},controller:"ListaCofrades",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaCofrades",e)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5pbml0Lm1vZHVsZS5qcyIsImFwcC5tYXAuanMiLCJhbGwubWluLmpzIiwiYXBwLnBpY2tlckRhdGUuanMiLCJhcHAucm91dGVzLmpzIiwiYXBwLnRoZW1lLmpzIiwiY29mcmFkZXMvY29mcmFkZXMucm91dGVzLmpzIiwiaW50ZXJmYXovYXBwLmNvbnRyb2xsZXIuanMiLCJjb2ZyYWRlcy9hZGQvY29mcmFkZU51ZXZvLmNvbnRyb2xsZXIuanMiLCJjb2ZyYWRlcy9kZXRhaWwvY29mcmFkZURldGFsbGUuY29udHJvbGxlci5qcyIsImNvZnJhZGVzL2xpc3QvY29mcmFkZXMuY29udHJvbGxlci5qcyIsImNvZnJhZGVzL21vZGlmeS9jb2ZyYWRlTW9kaWZpY2FyLmNvbnRyb2xsZXIuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvc2Nyb2xseS5kaXJlY3RpdmUuanMiLCJjb21tb25zL2ZpbHRlcnMvcGFyc2VDdWVudGEuZmlsdGVyLmpzIiwiY29tbW9ucy9maWx0ZXJzL3BhcnNlRGF0ZS5maWx0ZXIuanMiLCJjb21tb25zL2ZpbHRlcnMvcmVtb3ZlTnVsbHMuZmlsdGVyLmpzIiwiY29tbW9ucy9zZXJ2aWNlcy9jb2ZyYWRlcy5zZXJ2aWNlLmpzIiwiY29tbW9ucy9zZXJ2aWNlcy9tYXBhcy5zZXJ2aWNlLmpzIiwiY29tbW9ucy9zZXJ2aWNlcy9zZWN0b3Jlcy5zZXJ2aWNlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2NvZnJhZGVzL2NvZnJhZGVzLmNvbnRyb2xsZXIuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2NvZnJhZGVzL2NvZnJhZGVzLmRpcmVjdGl2ZS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiZ29vZ2xlTWFwQVBJIiwidWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIiLCJjb25maWd1cmUiLCJsaWJyYXJpZXMiLCJjb25maWciLCIkaW5qZWN0IiwiZGF0ZVBpY2tlckNvbmZpZyIsIiRtZERhdGVMb2NhbGVQcm92aWRlciIsIm1vbnRocyIsInNob3J0TW9udGhzIiwiZGF5cyIsInNob3J0RGF5cyIsImZpcnN0RGF5T2ZXZWVrIiwicGFyc2VEYXRlIiwiZGF0ZVN0cmluZyIsIkRhdGUiLCJmb3JtYXREYXRlIiwiZGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZSIsInRoZW1lQW5ndWxhck1hdGVyaWFsIiwiJG1kVGhlbWluZ1Byb3ZpZGVyIiwidGVtcGxhdGVQcm92aWRlciIsIiR0ZW1wbGF0ZUNhY2hlIiwiZ2V0IiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsInJlc29sdmUiLCJjb2ZyYWRlc1ByZXBTZXJ2aWNlIiwiZ2V0Q29mcmFkZVByZXBTZXJ2aWNlIiwiZ2V0TWFwc1ByZXBTZXJ2aWNlIiwiZ2V0Q2FsbGVzUHJlcFNlcnZpY2UiLCJjb2ZyYWRlc1NlcnZpY2UiLCJjb2ZyYWRlc1Jlc3QiLCJxdWVyeSIsIiRzdGF0ZVBhcmFtcyIsImlkIiwiY29mcmFkZUlkIiwiZ2V0Q2FsbGVzIiwidGhlbiIsInJlc3BvbnNlIiwiZGF0YSIsInVpR21hcEdvb2dsZU1hcEFwaSIsIm1hcGFzU2VydmljZSIsIiRwcm9taXNlIiwiYWRkcmVzcyIsImRhdG9zUGVyc29uYWxlcyIsImRpcmVjY2lvbiIsImNhbGxlIiwibnVtZXJvIiwibXVuaWNpcGlvIiwicHJvdmluY2lhIiwiY3AiLCJnZW9Db2RpbmdBUEkiLCJyZXN1bHRzIiwibGVuZ3RoIiwiY29vcmRpbmF0ZXMiLCJnZW9tZXRyeSIsImxvY2F0aW9uIiwibWFwcyIsImNvb3JkIiwibGF0aXR1ZGUiLCJsYXQiLCJsb25naXR1ZGUiLCJsbmciLCJtYXJrZXIiLCJ6b29tIiwiQXBwQ3RybCIsIiRtZFNpZGVuYXYiLCIkc3RhdGUiLCJ0b2dnbGVTaWRlbmF2IiwibWVudUlkIiwidG9nZ2xlIiwibmF2aWdhdGVUbyIsInRvIiwiZ28iLCJ2bSIsInRoaXMiLCJDb2ZyYWRlTnVldm8iLCIkZmlsdGVyIiwiJGRvY3VtZW50IiwiJG1kVG9hc3QiLCJzZWN0b3Jlc1NlcnZpY2UiLCJhY3RpdmF0ZSIsImNvZnJhZGUiLCJjYWxsZVNlbGVjdGVkIiwic2VhcmNoU2VjdG9yIiwiZGF0b3NGaW5hbmNpZXJvcyIsImN1ZW50YSIsImRldWRhIiwiZ2V0UmVnaXN0cm9zIiwibnVtZXJvT3JkZW4iLCJudW1lcm9Db2ZyYWRlIiwiY2FsbGVzIiwiYmFja1N0YXRlIiwid2luZG93IiwiaGlzdG9yeSIsImJhY2siLCJxdWVyeVNlYXJjaCIsImZpbHRlciIsImNyZWF0ZUZpbHRlckZvciIsImxvd2VyY2FzZVF1ZXJ5IiwibG93ZXJjYXNlIiwiaXRlbSIsImluZGV4T2YiLCJzZWxlY3RlZEl0ZW1DaGFuZ2UiLCJzZWN0b3IiLCJudWV2YUNhbGxlIiwic2VjdG9yZXNSZXN0IiwibnVtZXJvU2VjdG9yIiwiY2FsY3VsYXJDQyIsImliYW4iLCJjYyIsImNhbGN1bGFySWJhbiIsImd1YXJkYXIiLCJpc1ZhbGlkIiwiZ3VhcmRhckNhbGxlIiwic2VjdG9yUmVzb3VyY2UiLCJwdXNoIiwic2VhcmNoVGV4dCIsIiRzYXZlIiwiQ29mcmFkZVJlc291cmNlIiwic2F2ZSIsImd1YXJkYXJTdWNjZXNzIiwiZ3VhcmRhckVycm9yIiwic2hvdyIsInNpbXBsZSIsImNvbnRlbnQiLCJwb3NpdGlvbiIsInBhcmVudCIsInF1ZXJ5U2VsZWN0b3IiLCJoaWRlRGVsYXkiLCJKU09OIiwic3RyaW5naWZ5Iiwic2hvd0FjdGlvblRvYXN0IiwiYWN0aW9uIiwiaGlnaGxpZ2h0QWN0aW9uIiwic2V4byIsImZlY2hhSW5zY3JpcGNpb24iLCJmZWNoYU5hY2ltaWVudG8iLCJDb2ZyYWRlRGV0YWxsZSIsIm1vZGlmeUNvZnJhZGUiLCJldmVudCIsIkNvZnJhZGVzIiwibmV4dFBhZ2UiLCJuZXh0IiwiY29mcmFkZXMiLCJDb2ZyYWRlTW9kaWZpY2FyIiwic2Nyb2xseSIsInJlc3RyaWN0IiwibGluayIsIiRyb290U2NvcGUiLCJlbGVtZW50IiwiYXR0cnMiLCJyYXciLCJiaW5kIiwic2Nyb2xsVG9wIiwib2Zmc2V0SGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0IiwiJGVtaXQiLCJkaXJlY3RpdmUiLCJwYXJzZUliYW4iLCJmb3JtYXR0ZWRJYmFuIiwiaSIsInBhcnNlQ0MiLCJmb3JtYXR0ZWRDQyIsInN1YnN0ciIsInZhbG9yQ2lmcmFzIiwiY2lmcmFzIiwiTEVUUkFTIiwiaXRlbXMiLCJwb3NpY2lvbiIsImpvaW4iLCJtb2R1bG8iLCJkaXZpc29yIiwiQ1VFTlRBIiwibGFyZ28iLCJyZXN0byIsImRpdmlkZW5kbyIsImNlcm9zSXpxdWllcmRhIiwiY2NjIiwicGFpcyIsInN0cmluZ1RvRGF0ZSIsImRhdGVUb1N0cmluZyIsInJlbW92ZU51bGxzIiwib2JqIiwiaXNBcnJheSIsIkFycmF5IiwiayIsInNwbGljZSIsIiRyZXNvdXJjZSIsIiRodHRwIiwibWV0aG9kIiwidHJhbnNmb3JtUmVzcG9uc2UiLCJoZWFkZXJzR2V0dGVyIiwiZnJvbUpzb24iLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwidG9Kc29uIiwiY29mcmFkZXNCYWphc1Jlc3QiLCJmYWN0b3J5IiwicGFyYW1zIiwia2V5IiwiTGlzdGFDb2ZyYWRlcyIsIiRzY29wZSIsImdldE5leHRQYWdlIiwicGFyYW1ldGVycyIsInBhZ2UiLCJidXNjYXIiLCJmaWx0cm8iLCJjb25jYXQiLCJidXNxdWVkYSIsInJhZGlvQ2hhbmdlIiwidHlwZUlucHV0IiwiZ29Ub0NvZnJhZGUiLCJoYW5kbGVyIiwiJG9uIiwibGlzdGFDb2ZyYWRlcyIsInRlbXBsYXRlVXJsIiwic2NvcGUiLCJiaW5kVG9Db250cm9sbGVyIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLFlBRUFBLFNBQUFDLE9BQUEsT0FDQSxZQUNBLGFBQ0EsYUFDQSxvQkFDQSxrQkNSQSxXQUNBLFlBTUEsU0FBQUMsR0FBQUMsR0FDQUEsRUFBQUMsV0FDQUMsVUFBQSxtQ0FOQUwsUUFDQUMsT0FBQSxPQUNBSyxPQUFB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QWdFLElBQUEsYUFBQVgsRUFFQUQsR0FBQVksSUFBQSxXQUFBLFdBQ0FELElBQ0FBLEVBQUEsT0FwQkE3TixRQUNBQyxPQUFBLE9BQ0ErQixXQUFBLGdCQUFBaUwsR2pCOHdCRUEsRUFBYzFNLFNBQVcsYUFBYyxTQUFVLFNBQVUsc0JrQm54QjdELFdBQ0EsWUFPQSxTQUFBd04sS0FDQSxPQUNBbkUsU0FBQSxJQUNBb0UsWUFBQSwwREFDQUMsT0FDQXhFLFNBQUEsWUFDQUYsU0FBQSxTQUVBdkgsV0FBQSxnQkFDQUMsYUFBQSxLQUNBaU0sa0JBQUEsR0FmQWxPLFFBQ0FDLE9BQUEsT0FDQXNLLFVBQUEsZ0JBQUF3RCIsImZpbGUiOiJhbGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFtcclxuICAgICd1aS5yb3V0ZXInLFxyXG4gICAgJ25nUmVzb3VyY2UnLFxyXG4gICAgJ25nTWF0ZXJpYWwnLFxyXG4gICAgJ3VpR21hcGdvb2dsZS1tYXBzJyxcclxuICAgICduZ01lc3NhZ2VzJ1xyXG4gIF0pO1xyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhnb29nbGVNYXBBUEkpO1xyXG5cclxuICBmdW5jdGlvbiBnb29nbGVNYXBBUEkodWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIpe1xyXG4gICAgdWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIuY29uZmlndXJlKHtcclxuICAgICAgICBsaWJyYXJpZXM6ICd3ZWF0aGVyLGdlb21ldHJ5LHZpc3VhbGl6YXRpb24nXHJcbiAgICB9KTsgICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLG51bGwsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGRhdGVQaWNrZXJDb25maWcpO1xyXG5cclxuICBmdW5jdGlvbiBkYXRlUGlja2VyQ29uZmlnKCRtZERhdGVMb2NhbGVQcm92aWRlcikge1xyXG5cclxuICAgICRtZERhdGVMb2NhbGVQcm92aWRlci5tb250aHMgPSBbJ2VuZXJvJywgJ2ZlYnJlcm8nLCAnbWFyem8nLCAnYWJyaWwnLCAnbWF5bycsICdqdW5pbycsICdqdWxpbycsICdhZ29zdG8nLCAnc2VwdGllbWJyZScsICdvY3R1YnJlJywgJ25vdmllbWJyZScsICdkaWNpZW1icmUnXTtcclxuICAgICRtZERhdGVMb2NhbGVQcm92aWRlci5zaG9ydE1vbnRocyA9IFsnZW5lJywgJ2ZlYicsICdtYXInLCAnYWJyJywgJ21heScsICdqdW4nLCAnanVsJywgJ2FnbycsICdzZXAnLCAnb2N0JywgJ25vdicsICdkaWMnXTtcclxuICAgICRtZERhdGVMb2NhbGVQcm92aWRlci5kYXlzID0gWydsdW5lcycsICdtYXJ0ZXMnLCAnbWnDqXJjb2xlcycsICdqdWV2ZXMnLCAndmllcm5lcycsICdzw6FiYWRvJywgJ2RvbWluZ28nXTtcclxuICAgICRtZERhdGVMb2NhbGVQcm92aWRlci5zaG9ydERheXMgPSBbJ2x1bicsICdtYXInLCAnbWnDqScsICdqdWUnLCAndmllJywgJ3PDoWInLCAnZG9tJ107XHJcblxyXG4gICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLmZpcnN0RGF5T2ZXZWVrID0gMTtcclxuICAgIFxyXG4gICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLnBhcnNlRGF0ZSA9IGZ1bmN0aW9uKGRhdGVTdHJpbmcpIHtcclxuICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGVTdHJpbmcpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLmZvcm1hdERhdGUgPSBmdW5jdGlvbihkYXRlKSB7XHJcbiAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoKTtcclxuICAgIH07XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGNvbmZpZyk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XHJcblxyXG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZShcIi9cIik7XHJcblxyXG4gICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgLnN0YXRlKFwiaG9tZVwiLCB7XHJcbiAgICAgICAgdXJsOiBcIi9cIixcclxuICAgICAgICB0ZW1wbGF0ZTogJzxwIGNsYXNzPVwibGVhZFwiPldlbGNvbWUgdG8gdGhlIFVJLVJvdXRlciBEZW1vPC9wPicgK1xyXG4gICAgICAgICAgJzxwPlVzZSB0aGUgbWVudSBhYm92ZSB0byBuYXZpZ2F0ZS4gJyArXHJcbiAgICAgICAgICAnUGF5IGF0dGVudGlvbiB0byB0aGUgPGNvZGU+JHN0YXRlPC9jb2RlPiBhbmQgPGNvZGU+JHN0YXRlUGFyYW1zPC9jb2RlPiB2YWx1ZXMgYmVsb3cuPC9wPicgK1xyXG4gICAgICAgICAgJzxwPkNsaWNrIHRoZXNlIGxpbmtz4oCUPGEgaHJlZj1cIiMvYz9pZD0xXCI+QWxpY2U8L2E+IG9yICcgK1xyXG4gICAgICAgICAgJzxhIGhyZWY9XCIjL3VzZXIvNDJcIj5Cb2I8L2E+4oCUdG8gc2VlIGEgdXJsIHJlZGlyZWN0IGluIGFjdGlvbi48L3A+J1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKHRoZW1lQW5ndWxhck1hdGVyaWFsKTtcclxuXHJcbiAgZnVuY3Rpb24gdGhlbWVBbmd1bGFyTWF0ZXJpYWwoJG1kVGhlbWluZ1Byb3ZpZGVyKXtcclxuICAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoY29uZmlnKTtcclxuXHJcbiAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAuc3RhdGUoJ2NvZnJhZGVzJywge1xyXG4gICAgICAgIHVybDogXCIvY29mcmFkZXNcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2NvZnJhZGVzL2xpc3QvY29mcmFkZXMuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb2ZyYWRlcycsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgY29mcmFkZXNQcmVwU2VydmljZTogY29mcmFkZXNQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLnN0YXRlKCdjb2ZyYWRlc0RldGFsbGUnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9jb2ZyYWRlcy86Y29mcmFkZUlkXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdjb2ZyYWRlcy9kZXRhaWwvY29mcmFkZURldGFsbGUuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb2ZyYWRlRGV0YWxsZScsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZ2V0Q29mcmFkZVByZXBTZXJ2aWNlOiBnZXRDb2ZyYWRlUHJlcFNlcnZpY2UsXHJcbiAgICAgICAgICAgIGdldE1hcHNQcmVwU2VydmljZTogZ2V0TWFwc1ByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KS5cclxuICAgICAgc3RhdGUoJ2NvZnJhZGVzQ2FtYmlvcycsIHtcclxuICAgICAgICB1cmw6IFwiL2NvZnJhZGVzL251ZXZvcy86Y29mcmFkZUlkXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdjb2ZyYWRlcy9hZGQvY29mcmFkZU51ZXZvLmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnQ29mcmFkZU51ZXZvJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBnZXRDb2ZyYWRlUHJlcFNlcnZpY2U6IGdldENvZnJhZGVQcmVwU2VydmljZSxcclxuICAgICAgICAgICAgZ2V0Q2FsbGVzUHJlcFNlcnZpY2U6IGdldENhbGxlc1ByZXBTZXJ2aWNlLFxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjb2ZyYWRlc1ByZXBTZXJ2aWNlKGNvZnJhZGVzU2VydmljZSkge1xyXG4gICAgcmV0dXJuIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5xdWVyeSgpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0Q29mcmFkZVByZXBTZXJ2aWNlKGNvZnJhZGVzU2VydmljZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICByZXR1cm4gKCRzdGF0ZVBhcmFtcy5jb2ZyYWRlSWQpID8gY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzUmVzdCgpLmdldCh7aWQ6ICRzdGF0ZVBhcmFtcy5jb2ZyYWRlSWR9KSA6IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0Q2FsbGVzUHJlcFNlcnZpY2UoY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gY29mcmFkZXNTZXJ2aWNlLmdldENhbGxlcygpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZS5kYXRhO30pO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBnZXRNYXBzUHJlcFNlcnZpY2UodWlHbWFwR29vZ2xlTWFwQXBpLCBnZXRDb2ZyYWRlUHJlcFNlcnZpY2UsIG1hcGFzU2VydmljZSkge1xyXG4gICAgcmV0dXJuIGdldENvZnJhZGVQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBcclxuICAgICAgdmFyIGFkZHJlc3MgPSBkYXRhLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY2FsbGUgICAgICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ubnVtZXJvICAgICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ubXVuaWNpcGlvICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ucHJvdmluY2lhICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY3A7XHJcblxyXG4gICAgICByZXR1cm4gbWFwYXNTZXJ2aWNlLmdlb0NvZGluZ0FQSShhZGRyZXNzKS5cclxuICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJlc3VsdHMubGVuZ3RoKXtcclxuICAgICAgICAgICAgdmFyIGNvb3JkaW5hdGVzID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uO1xyXG4gICAgICAgICAgICByZXR1cm4gdWlHbWFwR29vZ2xlTWFwQXBpLnRoZW4oZnVuY3Rpb24obWFwcykge1xyXG4gICAgICAgICAgICAgIHJldHVybiAge2Nvb3JkOiAgeyBsYXRpdHVkZTogY29vcmRpbmF0ZXMubGF0LCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGU6IGNvb3JkaW5hdGVzLmxuZyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcjogeyBsYXRpdHVkZTogY29vcmRpbmF0ZXMubGF0LCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGU6IGNvb3JkaW5hdGVzLmxuZyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgem9vbTogMTcgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdBcHBDdHJsJywgQXBwQ3RybCk7XHJcblxyXG5cclxuICBmdW5jdGlvbiBBcHBDdHJsKCRtZFNpZGVuYXYsICRzdGF0ZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIHZtLnRvZ2dsZVNpZGVuYXYgPSB0b2dnbGVTaWRlbmF2O1xyXG4gICAgdm0ubmF2aWdhdGVUbyAgICA9IG5hdmlnYXRlVG87XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHRvZ2dsZVNpZGVuYXYobWVudUlkKSB7XHJcbiAgICAgICRtZFNpZGVuYXYobWVudUlkKS50b2dnbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBuYXZpZ2F0ZVRvKHRvLCBtZW51SWQpe1xyXG4gICAgICB0b2dnbGVTaWRlbmF2KG1lbnVJZCk7XHJcbiAgICAgICRzdGF0ZS5nbyh0byk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQ29mcmFkZU51ZXZvJywgQ29mcmFkZU51ZXZvKTtcclxuXHJcbiAgZnVuY3Rpb24gQ29mcmFkZU51ZXZvKCRmaWx0ZXIsICRkb2N1bWVudCwgJG1kVG9hc3QsICRzdGF0ZSwgZ2V0Q29mcmFkZVByZXBTZXJ2aWNlLCBnZXRDYWxsZXNQcmVwU2VydmljZSwgY29mcmFkZXNTZXJ2aWNlLCBzZWN0b3Jlc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLm51ZXZhQ2FsbGUgPSB0cnVlO1xyXG4gICAgdm0uY29mcmFkZSA9IHtkYXRvc0ZpbmFuY2llcm9zOiB7Y3VlbnRhOiB7fSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXVkYTogW119LFxyXG4gICAgICAgICAgICAgICAgICBkYXRvc1BlcnNvbmFsZXM6ICB7ZGlyZWNjaW9uOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNleG86IFwiSG9tYnJlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWNoYUluc2NyaXBjaW9uOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVjaGFOYWNpbWllbnRvOiBuZXcgRGF0ZSgpfVxyXG4gICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgdm0uYmFja1N0YXRlICAgICAgICAgID0gYmFja1N0YXRlO1xyXG4gICAgdm0ucXVlcnlTZWFyY2ggICAgICAgID0gcXVlcnlTZWFyY2g7XHJcbiAgICB2bS5zZWxlY3RlZEl0ZW1DaGFuZ2UgPSBzZWxlY3RlZEl0ZW1DaGFuZ2U7XHJcbiAgICB2bS5jYWxjdWxhckNDICAgICAgICAgPSBjYWxjdWxhckNDO1xyXG4gICAgdm0uY2FsY3VsYXJJYmFuICAgICAgID0gY2FsY3VsYXJJYmFuO1xyXG4gICAgdm0uZ3VhcmRhciAgICAgICAgICAgID0gZ3VhcmRhcjtcclxuXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICBpZiAoZ2V0Q29mcmFkZVByZXBTZXJ2aWNlKXtcclxuICAgICAgICBnZXRDb2ZyYWRlUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmNvZnJhZGUgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uY2FsbGVTZWxlY3RlZCA9IHtjYWxsZTogdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLmNhbGxlLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3A6IHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jcCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpbmNpYTogdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLnByb3ZpbmNpYSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bmljaXBpbzogdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLm11bmljaXBpb307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hTZWN0b3Iodm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLmNhbGxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcyA9IHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcyB8fCB7Y3VlbnRhOiB7fSwgZGV1ZGE6IFtdfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEgPSB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmRldWRhID0gdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmRldWRhIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICBjb2ZyYWRlc1NlcnZpY2UuZ2V0UmVnaXN0cm9zKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5jb2ZyYWRlLm51bWVyb09yZGVuID0gcmVzcG9uc2UuZGF0YS5udW1lcm9PcmRlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmNvZnJhZGUubnVtZXJvQ29mcmFkZSA9IHJlc3BvbnNlLmRhdGEubnVtZXJvQ29mcmFkZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgIH1cclxuICAgICAgdm0uY2FsbGVzID0gZ2V0Q2FsbGVzUHJlcFNlcnZpY2U7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGJhY2tTdGF0ZSgpIHtcclxuICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHF1ZXJ5U2VhcmNoKHF1ZXJ5KSB7XHJcbiAgICAgIHZhciByZXN1bHRzID0gcXVlcnkgPyB2bS5jYWxsZXMuZmlsdGVyKCBjcmVhdGVGaWx0ZXJGb3IocXVlcnkpICkgOiB2bS5jYWxsZXM7XHJcbiAgICAgIHJldHVybiByZXN1bHRzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpbHRlckZvcihxdWVyeSkge1xyXG4gICAgICB2YXIgbG93ZXJjYXNlUXVlcnkgPSBhbmd1bGFyLmxvd2VyY2FzZShxdWVyeSk7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiBmaWx0ZXJGbihpdGVtKSB7XHJcbiAgICAgICAgcmV0dXJuIChhbmd1bGFyLmxvd2VyY2FzZShpdGVtLmNhbGxlKS5pbmRleE9mKGxvd2VyY2FzZVF1ZXJ5KSA9PT0gMCk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0ZWRJdGVtQ2hhbmdlKGl0ZW0pIHtcclxuICAgICAgaWYgKGl0ZW0pe1xyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jYWxsZSA9IGl0ZW0uY2FsbGU7XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLm11bmljaXBpbyA9IGl0ZW0ubXVuaWNpcGlvO1xyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jcCA9IGl0ZW0uY3A7XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLnByb3ZpbmNpYSA9IGl0ZW0ucHJvdmluY2lhO1xyXG4gICAgICAgIHNlYXJjaFNlY3RvcihpdGVtLmNhbGxlKTtcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLmNhbGxlID0gbnVsbDtcclxuICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ubXVuaWNpcGlvID0gbnVsbDtcclxuICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY3AgPSBudWxsO1xyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5wcm92aW5jaWEgPSBudWxsO1xyXG4gICAgICAgIHZtLnNlY3RvciA9IG51bGw7XHJcbiAgICAgICAgdm0ubnVldmFDYWxsZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2VhcmNoU2VjdG9yKGNhbGxlKSB7XHJcbiAgICAgIHNlY3RvcmVzU2VydmljZS5zZWN0b3Jlc1Jlc3QoKS5xdWVyeSh7Y2FsbGU6IGNhbGxlfSwgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0uc2VjdG9yID0gZGF0YVswXS5udW1lcm9TZWN0b3I7XHJcbiAgICAgICAgdm0ubnVldmFDYWxsZSA9IGZhbHNlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjYWxjdWxhckNDKCkge1xyXG4gICAgICBpZiAodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5pYmFuKVxyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuY2MgPSAkZmlsdGVyKCdjYWxjdWxhckNDJykodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5pYmFuKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjYWxjdWxhckliYW4oKSB7XHJcbiAgICAgIGlmICh2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhLmNjKVxyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuaWJhbiA9ICRmaWx0ZXIoJ2NhbGN1bGFySWJhbicpKHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuY2MpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXIoaXNWYWxpZCkge1xyXG4gICAgICBpZihpc1ZhbGlkKXtcclxuICAgICAgICB2YXIgZGF0b3NGaW5hbmNpZXJvcyA9IHtjdWVudGE6IHt9LCBkZXVkYTogW119O1xyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jYWxsZSA9IHZtLnNlYXJjaFRleHQ7XHJcblxyXG4gICAgICAgIGlmIChKU09OLnN0cmluZ2lmeSh2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MpID09PSBKU09OLnN0cmluZ2lmeShkYXRvc0ZpbmFuY2llcm9zKSlcclxuICAgICAgICAgIGRlbGV0ZSB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3M7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIENvZnJhZGVSZXNvdXJjZSA9IGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKTtcclxuICAgICAgICBpZih2bS5udWV2YUNhbGxlKVxyXG4gICAgICAgICAgZ3VhcmRhckNhbGxlKCk7XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgIENvZnJhZGVSZXNvdXJjZS5zYXZlKHZtLmNvZnJhZGUsIGd1YXJkYXJTdWNjZXNzLCBndWFyZGFyRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlXHJcbiAgICAgICAgc2hvd0FjdGlvblRvYXN0KCk7XHJcbiAgICAgIFxyXG4gICAgICBmdW5jdGlvbiBndWFyZGFyQ2FsbGUoKSB7XHJcbiAgICAgICAgc2VjdG9yZXNTZXJ2aWNlLnNlY3RvcmVzUmVzdCgpLmdldCh7c2VjdG9yOiB2bS5zZWN0b3J9LCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIHZhciBzZWN0b3JSZXNvdXJjZSA9ICBkYXRhWzBdO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZihzZWN0b3JSZXNvdXJjZSl7XHJcbiAgICAgICAgICAgIHNlY3RvclJlc291cmNlLmNhbGxlcy5wdXNoKHZtLnNlYXJjaFRleHQpO1xyXG4gICAgICAgICAgICBzZWN0b3JSZXNvdXJjZS4kc2F2ZSgpO1xyXG4gICAgICAgICAgICBDb2ZyYWRlUmVzb3VyY2Uuc2F2ZSh2bS5jb2ZyYWRlLCBndWFyZGFyU3VjY2VzcywgZ3VhcmRhckVycm9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgICAgICAgIC5jb250ZW50KCdFbCBzZWN0b3IgJyArdm0uc2VjdG9yKyAnIG5vIGV4aXN0ZSEhJylcclxuICAgICAgICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhclN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0d1YXJkYWRvIGNvbiDDqXhpdG8hIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICk7XHJcbiAgICAgICRzdGF0ZS5nbygnY29mcmFkZXMnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyRXJyb3IocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0Vycm9yIGFsIGd1YXJkYXIhIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2hvd0FjdGlvblRvYXN0KCkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXhpc3RlbiBlcnJvcmVzIGVuIGVsIGZvcm11bGFyaW8nKVxyXG4gICAgICAgICAgLmFjdGlvbignT0snKVxyXG4gICAgICAgICAgLmhpZ2hsaWdodEFjdGlvbihmYWxzZSlcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdDb2ZyYWRlRGV0YWxsZScsIENvZnJhZGVEZXRhbGxlKTtcclxuXHJcbiAgZnVuY3Rpb24gQ29mcmFkZURldGFsbGUoJHN0YXRlLCAkZmlsdGVyLCBnZXRDb2ZyYWRlUHJlcFNlcnZpY2UsIGdldE1hcHNQcmVwU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5jb2ZyYWRlID0gbnVsbDtcclxuICAgIHZtLm1hcHMgPSBudWxsO1xyXG4gICAgXHJcbiAgICB2bS5tb2RpZnlDb2ZyYWRlID0gbW9kaWZ5Q29mcmFkZTtcclxuICAgIFxyXG4gICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgcmV0dXJuIGdldENvZnJhZGVQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLmNvZnJhZGUgPSAkZmlsdGVyKCdkYXRlVG9TdHJpbmcnKShkYXRhKTtcclxuICAgICAgICBpZih2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MpXHJcbiAgICAgICAgICBpZih2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhKXtcclxuICAgICAgICAgICAgdm0uaWJhbiA9ICRmaWx0ZXIoJ3BhcnNlSWJhbicpKHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuaWJhbik7XHJcbiAgICAgICAgICAgIHZtLmNjID0gJGZpbHRlcigncGFyc2VDQycpKHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuY2MpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIHZtLm1hcHMgPSBnZXRNYXBzUHJlcFNlcnZpY2U7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUNvZnJhZGUoaWQsIGV2ZW50KXtcclxuICAgICAgJHN0YXRlLmdvKCdjb2ZyYWRlc0NhbWJpb3MnLCB7Y29mcmFkZUlkOiBpZH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0NvZnJhZGVzJywgQ29mcmFkZXMpO1xyXG5cclxuICBmdW5jdGlvbiBDb2ZyYWRlcyhjb2ZyYWRlc1ByZXBTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5jb2ZyYWRlcyA9IG51bGw7XHJcbiAgICB2bS5uZXh0UGFnZSA9IG51bGw7XHJcblxyXG4gICAgYWN0aXZhdGUoKTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIHJldHVybiBjb2ZyYWRlc1ByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0ubmV4dFBhZ2UgPSBkYXRhLm5leHQ7XHJcbiAgICAgICAgdm0uY29mcmFkZXMgPSBkYXRhLnJlc3VsdHM7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdDb2ZyYWRlTW9kaWZpY2FyJywgQ29mcmFkZU1vZGlmaWNhcik7XHJcblxyXG4gIGZ1bmN0aW9uIENvZnJhZGVNb2RpZmljYXIoZ2V0Q29mcmFkZVByZXBTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLmNvZnJhZGUgPSBudWxsO1xyXG4gICAgdm0uY29mcmFkZSA9IHtkYXRvc0ZpbmFuY2llcm9zOiB7ZGV1ZGE6IFtdfX07XHJcblxyXG4gICAgdm0uYmFja1N0YXRlID0gYmFja1N0YXRlO1xyXG4gICAgXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICByZXR1cm4gZ2V0Q29mcmFkZVByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0uY29mcmFkZSA9IGRhdGE7XHJcbiAgICAgICAgaWYgKCF2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MpXHJcbiAgICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MgPSB7ZGV1ZGE6IFtdfTtcclxuXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGJhY2tTdGF0ZSgpe1xyXG4gICAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnc2Nyb2xseScsIHNjcm9sbHkpO1xyXG5cclxuICBmdW5jdGlvbiBzY3JvbGx5KCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgbGluazogZnVuY3Rpb24gKCRyb290U2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgdmFyIHJhdyA9IGVsZW1lbnRbMF07XHJcbiAgICAgICAgZWxlbWVudC5iaW5kKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBpZiAocmF3LnNjcm9sbFRvcCArIHJhdy5vZmZzZXRIZWlnaHQgPj0gcmF3LnNjcm9sbEhlaWdodC01KSB7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoXCJzY3JvbGxEb3duXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmlsdGVyKCdwYXJzZUliYW4nLCBwYXJzZUliYW4pXHJcbiAgICAuZmlsdGVyKCdwYXJzZUNDJywgcGFyc2VDQylcclxuICAgIC5maWx0ZXIoJ2NhbGN1bGFySWJhbicsIGNhbGN1bGFySWJhbilcclxuICAgIC5maWx0ZXIoJ2NhbGN1bGFyQ0MnLCBjYWxjdWxhckNDKTtcclxuXHJcbiAgZnVuY3Rpb24gcGFyc2VJYmFuKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpYmFuKSB7XHJcbiAgICAgIGliYW4gPSBpYmFuIHx8ICcnO1xyXG4gICAgICB2YXIgZm9ybWF0dGVkSWJhbiA9ICcnO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpYmFuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGkgPiAwICYmIGkgJSA0ID09PSAwKSB7XHJcbiAgICAgICAgICBmb3JtYXR0ZWRJYmFuICs9ICcgJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9ybWF0dGVkSWJhbiArPSBpYmFuW2ldO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmb3JtYXR0ZWRJYmFuO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHBhcnNlQ0MoKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNjKSB7XHJcbiAgICAgIGNjID0gY2MgfHwgJyc7XHJcbiAgICAgIHZhciBmb3JtYXR0ZWRDQyA9ICcnO1xyXG5cclxuICAgICAgZm9ybWF0dGVkQ0MgPSBjYy5zdWJzdHIoMCwgNCkgKyAnLSc7XHJcbiAgICAgIGZvcm1hdHRlZENDICs9IGNjLnN1YnN0cig0LCA0KSArICctJztcclxuICAgICAgZm9ybWF0dGVkQ0MgKz0gY2Muc3Vic3RyKDgsIDIpICsgJy0nO1xyXG4gICAgICBmb3JtYXR0ZWRDQyArPSBjYy5zdWJzdHIoMTAsIDEwKTtcclxuXHJcbiAgICAgIHJldHVybiBmb3JtYXR0ZWRDQztcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjYWxjdWxhckNDKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpYmFuKSB7XHJcbiAgICAgIGliYW4gPSBpYmFuIHx8ICcnO1xyXG4gICAgICByZXR1cm4gaWJhbi5zdWJzdHIoNCwgMjApO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNhbGN1bGFySWJhbigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoY2NjKSB7XHJcbiAgICAgIHZhciBwYWlzID0gXCJFU1wiO1xyXG4gICAgICB2YXIgY2lmcmFzID0gY2NjICsgdmFsb3JDaWZyYXMocGFpcykgKyBcIjAwXCI7XHJcbiAgICAgIHZhciByZXN0byA9IG1vZHVsbyhjaWZyYXMsIDk3KTtcclxuICAgICAgcmV0dXJuIHBhaXMgKyBjZXJvc0l6cXVpZXJkYSg5OC1yZXN0bywgMikgKyBjY2M7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHZhbG9yQ2lmcmFzKGNpZnJhcykge1xyXG4gICAgICB2YXIgTEVUUkFTID0gXCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIjtcclxuICAgICAgdmFyIGl0ZW1zID0gW107XHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxjaWZyYXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgcG9zaWNpb24gPSBMRVRSQVMuaW5kZXhPZihjaWZyYXNbaV0pO1xyXG4gICAgICAgIGl0ZW1zLnB1c2gocG9zaWNpb24gPCAwPyBcIi1cIjogcG9zaWNpb24pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBpdGVtcy5qb2luKFwiXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZHVsbyhjaWZyYXMsIGRpdmlzb3IpIHtcclxuICAgICAgdmFyIENVRU5UQSA9IDEwO1xyXG4gICAgICB2YXIgbGFyZ28gPSBjaWZyYXMubGVuZ3RoO1xyXG4gICAgICB2YXIgcmVzdG8gPSAwO1xyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8bGFyZ287IGkrPUNVRU5UQSkge1xyXG4gICAgICAgIHZhciBkaXZpZGVuZG8gPSByZXN0byArIFwiXCIgKyBjaWZyYXMuc3Vic3RyKGksIENVRU5UQSk7XHJcbiAgICAgICAgcmVzdG8gPSBkaXZpZGVuZG8gJSBkaXZpc29yO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXN0bztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjZXJvc0l6cXVpZXJkYShjaWZyYXMsIGxhcmdvKSB7XHJcbiAgICAgIGNpZnJhcyArPSAnJztcclxuICAgICAgd2hpbGUoY2lmcmFzLmxlbmd0aCA8IGxhcmdvKSB7IGNpZnJhcyA9ICcwJytjaWZyYXM7IH1cclxuICAgICAgcmV0dXJuIGNpZnJhcztcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmlsdGVyKCdzdHJpbmdUb0RhdGUnLCBzdHJpbmdUb0RhdGUpXHJcbiAgICAuZmlsdGVyKCdkYXRlVG9TdHJpbmcnLCBkYXRlVG9TdHJpbmcpO1xyXG5cclxuICBmdW5jdGlvbiBzdHJpbmdUb0RhdGUoKXtcclxuICAgIHJldHVybiBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFOYWNpbWllbnRvID0gbmV3IERhdGUoZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFOYWNpbWllbnRvKTtcclxuICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFJbnNjcmlwY2lvbiA9IG5ldyBEYXRlKGRhdGEuZGF0b3NQZXJzb25hbGVzLmZlY2hhSW5zY3JpcGNpb24pO1xyXG4gICAgICByZXR1cm4gZGF0YTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBkYXRlVG9TdHJpbmcoKXtcclxuICAgIHJldHVybiBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFOYWNpbWllbnRvID0gZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFOYWNpbWllbnRvLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gICAgICBkYXRhLmRhdG9zUGVyc29uYWxlcy5mZWNoYUluc2NyaXBjaW9uID0gZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFJbnNjcmlwY2lvbi50b0xvY2FsZURhdGVTdHJpbmcoKTtcclxuICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmlsdGVyKCdyZW1vdmVOdWxscycsIHJlbW92ZU51bGxzKTtcclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlTnVsbHMoKXtcclxuICAgIHJldHVybiBmdW5jdGlvbihvYmope1xyXG4gICAgICB2YXIgaXNBcnJheSA9IG9iaiBpbnN0YW5jZW9mIEFycmF5O1xyXG4gICAgICBmb3IgKHZhciBrIGluIG9iail7XHJcbiAgICAgICAgaWYgKG9ialtrXT09PW51bGwpIGlzQXJyYXkgPyBvYmouc3BsaWNlKGssMSkgOiBkZWxldGUgb2JqW2tdO1xyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmpba109PVwib2JqZWN0XCIpIHJlbW92ZU51bGxzKG9ialtrXSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG9iajtcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdjb2ZyYWRlc1NlcnZpY2UnLCBjb2ZyYWRlc1NlcnZpY2UpO1xyXG5cclxuICBmdW5jdGlvbiBjb2ZyYWRlc1NlcnZpY2UoJHJlc291cmNlLCAkaHR0cCwgJGZpbHRlcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY29mcmFkZXNSZXN0OiBjb2ZyYWRlc1Jlc3QsXHJcbiAgICAgIGNvZnJhZGVzQmFqYXNSZXN0OiBjb2ZyYWRlc0JhamFzUmVzdCxcclxuICAgICAgZ2V0Q2FsbGVzOiBnZXRDYWxsZXMsXHJcbiAgICAgIGdldFJlZ2lzdHJvczogZ2V0UmVnaXN0cm9zXHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvZnJhZGVzUmVzdCgpIHtcclxuICAgICAgcmV0dXJuICRyZXNvdXJjZSgnaHR0cDovLzEyNy4wLjAuMTo1MDUwL2FwaS9jb2ZyYWRlcy86aWQuanNvbjpqc29uJywgbnVsbCwge1xyXG4gICAgICAgICdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OiBmYWxzZX0sXHJcbiAgICAgICAgJ2dldCc6ICAgIHttZXRob2Q6J0dFVCcsIHRyYW5zZm9ybVJlc3BvbnNlOiBmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkZmlsdGVyKCdzdHJpbmdUb0RhdGUnKShhbmd1bGFyLmZyb21Kc29uKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAnc2F2ZSc6ICAge21ldGhvZDonUE9TVCcsIHRyYW5zZm9ybVJlcXVlc3Q6IGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIudG9Kc29uKCRmaWx0ZXIoJ3JlbW92ZU51bGxzJykoZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb2ZyYWRlc0JhamFzUmVzdCgpIHtcclxuICAgICAgcmV0dXJuICRyZXNvdXJjZSgnaHR0cDovLzEyNy4wLjAuMTo1MDUwL2FwaS9jb2ZyYWRlc0JhamFzLzppZC5qc29uOmpzb24nLCBudWxsLCB7J3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6ZmFsc2V9fSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Q2FsbGVzKCkge1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KCdodHRwOi8vMTI3LjAuMC4xOjUwNTAvYXBpL2NhbGxlcy8nKS5cclxuICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLmZyb21Kc29uKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRSZWdpc3Ryb3MoKSB7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6NTA1MC9hcGkvcmVnaXN0cm9zLycpLlxyXG4gICAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZnJvbUpzb24ocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ21hcGFzU2VydmljZScsIG1hcGFzU2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIG1hcGFzU2VydmljZSgkaHR0cCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZ2VvQ29kaW5nQVBJOiBnZW9Db2RpbmdBUElcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gZ2VvQ29kaW5nQVBJKGFkZHJlc3MpIHtcclxuICAgICAgcmV0dXJuICRodHRwLmdldCgnaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2dlb2NvZGUvanNvbicsIHtwYXJhbXM6IHthZGRyZXNzOiBhZGRyZXNzLCBrZXk6IFwiQUl6YVN5RENfT0lEU2w2Y3VyakNNQ0x5em4yeWhNbWctZXI1a25JXCJ9fSkuXHJcbiAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgfSk7XHJcbiAgICB9ICAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdzZWN0b3Jlc1NlcnZpY2UnLCBzZWN0b3Jlc1NlcnZpY2UpO1xyXG5cclxuICBmdW5jdGlvbiBzZWN0b3Jlc1NlcnZpY2UoJHJlc291cmNlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzZWN0b3Jlc1Jlc3Q6IHNlY3RvcmVzUmVzdFxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZWN0b3Jlc1Jlc3QoKSB7XHJcbiAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2h0dHA6Ly8xMjcuMC4wLjE6NTA1MC9hcGkvc2VjdG9yZXMvOmlkLmpzb246anNvbicsIG51bGwsIHtcclxuICAgICAgICAnZ2V0JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6IHRydWV9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0xpc3RhQ29mcmFkZXMnLCBMaXN0YUNvZnJhZGVzKTtcclxuXHJcbiAgZnVuY3Rpb24gTGlzdGFDb2ZyYWRlcygkcm9vdFNjb3BlLCAkc2NvcGUsICRzdGF0ZSwgY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5maWx0cm8gICAgPSAnbm9tYnJlJztcclxuICAgIHZtLnR5cGVJbnB1dCA9ICd0ZXh0JztcclxuICAgIHZtLmJ1c2NhciAgICA9IG51bGw7XHJcblxyXG4gICAgdm0uYnVzcXVlZGEgICAgICA9IGJ1c3F1ZWRhO1xyXG4gICAgdm0ucmFkaW9DaGFuZ2UgICA9IHJhZGlvQ2hhbmdlO1xyXG4gICAgdm0uZ29Ub0NvZnJhZGUgICA9IGdvVG9Db2ZyYWRlO1xyXG4gICAgdm0ubW9kaWZ5Q29mcmFkZSA9IG1vZGlmeUNvZnJhZGU7XHJcblxyXG4gICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignc2Nyb2xsRG93bicsIGdldE5leHRQYWdlKTtcclxuXHJcbiAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBoYW5kbGVyKCk7XHJcbiAgICAgIGhhbmRsZXIgPSBudWxsO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TmV4dFBhZ2UoKSB7XHJcbiAgICAgIGlmICh2bS5uZXh0UGFnZSl7XHJcbiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSB7cGFnZTogdm0ubmV4dFBhZ2V9O1xyXG5cclxuICAgICAgICBpZiAodm0uYnVzY2FyKVxyXG4gICAgICAgICAgcGFyYW1ldGVyc1t2bS5maWx0cm9dID0gdm0uYnVzY2FyO1xyXG5cclxuICAgICAgICBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkucXVlcnkocGFyYW1ldGVycywgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICB2bS5uZXh0UGFnZSA9IGRhdGEubmV4dDtcclxuICAgICAgICAgIHZtLmNvZnJhZGVzID0gdm0uY29mcmFkZXMuY29uY2F0KGRhdGEucmVzdWx0cyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBidXNxdWVkYSgpIHtcclxuICAgICAgdmFyIGZpbHRybyA9IHt9O1xyXG4gICAgICBmaWx0cm9bdm0uZmlsdHJvXSA9IHZtLmJ1c2NhcjtcclxuICAgICAgY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzUmVzdCgpLnF1ZXJ5KGZpbHRybywgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0ubmV4dFBhZ2UgPSBkYXRhLm5leHQ7XHJcbiAgICAgICAgdm0uY29mcmFkZXMgPSBkYXRhLnJlc3VsdHM7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJhZGlvQ2hhbmdlKCkge1xyXG4gICAgICB2bS5idXNjYXIgPSBudWxsO1xyXG4gICAgICB2bS50eXBlSW5wdXQgPSAodm0uZmlsdHJvID09PSAnbm9tYnJlJykgPyAndGV4dCc6ICdudW1iZXInO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdvVG9Db2ZyYWRlKGlkLCBldmVudCl7XHJcbiAgICAgICRzdGF0ZS5nbygnY29mcmFkZXNEZXRhbGxlJywge2NvZnJhZGVJZDogaWR9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtb2RpZnlDb2ZyYWRlKGlkLCBldmVudCl7XHJcbiAgICAgICRzdGF0ZS5nbygnY29mcmFkZXNDYW1iaW9zJywge2NvZnJhZGVJZDogaWR9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnbGlzdGFDb2ZyYWRlcycsIGxpc3RhQ29mcmFkZXMpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gbGlzdGFDb2ZyYWRlcygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9jb2ZyYWRlcy5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgY29mcmFkZXM6ICc9Y29mcmFkZXMnLFxyXG4gICAgICAgIG5leHRQYWdlOiAnPXBhZ2UnXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbnRyb2xsZXI6ICdMaXN0YUNvZnJhZGVzJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
