!function(){"use strict";angular.module("app",["ui.router","ngResource","ngMaterial","uiGmapgoogle-maps","ngMessages"])}(),function(){"use strict";function e(e){e.configure({libraries:"weather,geometry,visualization"})}angular.module("app").config(e),e.$inject=["uiGmapGoogleMapApiProvider"]}(),function(){"use strict";function e(e){e.months=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],e.shortMonths=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],e.days=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"],e.shortDays=["lun","mar","mié","jue","vie","sáb","dom"],e.firstDayOfWeek=1,e.parseDate=function(e){return new Date(e)},e.formatDate=function(e){return new Date(e).toLocaleDateString()}}angular.module("app").config(e),e.$inject=["$mdDateLocaleProvider"]}(),function(){"use strict";function e(e,o){o.otherwise("/"),e.state("home",{url:"/",template:'<p class="lead">Welcome to the UI-Router Demo</p><p>Use the menu above to navigate. Pay attention to the <code>$state</code> and <code>$stateParams</code> values below.</p><p>Click these links—<a href="#/c?id=1">Alice</a> or <a href="#/user/42">Bob</a>—to see a url redirect in action.</p>'})}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){}angular.module("app").config(e),e.$inject=["$mdThemingProvider"]}(),function(){"use strict";function e(e){e.state("cofrades",{url:"/cofrades",templateProvider:["$templateCache",function(e){return e.get("cofrades/list/cofrades.html")}],controller:"Cofrades",controllerAs:"vm",resolve:{cofradesPrepService:o,cofradesBajasPrepService:r}}).state("cofradesDetalle",{url:"/cofrades/:cofradeId",templateProvider:["$templateCache",function(e){return e.get("cofrades/detail/cofradeDetalle.html")}],controller:"CofradeDetalle",controllerAs:"vm",resolve:{getCofradePrepService:t,getMapsPrepService:a}}).state("cofradesCambios",{url:"/cofrades/nuevos/:cofradeId",templateProvider:["$templateCache",function(e){return e.get("cofrades/add/cofradeNuevo.html")}],controller:"CofradeNuevo",controllerAs:"vm",resolve:{getCofradePrepService:t}})}function o(e){return e.cofradesRest().query()}function r(e){return e.cofradesBajasRest().query()}function t(e,o){return o.cofradeId?e.cofradesRest().get({id:o.cofradeId}):!1}function a(e,o,r){return o.$promise.then(function(o){var t=o.datosPersonales.direccion.calle+" "+o.datosPersonales.direccion.numero+" "+o.datosPersonales.direccion.municipio+" "+o.datosPersonales.direccion.provincia+" "+o.datosPersonales.direccion.cp;return r.geoCodingAPI(t).then(function(o){if(o.data.results.length){var r=o.data.results[0].geometry.location;return e.then(function(e){return{coord:{latitude:r.lat,longitude:r.lng},marker:{latitude:r.lat,longitude:r.lng},zoom:17}})}})})}angular.module("app").config(e),e.$inject=["$stateProvider"],o.$inject=["cofradesService"],r.$inject=["cofradesService"],t.$inject=["cofradesService","$stateParams"],a.$inject=["uiGmapGoogleMapApi","getCofradePrepService","mapasService"]}(),function(){"use strict";function e(e,o){function r(o){e(o).toggle()}function t(e,t){r(t),o.go(e)}var a=this;a.toggleSidenav=r,a.navigateTo=t}angular.module("app").controller("AppCtrl",e),e.$inject=["$mdSidenav","$state"]}(),function(){"use strict";function e(e,o,r,t,a,n,c){function i(){a?a.$promise.then(s):n.getRegistros().then(function(e){P.cofrade.numeroOrden=e.data.numeroOrden,P.cofrade.numeroCofrade=e.data.numeroCofrade})}function s(e){return P.cofrade=e,P.calleSelected={calle:P.cofrade.datosPersonales.direccion.calle,cp:P.cofrade.datosPersonales.direccion.cp,provincia:P.cofrade.datosPersonales.direccion.provincia,municipio:P.cofrade.datosPersonales.direccion.municipio},f(P.cofrade.datosPersonales.direccion.calle),P.fechaNacimiento=P.cofrade.datosPersonales.fechaNacimiento,P.fechaInscripcion=P.cofrade.datosPersonales.fechaInscripcion,P.cofrade.datosFinancieros=P.cofrade.datosFinancieros||{cuenta:{},deuda:[]},P.cofrade.datosFinancieros.cuenta=P.cofrade.datosFinancieros.cuenta||{},P.cofrade.datosFinancieros.deuda=P.cofrade.datosFinancieros.deuda||[],!0}function u(){window.history.back()}function l(e){return n.getCalles(e).then(function(e){return e.data})}function d(e){e?(P.cofrade.datosPersonales.direccion.calle=e.calle,P.cofrade.datosPersonales.direccion.municipio=e.municipio,P.cofrade.datosPersonales.direccion.cp=e.cp,P.cofrade.datosPersonales.direccion.provincia=e.provincia,f(e.calle)):(P.cofrade.datosPersonales.direccion.calle=null,P.cofrade.datosPersonales.direccion.municipio=null,P.cofrade.datosPersonales.direccion.cp=null,P.cofrade.datosPersonales.direccion.provincia=null,P.sector=null,P.nuevaCalle=!0)}function f(e){c.sectoresRest().query({calle:e},function(e){P.sector=e[0].numeroSector,P.nuevaCalle=!1})}function p(){P.cofrade.datosFinancieros.cuenta.iban&&(P.cofrade.datosFinancieros.cuenta.cc=e("calcularCC")(P.cofrade.datosFinancieros.cuenta.iban))}function m(){P.cofrade.datosFinancieros.cuenta.cc&&(P.cofrade.datosFinancieros.cuenta.iban=e("calcularIban")(P.cofrade.datosFinancieros.cuenta.cc))}function g(e){function t(){c.sectoresRest().get({sector:P.sector},function(e){var t=e[0];t?(t.calles.push(P.searchText),t.$save(),i.save(P.cofrade,v,h)):r.show(r.simple().content("El sector "+P.sector+" no existe!!").position("top right").parent(o[0].querySelector("#toastBounds")).hideDelay(3e3))})}if(e){var a={cuenta:{},deuda:[]};P.cofrade.datosPersonales.direccion.calle=P.searchText,JSON.stringify(P.cofrade.datosFinancieros)===JSON.stringify(a)&&delete P.cofrade.datosFinancieros;var i=n.cofradesRest();P.nuevaCalle?t():i.save(P.cofrade,v,h)}else C()}function v(e){r.show(r.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),t.go("cofrades")}function h(e){r.show(r.simple().content("Error al guardar!!").position("top right").parent(o[0].querySelector("#toastBounds")).hideDelay(3e3))}function C(){r.show(r.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(o[0].querySelector("#toastBounds")).position("top right"))}var P=this;P.nuevaCalle=!0,P.cofrade={datosFinancieros:{cuenta:{},deuda:[]},datosPersonales:{direccion:{},sexo:"Hombre",fechaInscripcion:new Date,fechaNacimiento:new Date}},P.backState=u,P.querySearch=l,P.selectedItemChange=d,P.calcularCC=p,P.calcularIban=m,P.guardar=g,i()}angular.module("app").controller("CofradeNuevo",e),e.$inject=["$filter","$document","$mdToast","$state","getCofradePrepService","cofradesService","sectoresService"]}(),function(){"use strict";function e(e,o,r,t){function a(){return r.$promise.then(function(e){c.cofrade=e,c.cofrade.datosFinancieros&&c.cofrade.datosFinancieros.cuenta&&(c.iban=o("parseIban")(c.cofrade.datosFinancieros.cuenta.iban),c.cc=o("parseCC")(c.cofrade.datosFinancieros.cuenta.cc)),c.maps=t})}function n(o,r){e.go("cofradesCambios",{cofradeId:o})}var c=this;c.cofrade=null,c.maps=null,c.modifyCofrade=n,a()}angular.module("app").controller("CofradeDetalle",e),e.$inject=["$state","$filter","getCofradePrepService","getMapsPrepService"]}(),function(){"use strict";function e(e,o){function r(){return e.$promise.then(function(e){t.nextPage=e.next,t.cofrades=e.results}),o.$promise.then(function(e){t.nextPageBajas=e.next,t.cofradesBajas=e.results})}var t=this;t.cofrades=null,t.nextPage=null,t.cofradesBajas=null,t.nextPageBajas=null,t.selectedTab=0,r()}angular.module("app").controller("Cofrades",e),e.$inject=["cofradesPrepService","cofradesBajasPrepService"]}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,o,r){var t=o[0];o.bind("scroll",function(){t.scrollTop+t.offsetHeight>=t.scrollHeight-5&&e.$emit("scrollDown")})}}}angular.module("app").directive("scrolly",e)}(),function(){"use strict";function e(){return function(e){e=e||"";for(var o="",r=0;r<e.length;r++)r>0&&r%4===0&&(o+=" "),o+=e[r];return o}}function o(){return function(e){e=e||"";var o="";return o=e.substr(0,4)+"-",o+=e.substr(4,4)+"-",o+=e.substr(8,2)+"-",o+=e.substr(10,10)}}function r(){return function(e){return e=e||"",e.substr(4,20)}}function t(){function e(e){for(var o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=[],t=0;t<e.length;t++){var a=o.indexOf(e[t]);r.push(0>a?"-":a)}return r.join("")}function o(e,o){for(var r=10,t=e.length,a=0,n=0;t>n;n+=r){var c=a+""+e.substr(n,r);a=c%o}return a}function r(e,o){for(e+="";e.length<o;)e="0"+e;return e}return function(t){var a="ES",n=t+e(a)+"00",c=o(n,97);return a+r(98-c,2)+t}}angular.module("app").filter("parseIban",e).filter("parseCC",o).filter("calcularIban",t).filter("calcularCC",r)}(),function(){"use strict";function e(){return function(e){return e.datosPersonales.fechaNacimiento=new Date(e.datosPersonales.fechaNacimiento).toLocaleDateString(),e.datosPersonales.fechaInscripcion=new Date(e.datosPersonales.fechaInscripcion).toLocaleDateString(),e}}function o(){return function(e){var o=e.datosPersonales.fechaNacimiento.split("/");return e.datosPersonales.fechaNacimiento=o[2]+"-"+o[1]+"-"+o[0],o=e.datosPersonales.fechaInscripcion.split("/"),e.datosPersonales.fechaInscripcion=o[2]+"-"+o[1]+"-"+o[0],e}}angular.module("app").filter("stringToDateFormat",e).filter("formatDates",o)}(),function(){"use strict";function e(){return function(o){var r=o instanceof Array;for(var t in o)null===o[t]?r?o.splice(t,1):delete o[t]:"object"==typeof o[t]&&e(o[t]);return o}}angular.module("app").filter("removeNulls",e)}(),function(){"use strict";function e(e,o,r){function t(){return e("http://127.0.0.1:5050/api/cofrades/:id.json:json",null,{query:{method:"GET",isArray:!1},get:{method:"GET",transformResponse:function(e,o){return r("stringToDateFormat")(angular.fromJson(e))}},save:{method:"POST",transformRequest:function(e,o){return angular.toJson(r("formatDates")(r("removeNulls")(e)))}}})}function a(){return e("http://127.0.0.1:5050/api/cofradesBajas/:id.json:json",null,{query:{method:"GET",isArray:!1}})}function n(e){return o.get("http://127.0.0.1:5050/api/calles/",{params:{calle:e}}).then(function(e){return angular.fromJson(e)})}function c(){return o.get("http://127.0.0.1:5050/api/registros/").then(function(e){return angular.fromJson(e)})}return{cofradesRest:t,cofradesBajasRest:a,getCalles:n,getRegistros:c}}angular.module("app").factory("cofradesService",e),e.$inject=["$resource","$http","$filter"]}(),function(){"use strict";function e(e){function o(o){return e.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:o,key:"AIzaSyDC_OIDSl6curjCMCLyzn2yhMmg-er5knI"}}).then(function(e){return e})}return{geoCodingAPI:o}}angular.module("app").factory("mapasService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function o(){return e("http://127.0.0.1:5050/api/sectores/:id.json:json",null,{get:{method:"GET",isArray:!0}})}return{sectoresRest:o}}angular.module("app").factory("sectoresService",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e,o,r,t){function a(){m.bajas?c():n()}function n(){if(m.nextPage){var e={page:m.nextPage};m.buscar&&(e[m.filtro]=m.buscar),t.cofradesRest().query(e,function(e){m.nextPage=e.next,m.cofrades=m.cofrades.concat(e.results)})}}function c(){if(m.nextPageBajas){var e={page:m.nextPageBajas};m.buscar&&(e[m.filtro]=m.buscar),t.cofradesBajasRest().query(e,function(e){m.nextPageBajas=e.next,m.cofradesBajas=m.cofradesBajas.concat(e.results)})}}function i(){m.bajas?u():s()}function s(){var e={};e[m.filtro]=m.buscar,t.cofradesRest().query(e,function(e){m.nextPage=e.next,m.cofrades=e.results})}function u(){var e={};e[m.filtro]=m.buscar,t.cofradesBajasRest().query(e,function(e){m.nextPageBajas=e.next,m.cofradesBajas=e.results})}function l(){m.buscar=null,m.typeInput="nombre"===m.filtro?"text":"number",m.search()}function d(e,o){r.go("cofradesDetalle",{cofradeId:e})}function f(e,o){o.stopPropagation(),r.go("cofradesCambios",{cofradeId:e})}function p(e,o){o.stopPropagation(),console.log("eliminar cofrade")}var m=this;m.filtro="nombre",m.typeInput="text",m.buscar=null,m.search=i,m.radioChange=l,m.goToCofrade=d,m.modifyCofrade=f,m.removeCofrade=p;var g=e.$on("scrollDown",a);o.$on("$destroy",function(){g(),g=null})}angular.module("app").controller("ListaCofrades",e),e.$inject=["$rootScope","$scope","$state","cofradesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/cofrades/list/cofrades.directive.html",scope:{cofrades:"=cofrades",nextPage:"=page",cofradesBajas:"=cofradesBajas",nextPageBajas:"=pageBajas"},controller:"ListaCofrades",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaCofrades",e)}(),function(){"use strict";function e(e,o){function r(e,r){r.stopPropagation(),o.show({templateUrl:"./templates/directives/cofrades/remove/dialogTmpl/removeCofrade.tmpl.html",locals:{id:e},controller:"RemoveCofradeTmpl",controllerAs:"vm",bindToController:!0,targetEvent:r,clickOutsideToClose:!0}).then(function(){})}var t=this;t.removeCofrade=r}angular.module("app").controller("RemoveCofrade",e),e.$inject=["$state","$mdDialog"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/cofrades/remove/removeCofrade.directive.html",scope:{cofradeId:"=cofrade"},controller:"RemoveCofrade",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeCofrade",e)}(),function(){"use strict";function e(e,o,r){function t(e,r){r.stopPropagation();var t=o.confirm().title("Restaurar cofrade").content("¿Está seguro que desea restaurar este cofrade?<br>Su número de Cofrade se calculará de nuevo.").ariaLabel("Restaurar cofrade").targetEvent(r).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);o.show(t).then(function(){a(e)})}function a(o){var t=r.cofradesRest().get({id:o},function(){t.baja=null,t.$save({updateNumeroCofrade:!0}).then(function(){"cofrades"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("cofrades")})})}var n=this;n.restoreCofrade=t}angular.module("app").controller("RestoreCofrade",e),e.$inject=["$state","$mdDialog","cofradesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/cofrades/restore/restoreCofrade.directive.html",scope:{cofradeId:"=cofrade"},controller:"RestoreCofrade",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("restoreCofrade",e)}(),function(){"use strict";function e(e,o,r){function t(){o.cancel()}function a(o){var t=r.cofradesRest().get({id:o},function(){t.baja={motivo:n.motivoBaja,fechaBaja:(new Date).toLocaleDateString()},t.numeroCofrade=null,t.$save({updateNumeroCofrade:!0}).then(function(){n.closeDialog(),"cofrades"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("cofrades")})})}var n=this;n.closeDialog=t,n.removeEndCofrade=a}angular.module("app").controller("RemoveCofradeTmpl",e),e.$inject=["$state","$mdDialog","cofradesService"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5pbml0Lm1vZHVsZS5qcyIsImFwcC5tYXAuanMiLCJhbGwubWluLmpzIiwiYXBwLnBpY2tlckRhdGUuanMiLCJhcHAucm91dGVzLmpzIiwiYXBwLnRoZW1lLmpzIiwiY29mcmFkZXMvY29mcmFkZXMucm91dGVzLmpzIiwiaW50ZXJmYXovYXBwLmNvbnRyb2xsZXIuanMiLCJjb2ZyYWRlcy9hZGQvY29mcmFkZU51ZXZvLmNvbnRyb2xsZXIuanMiLCJjb2ZyYWRlcy9kZXRhaWwvY29mcmFkZURldGFsbGUuY29udHJvbGxlci5qcyIsImNvZnJhZGVzL2xpc3QvY29mcmFkZXMuY29udHJvbGxlci5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9zY3JvbGx5LmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZmlsdGVycy9wYXJzZUN1ZW50YS5maWx0ZXIuanMiLCJjb21tb25zL2ZpbHRlcnMvcGFyc2VEYXRlLmZpbHRlci5qcyIsImNvbW1vbnMvZmlsdGVycy9yZW1vdmVOdWxscy5maWx0ZXIuanMiLCJjb21tb25zL3NlcnZpY2VzL2NvZnJhZGVzLnNlcnZpY2UuanMiLCJjb21tb25zL3NlcnZpY2VzL21hcGFzLnNlcnZpY2UuanMiLCJjb21tb25zL3NlcnZpY2VzL3NlY3RvcmVzLnNlcnZpY2UuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvY29mcmFkZXMvbGlzdC9jb2ZyYWRlcy5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9saXN0L2NvZnJhZGVzLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZW1vdmUvcmVtb3ZlQ29mcmFkZS5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZW1vdmUvcmVtb3ZlQ29mcmFkZS5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvY29mcmFkZXMvcmVzdG9yZS9yZXN0b3JlQ29mcmFkZS5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZXN0b3JlL3Jlc3RvcmVDb2ZyYWRlLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZW1vdmUvZGlhbG9nVG1wbC9yZW1vdmVDb2ZyYWRlLmNvbnRyb2xsZXIudG1wbC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiZ29vZ2xlTWFwQVBJIiwidWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIiLCJjb25maWd1cmUiLCJsaWJyYXJpZXMiLCJjb25maWciLCIkaW5qZWN0IiwiZGF0ZVBpY2tlckNvbmZpZyIsIiRtZERhdGVMb2NhbGVQcm92aWRlciIsIm1vbnRocyIsInNob3J0TW9udGhzIiwiZGF5cyIsInNob3J0RGF5cyIsImZpcnN0RGF5T2ZXZWVrIiwicGFyc2VEYXRlIiwiZGF0ZVN0cmluZyIsIkRhdGUiLCJmb3JtYXREYXRlIiwiZGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZSIsInRoZW1lQW5ndWxhck1hdGVyaWFsIiwiJG1kVGhlbWluZ1Byb3ZpZGVyIiwidGVtcGxhdGVQcm92aWRlciIsIiR0ZW1wbGF0ZUNhY2hlIiwiZ2V0IiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsInJlc29sdmUiLCJjb2ZyYWRlc1ByZXBTZXJ2aWNlIiwiY29mcmFkZXNCYWphc1ByZXBTZXJ2aWNlIiwiZ2V0Q29mcmFkZVByZXBTZXJ2aWNlIiwiZ2V0TWFwc1ByZXBTZXJ2aWNlIiwiY29mcmFkZXNTZXJ2aWNlIiwiY29mcmFkZXNSZXN0IiwicXVlcnkiLCJjb2ZyYWRlc0JhamFzUmVzdCIsIiRzdGF0ZVBhcmFtcyIsImlkIiwiY29mcmFkZUlkIiwidWlHbWFwR29vZ2xlTWFwQXBpIiwibWFwYXNTZXJ2aWNlIiwiJHByb21pc2UiLCJ0aGVuIiwiZGF0YSIsImFkZHJlc3MiLCJkYXRvc1BlcnNvbmFsZXMiLCJkaXJlY2Npb24iLCJjYWxsZSIsIm51bWVybyIsIm11bmljaXBpbyIsInByb3ZpbmNpYSIsImNwIiwiZ2VvQ29kaW5nQVBJIiwicmVzcG9uc2UiLCJyZXN1bHRzIiwibGVuZ3RoIiwiY29vcmRpbmF0ZXMiLCJnZW9tZXRyeSIsImxvY2F0aW9uIiwibWFwcyIsImNvb3JkIiwibGF0aXR1ZGUiLCJsYXQiLCJsb25naXR1ZGUiLCJsbmciLCJtYXJrZXIiLCJ6b29tIiwiQXBwQ3RybCIsIiRtZFNpZGVuYXYiLCIkc3RhdGUiLCJ0b2dnbGVTaWRlbmF2IiwibWVudUlkIiwidG9nZ2xlIiwibmF2aWdhdGVUbyIsInRvIiwiZ28iLCJ2bSIsInRoaXMiLCJDb2ZyYWRlTnVldm8iLCIkZmlsdGVyIiwiJGRvY3VtZW50IiwiJG1kVG9hc3QiLCJzZWN0b3Jlc1NlcnZpY2UiLCJhY3RpdmF0ZSIsImluaXRDb2ZyYWRlIiwiZ2V0UmVnaXN0cm9zIiwiY29mcmFkZSIsIm51bWVyb09yZGVuIiwibnVtZXJvQ29mcmFkZSIsImNhbGxlU2VsZWN0ZWQiLCJzZWFyY2hTZWN0b3IiLCJmZWNoYU5hY2ltaWVudG8iLCJmZWNoYUluc2NyaXBjaW9uIiwiZGF0b3NGaW5hbmNpZXJvcyIsImN1ZW50YSIsImRldWRhIiwiYmFja1N0YXRlIiwid2luZG93IiwiaGlzdG9yeSIsImJhY2siLCJxdWVyeVNlYXJjaCIsImdldENhbGxlcyIsInNlbGVjdGVkSXRlbUNoYW5nZSIsIml0ZW0iLCJzZWN0b3IiLCJudWV2YUNhbGxlIiwic2VjdG9yZXNSZXN0IiwibnVtZXJvU2VjdG9yIiwiY2FsY3VsYXJDQyIsImliYW4iLCJjYyIsImNhbGN1bGFySWJhbiIsImd1YXJkYXIiLCJpc1ZhbGlkIiwiZ3VhcmRhckNhbGxlIiwic2VjdG9yUmVzb3VyY2UiLCJjYWxsZXMiLCJwdXNoIiwic2VhcmNoVGV4dCIsIiRzYXZlIiwiQ29mcmFkZVJlc291cmNlIiwic2F2ZSIsImd1YXJkYXJTdWNjZXNzIiwiZ3VhcmRhckVycm9yIiwic2hvdyIsInNpbXBsZSIsImNvbnRlbnQiLCJwb3NpdGlvbiIsInBhcmVudCIsInF1ZXJ5U2VsZWN0b3IiLCJoaWRlRGVsYXkiLCJKU09OIiwic3RyaW5naWZ5Iiwic2hvd0FjdGlvblRvYXN0IiwiYWN0aW9uIiwiaGlnaGxpZ2h0QWN0aW9uIiwic2V4byIsIkNvZnJhZGVEZXRhbGxlIiwibW9kaWZ5Q29mcmFkZSIsImV2ZW50IiwiQ29mcmFkZXMiLCJuZXh0UGFnZSIsIm5leHQiLCJjb2ZyYWRlcyIsIm5leHRQYWdlQmFqYXMiLCJjb2ZyYWRlc0JhamFzIiwic2VsZWN0ZWRUYWIiLCJzY3JvbGx5IiwicmVzdHJpY3QiLCJsaW5rIiwiJHJvb3RTY29wZSIsImVsZW1lbnQiLCJhdHRycyIsInJhdyIsImJpbmQiLCJzY3JvbGxUb3AiLCJvZmZzZXRIZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCIkZW1pdCIsImRpcmVjdGl2ZSIsInBhcnNlSWJhbiIsImZvcm1hdHRlZEliYW4iLCJpIiwicGFyc2VDQyIsImZvcm1hdHRlZENDIiwic3Vic3RyIiwidmFsb3JDaWZyYXMiLCJjaWZyYXMiLCJMRVRSQVMiLCJpdGVtcyIsInBvc2ljaW9uIiwiaW5kZXhPZiIsImpvaW4iLCJtb2R1bG8iLCJkaXZpc29yIiwiQ1VFTlRBIiwibGFyZ28iLCJyZXN0byIsImRpdmlkZW5kbyIsImNlcm9zSXpxdWllcmRhIiwiY2NjIiwicGFpcyIsImZpbHRlciIsInN0cmluZ1RvRGF0ZUZvcm1hdCIsImZvcm1hdERhdGVzIiwic3BsaXQiLCJyZW1vdmVOdWxscyIsIm9iaiIsImlzQXJyYXkiLCJBcnJheSIsImsiLCJzcGxpY2UiLCIkcmVzb3VyY2UiLCIkaHR0cCIsIm1ldGhvZCIsInRyYW5zZm9ybVJlc3BvbnNlIiwiaGVhZGVyc0dldHRlciIsImZyb21Kc29uIiwidHJhbnNmb3JtUmVxdWVzdCIsInRvSnNvbiIsInBhcmFtcyIsImZhY3RvcnkiLCJrZXkiLCJMaXN0YUNvZnJhZGVzIiwiJHNjb3BlIiwiZ2V0TmV4dFBhZ2UiLCJiYWphcyIsImdldE5leHRQYWdlQmFqYXMiLCJnZXROZXh0UGFnZUFsdGFzIiwicGFyYW1ldGVycyIsInBhZ2UiLCJidXNjYXIiLCJmaWx0cm8iLCJjb25jYXQiLCJzZWFyY2giLCJzZWFyY2hCYWphcyIsInNlYXJjaEFsdGFzIiwicmFkaW9DaGFuZ2UiLCJ0eXBlSW5wdXQiLCJnb1RvQ29mcmFkZSIsInN0b3BQcm9wYWdhdGlvbiIsInJlbW92ZUNvZnJhZGUiLCJjb25zb2xlIiwibG9nIiwiaGFuZGxlciIsIiRvbiIsImxpc3RhQ29mcmFkZXMiLCJ0ZW1wbGF0ZVVybCIsInNjb3BlIiwiYmluZFRvQ29udHJvbGxlciIsIlJlbW92ZUNvZnJhZGUiLCIkbWREaWFsb2ciLCJsb2NhbHMiLCJ0YXJnZXRFdmVudCIsImNsaWNrT3V0c2lkZVRvQ2xvc2UiLCJSZXN0b3JlQ29mcmFkZSIsInJlc3RvcmVDb2ZyYWRlIiwicmVzdGF1cmFyRGlhbG9nIiwiY29uZmlybSIsInRpdGxlIiwiYXJpYUxhYmVsIiwib2siLCJjYW5jZWwiLCJyZXN0b3JlRW5kQ29mcmFkZSIsImJhamEiLCJ1cGRhdGVOdW1lcm9Db2ZyYWRlIiwiY3VycmVudCIsIm5hbWUiLCJ0cmFuc2l0aW9uVG8iLCJyZWxvYWQiLCJpbmhlcml0Iiwibm90aWZ5IiwiUmVtb3ZlQ29mcmFkZVRtcGwiLCJjbG9zZURpYWxvZyIsInJlbW92ZUVuZENvZnJhZGUiLCJtb3Rpdm8iLCJtb3Rpdm9CYWphIiwiZmVjaGFCYWphIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLFlBRUFBLFNBQUFDLE9BQUEsT0FDQSxZQUNBLGFBQ0EsYUFDQSxvQkFDQSxrQkNSQSxXQUNBLFlBTUEsU0FBQUMsR0FBQUMsR0FDQUEsRUFBQUMsV0FDQUMsVUFBQSxtQ0FOQUwsUUFDQUMsT0FBQSxPQUNBSyxPQUFBSixHQ21CRUEsRUFBYUssU0FBVyxpQ0N4QjFCLFdBQ0EsWUFNQSxTQUFBQyxHQUFBQyxHQUVBQSxFQUFBQyxRQUFBLFFBQUEsVUFBQSxRQUFBLFFBQUEsT0FBQSxRQUFBLFFBQUEsU0FBQSxhQUFBLFVBQUEsWUFBQSxhQUNBRCxFQUFBRSxhQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxPQUNBRixFQUFBRyxNQUFBLFFBQUEsU0FBQSxZQUFBLFNBQUEsVUFBQSxTQUFBLFdBQ0FILEVBQUFJLFdBQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsT0FFQUosRUFBQUssZUFBQSxFQUVBTCxFQUFBTSxVQUFBLFNBQUFDLEdBQ0EsTUFBQSxJQUFBQyxNQUFBRCxJQUdBUCxFQUFBUyxXQUFBLFNBQUFDLEdBQ0EsTUFBQSxJQUFBRixNQUFBRSxHQUFBQyxzQkFsQkFwQixRQUNBQyxPQUFBLE9BQ0FLLE9BQUFFLEdEK0NFQSxFQUFpQkQsU0FBVyw0QkVwRDlCLFdBQ0EsWUFNQSxTQUFBRCxHQUFBZSxFQUFBQyxHQUVBQSxFQUFBQyxVQUFBLEtBRUFGLEVBQ0FHLE1BQUEsUUFDQUMsSUFBQSxJQUNBQyxTQUFBLHNTQVhBMUIsUUFDQUMsT0FBQSxPQUNBSyxPQUFBQSxHRndFRUEsRUFBT0MsU0FBVyxpQkFBa0IseUJHN0V0QyxXQUNBLFlBTUEsU0FBQW9CLEdBQUFDLElBSkE1QixRQUNBQyxPQUFBLE9BQ0FLLE9BQUFxQixHSHFGRUEsRUFBcUJwQixTQUFXLHlCSTFGbEMsV0FDQSxZQU1BLFNBQUFELEdBQUFlLEdBQ0FBLEVBQ0FHLE1BQUEsWUFDQUMsSUFBQSxZQUNBSSxrQkFBQSxpQkFBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQUFDLElBQUEsaUNBRUFDLFdBQUEsV0FDQUMsYUFBQSxLQUNBQyxTQUNBQyxvQkFBQUEsRUFDQUMseUJBQUFBLEtBR0FaLE1BQUEsbUJBQ0FDLElBQUEsdUJBQ0FJLGtCQUFBLGlCQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQUMsSUFBQSx5Q0FFQUMsV0FBQSxpQkFDQUMsYUFBQSxLQUNBQyxTQUNBRyxzQkFBQUEsRUFDQUMsbUJBQUFBLEtBR0FkLE1BQUEsbUJBQ0FDLElBQUEsOEJBQ0FJLGtCQUFBLGlCQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQUMsSUFBQSxvQ0FFQUMsV0FBQSxlQUNBQyxhQUFBLEtBQ0FDLFNBQ0FHLHNCQUFBQSxLQUtBLFFBQUFGLEdBQUFJLEdBQ0EsTUFBQUEsR0FBQUMsZUFBQUMsUUFHQSxRQUFBTCxHQUFBRyxHQUNBLE1BQUFBLEdBQUFHLG9CQUFBRCxRQUdBLFFBQUFKLEdBQUFFLEVBQUFJLEdBQ0EsTUFBQUEsR0FBQSxVQUFBSixFQUFBQyxlQUFBVCxLQUFBYSxHQUFBRCxFQUFBRSxhQUFBLEVBR0EsUUFBQVAsR0FBQVEsRUFBQVQsRUFBQVUsR0FDQSxNQUFBVixHQUFBVyxTQUFBQyxLQUFBLFNBQUFDLEdBRUEsR0FBQUMsR0FBQUQsRUFBQUUsZ0JBQUFDLFVBQUFDLE1BQUEsSUFDQUosRUFBQUUsZ0JBQUFDLFVBQUFFLE9BQUEsSUFDQUwsRUFBQUUsZ0JBQUFDLFVBQUFHLFVBQUEsSUFDQU4sRUFBQUUsZ0JBQUFDLFVBQUFJLFVBQUEsSUFDQVAsRUFBQUUsZ0JBQUFDLFVBQUFLLEVBRUEsT0FBQVgsR0FBQVksYUFBQVIsR0FDQUYsS0FBQSxTQUFBVyxHQUNBLEdBQUFBLEVBQUFWLEtBQUFXLFFBQUFDLE9BQUEsQ0FDQSxHQUFBQyxHQUFBSCxFQUFBVixLQUFBVyxRQUFBLEdBQUFHLFNBQUFDLFFBQ0EsT0FBQW5CLEdBQUFHLEtBQUEsU0FBQWlCLEdBQ0EsT0FBQUMsT0FBQUMsU0FBQUwsRUFBQU0sSUFDQUMsVUFBQVAsRUFBQVEsS0FDQUMsUUFBQUosU0FBQUwsRUFBQU0sSUFDQUMsVUFBQVAsRUFBQVEsS0FDQUUsS0FBQSxXQXpFQXpFLFFBQ0FDLE9BQUEsT0FDQUssT0FBQUEsR0pxSUVBLEVBQU9DLFNBQVcsa0JBS2xCNEIsRUFBb0I1QixTQUFXLG1CQUsvQjZCLEVBQXlCN0IsU0FBVyxtQkFLcEM4QixFQUFzQjlCLFNBQVcsa0JBQW1CLGdCQTBCcEQrQixFQUFtQi9CLFNBQVcscUJBQXNCLHdCQUF5QixtQktuTC9FLFdBQ0EsWUFPQSxTQUFBbUUsR0FBQUMsRUFBQUMsR0FLQSxRQUFBQyxHQUFBQyxHQUNBSCxFQUFBRyxHQUFBQyxTQUdBLFFBQUFDLEdBQUFDLEVBQUFILEdBQ0FELEVBQUFDLEdBQ0FGLEVBQUFNLEdBQUFELEdBVkEsR0FBQUUsR0FBQUMsSUFDQUQsR0FBQU4sY0FBQUEsRUFDQU0sRUFBQUgsV0FBQUEsRUFSQWhGLFFBQ0FDLE9BQUEsT0FDQStCLFdBQUEsVUFBQTBDLEdMdU1FQSxFQUFRbkUsU0FBVyxhQUFjLGFNNU1uQyxXQUNBLFlBS0EsU0FBQThFLEdBQUFDLEVBQUFDLEVBQUFDLEVBQUFaLEVBQUF2QyxFQUFBRSxFQUFBa0QsR0FxQkEsUUFBQUMsS0FDQXJELEVBQ0FBLEVBQUFXLFNBQUFDLEtBQUEwQyxHQUdBcEQsRUFBQXFELGVBQUEzQyxLQUFBLFNBQUFXLEdBQ0F1QixFQUFBVSxRQUFBQyxZQUFBbEMsRUFBQVYsS0FBQTRDLFlBQ0FYLEVBQUFVLFFBQUFFLGNBQUFuQyxFQUFBVixLQUFBNkMsZ0JBTUEsUUFBQUosR0FBQXpDLEdBYUEsTUFaQWlDLEdBQUFVLFFBQUEzQyxFQUNBaUMsRUFBQWEsZUFBQTFDLE1BQUE2QixFQUFBVSxRQUFBekMsZ0JBQUFDLFVBQUFDLE1BQ0FJLEdBQUF5QixFQUFBVSxRQUFBekMsZ0JBQUFDLFVBQUFLLEdBQ0FELFVBQUEwQixFQUFBVSxRQUFBekMsZ0JBQUFDLFVBQUFJLFVBQ0FELFVBQUEyQixFQUFBVSxRQUFBekMsZ0JBQUFDLFVBQUFHLFdBQ0F5QyxFQUFBZCxFQUFBVSxRQUFBekMsZ0JBQUFDLFVBQUFDLE9BRUE2QixFQUFBZSxnQkFBQWYsRUFBQVUsUUFBQXpDLGdCQUFBOEMsZ0JBQ0FmLEVBQUFnQixpQkFBQWhCLEVBQUFVLFFBQUF6QyxnQkFBQStDLGlCQUNBaEIsRUFBQVUsUUFBQU8saUJBQUFqQixFQUFBVSxRQUFBTyxtQkFBQUMsVUFBQUMsVUFDQW5CLEVBQUFVLFFBQUFPLGlCQUFBQyxPQUFBbEIsRUFBQVUsUUFBQU8saUJBQUFDLFdBQ0FsQixFQUFBVSxRQUFBTyxpQkFBQUUsTUFBQW5CLEVBQUFVLFFBQUFPLGlCQUFBRSxXQUNBLEVBR0EsUUFBQUMsS0FDQUMsT0FBQUMsUUFBQUMsT0FHQSxRQUFBQyxHQUFBbEUsR0FDQSxNQUFBRixHQUFBcUUsVUFBQW5FLEdBQUFRLEtBQUEsU0FBQVcsR0FBQSxNQUFBQSxHQUFBVixPQUdBLFFBQUEyRCxHQUFBQyxHQUNBQSxHQUNBM0IsRUFBQVUsUUFBQXpDLGdCQUFBQyxVQUFBQyxNQUFBd0QsRUFBQXhELE1BQ0E2QixFQUFBVSxRQUFBekMsZ0JBQUFDLFVBQUFHLFVBQUFzRCxFQUFBdEQsVUFDQTJCLEVBQUFVLFFBQUF6QyxnQkFBQUMsVUFBQUssR0FBQW9ELEVBQUFwRCxHQUNBeUIsRUFBQVUsUUFBQXpDLGdCQUFBQyxVQUFBSSxVQUFBcUQsRUFBQXJELFVBQ0F3QyxFQUFBYSxFQUFBeEQsU0FFQTZCLEVBQUFVLFFBQUF6QyxnQkFBQUMsVUFBQUMsTUFBQSxLQUNBNkIsRUFBQVUsUUFBQXpDLGdCQUFBQyxVQUFBRyxVQUFBLEtBQ0EyQixFQUFBVSxRQUFBekMsZ0JBQUFDLFVBQUFLLEdBQUEsS0FDQXlCLEVBQUFVLFFBQUF6QyxnQkFBQUMsVUFBQUksVUFBQSxLQUNBMEIsRUFBQTRCLE9BQUEsS0FDQTVCLEVBQUE2QixZQUFBLEdBSUEsUUFBQWYsR0FBQTNDLEdBQ0FtQyxFQUFBd0IsZUFBQXhFLE9BQUFhLE1BQUFBLEdBQUEsU0FBQUosR0FDQWlDLEVBQUE0QixPQUFBN0QsRUFBQSxHQUFBZ0UsYUFDQS9CLEVBQUE2QixZQUFBLElBSUEsUUFBQUcsS0FDQWhDLEVBQUFVLFFBQUFPLGlCQUFBQyxPQUFBZSxPQUNBakMsRUFBQVUsUUFBQU8saUJBQUFDLE9BQUFnQixHQUFBL0IsRUFBQSxjQUFBSCxFQUFBVSxRQUFBTyxpQkFBQUMsT0FBQWUsT0FHQSxRQUFBRSxLQUNBbkMsRUFBQVUsUUFBQU8saUJBQUFDLE9BQUFnQixLQUNBbEMsRUFBQVUsUUFBQU8saUJBQUFDLE9BQUFlLEtBQUE5QixFQUFBLGdCQUFBSCxFQUFBVSxRQUFBTyxpQkFBQUMsT0FBQWdCLEtBR0EsUUFBQUUsR0FBQUMsR0FtQkEsUUFBQUMsS0FDQWhDLEVBQUF3QixlQUFBbEYsS0FBQWdGLE9BQUE1QixFQUFBNEIsUUFBQSxTQUFBN0QsR0FDQSxHQUFBd0UsR0FBQXhFLEVBQUEsRUFFQXdFLElBQ0FBLEVBQUFDLE9BQUFDLEtBQUF6QyxFQUFBMEMsWUFDQUgsRUFBQUksUUFDQUMsRUFBQUMsS0FBQTdDLEVBQUFVLFFBQUFvQyxFQUFBQyxJQUdBMUMsRUFBQTJDLEtBQ0EzQyxFQUFBNEMsU0FDQUMsUUFBQSxhQUFBbEQsRUFBQTRCLE9BQUEsZ0JBQ0F1QixTQUFBLGFBQ0FDLE9BQUFoRCxFQUFBLEdBQUFpRCxjQUFBLGlCQUNBQyxVQUFBLFFBakNBLEdBQUFqQixFQUFBLENBQ0EsR0FBQXBCLElBQUFDLFVBQUFDLFNBRUFuQixHQUFBVSxRQUFBekMsZ0JBQUFDLFVBQUFDLE1BQUE2QixFQUFBMEMsV0FFQWEsS0FBQUMsVUFBQXhELEVBQUFVLFFBQUFPLG9CQUFBc0MsS0FBQUMsVUFBQXZDLFVBQ0FqQixHQUFBVSxRQUFBTyxnQkFFQSxJQUFBMkIsR0FBQXhGLEVBQUFDLGNBQ0EyQyxHQUFBNkIsV0FDQVMsSUFFQU0sRUFBQUMsS0FBQTdDLEVBQUFVLFFBQUFvQyxFQUFBQyxPQUlBVSxLQXdCQSxRQUFBWCxHQUFBckUsR0FDQTRCLEVBQUEyQyxLQUNBM0MsRUFBQTRDLFNBQ0FDLFFBQUEsd0JBQ0FDLFNBQUEsYUFDQUcsVUFBQSxNQUVBN0QsRUFBQU0sR0FBQSxZQUdBLFFBQUFnRCxHQUFBdEUsR0FDQTRCLEVBQUEyQyxLQUNBM0MsRUFBQTRDLFNBQ0FDLFFBQUEsc0JBQ0FDLFNBQUEsYUFDQUMsT0FBQWhELEVBQUEsR0FBQWlELGNBQUEsaUJBQ0FDLFVBQUEsTUFJQSxRQUFBRyxLQUNBcEQsRUFBQTJDLEtBQ0EzQyxFQUFBNEMsU0FDQUMsUUFBQSxvQ0FDQVEsT0FBQSxNQUNBQyxpQkFBQSxHQUNBUCxPQUFBaEQsRUFBQSxHQUFBaUQsY0FBQSxpQkFDQUYsU0FBQSxjQS9KQSxHQUFBbkQsR0FBQUMsSUFFQUQsR0FBQTZCLFlBQUEsRUFDQTdCLEVBQUFVLFNBQUFPLGtCQUFBQyxVQUNBQyxVQUNBbEQsaUJBQUFDLGFBQ0EwRixLQUFBLFNBQ0E1QyxpQkFBQSxHQUFBbEYsTUFDQWlGLGdCQUFBLEdBQUFqRixRQUdBa0UsRUFBQW9CLFVBQUFBLEVBQ0FwQixFQUFBd0IsWUFBQUEsRUFDQXhCLEVBQUEwQixtQkFBQUEsRUFDQTFCLEVBQUFnQyxXQUFBQSxFQUNBaEMsRUFBQW1DLGFBQUFBLEVBQ0FuQyxFQUFBb0MsUUFBQUEsRUFFQTdCLElBdkJBMUYsUUFDQUMsT0FBQSxPQUNBK0IsV0FBQSxlQUFBcUQsR05xWEVBLEVBQWE5RSxTQUFXLFVBQVcsWUFBYSxXQUFZLFNBQVUsd0JBQXlCLGtCQUFtQixzQk96WHBILFdBQ0EsWUFLQSxTQUFBeUksR0FBQXBFLEVBQUFVLEVBQUFqRCxFQUFBQyxHQVVBLFFBQUFvRCxLQUNBLE1BQUFyRCxHQUFBVyxTQUFBQyxLQUFBLFNBQUFDLEdBQ0FpQyxFQUFBVSxRQUFBM0MsRUFDQWlDLEVBQUFVLFFBQUFPLGtCQUNBakIsRUFBQVUsUUFBQU8saUJBQUFDLFNBQ0FsQixFQUFBaUMsS0FBQTlCLEVBQUEsYUFBQUgsRUFBQVUsUUFBQU8saUJBQUFDLE9BQUFlLE1BQ0FqQyxFQUFBa0MsR0FBQS9CLEVBQUEsV0FBQUgsRUFBQVUsUUFBQU8saUJBQUFDLE9BQUFnQixLQUVBbEMsRUFBQWpCLEtBQUE1QixJQUlBLFFBQUEyRyxHQUFBckcsRUFBQXNHLEdBQ0F0RSxFQUFBTSxHQUFBLG1CQUFBckMsVUFBQUQsSUF0QkEsR0FBQXVDLEdBQUFDLElBRUFELEdBQUFVLFFBQUEsS0FDQVYsRUFBQWpCLEtBQUEsS0FFQWlCLEVBQUE4RCxjQUFBQSxFQUVBdkQsSUFaQTFGLFFBQ0FDLE9BQUEsT0FDQStCLFdBQUEsaUJBQUFnSCxHUHdaRUEsRUFBZXpJLFNBQVcsU0FBVSxVQUFXLHdCQUF5Qix5QlE1WjFFLFdBQ0EsWUFLQSxTQUFBNEksR0FBQWhILEVBQUFDLEdBVUEsUUFBQXNELEtBTUEsTUFMQXZELEdBQUFhLFNBQUFDLEtBQUEsU0FBQUMsR0FDQWlDLEVBQUFpRSxTQUFBbEcsRUFBQW1HLEtBQ0FsRSxFQUFBbUUsU0FBQXBHLEVBQUFXLFVBR0F6QixFQUFBWSxTQUFBQyxLQUFBLFNBQUFDLEdBQ0FpQyxFQUFBb0UsY0FBQXJHLEVBQUFtRyxLQUNBbEUsRUFBQXFFLGNBQUF0RyxFQUFBVyxVQWpCQSxHQUFBc0IsR0FBQUMsSUFFQUQsR0FBQW1FLFNBQUEsS0FDQW5FLEVBQUFpRSxTQUFBLEtBQ0FqRSxFQUFBcUUsY0FBQSxLQUNBckUsRUFBQW9FLGNBQUEsS0FDQXBFLEVBQUFzRSxZQUFBLEVBQ0EvRCxJQVpBMUYsUUFDQUMsT0FBQSxPQUNBK0IsV0FBQSxXQUFBbUgsR1J3YkVBLEVBQVM1SSxTQUFXLHNCQUF1QiwrQlM1YjdDLFdBQ0EsWUFNQSxTQUFBbUosS0FDQSxPQUNBQyxTQUFBLElBQ0FDLEtBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FDQSxHQUFBQyxHQUFBRixFQUFBLEVBQ0FBLEdBQUFHLEtBQUEsU0FBQSxXQUNBRCxFQUFBRSxVQUFBRixFQUFBRyxjQUFBSCxFQUFBSSxhQUFBLEdBQ0FQLEVBQUFRLE1BQUEsa0JBWEFySyxRQUNBQyxPQUFBLE9BQ0FxSyxVQUFBLFVBQUFaLE1DTEEsV0FDQSxZQVNBLFNBQUFhLEtBQ0EsTUFBQSxVQUFBbkQsR0FDQUEsRUFBQUEsR0FBQSxFQUdBLEtBQUEsR0FGQW9ELEdBQUEsR0FFQUMsRUFBQSxFQUFBQSxFQUFBckQsRUFBQXRELE9BQUEyRyxJQUNBQSxFQUFBLEdBQUFBLEVBQUEsSUFBQSxJQUNBRCxHQUFBLEtBRUFBLEdBQUFwRCxFQUFBcUQsRUFFQSxPQUFBRCxJQUlBLFFBQUFFLEtBQ0EsTUFBQSxVQUFBckQsR0FDQUEsRUFBQUEsR0FBQSxFQUNBLElBQUFzRCxHQUFBLEVBT0EsT0FMQUEsR0FBQXRELEVBQUF1RCxPQUFBLEVBQUEsR0FBQSxJQUNBRCxHQUFBdEQsRUFBQXVELE9BQUEsRUFBQSxHQUFBLElBQ0FELEdBQUF0RCxFQUFBdUQsT0FBQSxFQUFBLEdBQUEsSUFDQUQsR0FBQXRELEVBQUF1RCxPQUFBLEdBQUEsS0FNQSxRQUFBekQsS0FDQSxNQUFBLFVBQUFDLEdBRUEsTUFEQUEsR0FBQUEsR0FBQSxHQUNBQSxFQUFBd0QsT0FBQSxFQUFBLEtBSUEsUUFBQXRELEtBUUEsUUFBQXVELEdBQUFDLEdBR0EsSUFBQSxHQUZBQyxHQUFBLHVDQUNBQyxLQUNBUCxFQUFBLEVBQUFBLEVBQUFLLEVBQUFoSCxPQUFBMkcsSUFBQSxDQUNBLEdBQUFRLEdBQUFGLEVBQUFHLFFBQUFKLEVBQUFMLEdBQ0FPLEdBQUFwRCxLQUFBLEVBQUFxRCxFQUFBLElBQUFBLEdBRUEsTUFBQUQsR0FBQUcsS0FBQSxJQUdBLFFBQUFDLEdBQUFOLEVBQUFPLEdBSUEsSUFBQSxHQUhBQyxHQUFBLEdBQ0FDLEVBQUFULEVBQUFoSCxPQUNBMEgsRUFBQSxFQUNBZixFQUFBLEVBQUFjLEVBQUFkLEVBQUFBLEdBQUFhLEVBQUEsQ0FDQSxHQUFBRyxHQUFBRCxFQUFBLEdBQUFWLEVBQUFGLE9BQUFILEVBQUFhLEVBQ0FFLEdBQUFDLEVBQUFKLEVBRUEsTUFBQUcsR0FHQSxRQUFBRSxHQUFBWixFQUFBUyxHQUVBLElBREFULEdBQUEsR0FDQUEsRUFBQWhILE9BQUF5SCxHQUFBVCxFQUFBLElBQUFBLENBQ0EsT0FBQUEsR0EvQkEsTUFBQSxVQUFBYSxHQUNBLEdBQUFDLEdBQUEsS0FDQWQsRUFBQWEsRUFBQWQsRUFBQWUsR0FBQSxLQUNBSixFQUFBSixFQUFBTixFQUFBLEdBQ0EsT0FBQWMsR0FBQUYsRUFBQSxHQUFBRixFQUFBLEdBQUFHLEdBaERBM0wsUUFDQUMsT0FBQSxPQUNBNEwsT0FBQSxZQUFBdEIsR0FDQXNCLE9BQUEsVUFBQW5CLEdBQ0FtQixPQUFBLGVBQUF2RSxHQUNBdUUsT0FBQSxhQUFBMUUsTUNSQSxXQUNBLFlBT0EsU0FBQTJFLEtBQ0EsTUFBQSxVQUFBNUksR0FHQSxNQUZBQSxHQUFBRSxnQkFBQThDLGdCQUFBLEdBQUFqRixNQUFBaUMsRUFBQUUsZ0JBQUE4QyxpQkFBQTlFLHFCQUNBOEIsRUFBQUUsZ0JBQUErQyxpQkFBQSxHQUFBbEYsTUFBQWlDLEVBQUFFLGdCQUFBK0Msa0JBQUEvRSxxQkFDQThCLEdBSUEsUUFBQTZJLEtBQ0EsTUFBQSxVQUFBN0ksR0FDQSxHQUFBL0IsR0FBQStCLEVBQUFFLGdCQUFBOEMsZ0JBQUE4RixNQUFBLElBSUEsT0FIQTlJLEdBQUFFLGdCQUFBOEMsZ0JBQUEvRSxFQUFBLEdBQUEsSUFBQUEsRUFBQSxHQUFBLElBQUFBLEVBQUEsR0FDQUEsRUFBQStCLEVBQUFFLGdCQUFBK0MsaUJBQUE2RixNQUFBLEtBQ0E5SSxFQUFBRSxnQkFBQStDLGlCQUFBaEYsRUFBQSxHQUFBLElBQUFBLEVBQUEsR0FBQSxJQUFBQSxFQUFBLEdBQ0ErQixHQW5CQWxELFFBQ0FDLE9BQUEsT0FDQTRMLE9BQUEscUJBQUFDLEdBQ0FELE9BQUEsY0FBQUUsTUNOQSxXQUNBLFlBTUEsU0FBQUUsS0FDQSxNQUFBLFVBQUFDLEdBQ0EsR0FBQUMsR0FBQUQsWUFBQUUsTUFDQSxLQUFBLEdBQUFDLEtBQUFILEdBQ0EsT0FBQUEsRUFBQUcsR0FBQUYsRUFBQUQsRUFBQUksT0FBQUQsRUFBQSxTQUFBSCxHQUFBRyxHQUNBLGdCQUFBSCxHQUFBRyxJQUFBSixFQUFBQyxFQUFBRyxHQUVBLE9BQUFILElBWEFsTSxRQUNBQyxPQUFBLE9BQ0E0TCxPQUFBLGNBQUFJLE1DTEEsV0FDQSxZQU1BLFNBQUExSixHQUFBZ0ssRUFBQUMsRUFBQWxILEdBUUEsUUFBQTlDLEtBQ0EsTUFBQStKLEdBQUEsbURBQUEsTUFDQTlKLE9BQUFnSyxPQUFBLE1BQUFOLFNBQUEsR0FDQXBLLEtBQUEwSyxPQUFBLE1BQUFDLGtCQUFBLFNBQUF4SixFQUFBeUosR0FDQSxNQUFBckgsR0FBQSxzQkFBQXRGLFFBQUE0TSxTQUFBMUosTUFHQThFLE1BQUF5RSxPQUFBLE9BQUFJLGlCQUFBLFNBQUEzSixFQUFBeUosR0FDQSxNQUFBM00sU0FBQThNLE9BQUF4SCxFQUFBLGVBQUFBLEVBQUEsZUFBQXBDLFNBTUEsUUFBQVIsS0FDQSxNQUFBNkosR0FBQSx3REFBQSxNQUFBOUosT0FBQWdLLE9BQUEsTUFBQU4sU0FBQSxLQUdBLFFBQUF2RixHQUFBdEQsR0FDQSxNQUFBa0osR0FBQXpLLElBQUEscUNBQUFnTCxRQUFBekosTUFBQUEsS0FDQUwsS0FBQSxTQUFBVyxHQUNBLE1BQUE1RCxTQUFBNE0sU0FBQWhKLEtBSUEsUUFBQWdDLEtBQ0EsTUFBQTRHLEdBQUF6SyxJQUFBLHdDQUNBa0IsS0FBQSxTQUFBVyxHQUNBLE1BQUE1RCxTQUFBNE0sU0FBQWhKLEtBbkNBLE9BQ0FwQixhQUFBQSxFQUNBRSxrQkFBQUEsRUFDQWtFLFVBQUFBLEVBQ0FoQixhQUFBQSxHQVRBNUYsUUFDQUMsT0FBQSxPQUNBK00sUUFBQSxrQkFBQXpLLEdib29CRUEsRUFBZ0JoQyxTQUFXLFlBQWEsUUFBUyxjY3pvQm5ELFdBQ0EsWUFNQSxTQUFBd0MsR0FBQXlKLEdBS0EsUUFBQTdJLEdBQUFSLEdBQ0EsTUFBQXFKLEdBQUF6SyxJQUFBLHFEQUFBZ0wsUUFBQTVKLFFBQUFBLEVBQUE4SixJQUFBLDZDQUNBaEssS0FBQSxTQUFBVyxHQUNBLE1BQUFBLEtBUEEsT0FDQUQsYUFBQUEsR0FOQTNELFFBQ0FDLE9BQUEsT0FDQStNLFFBQUEsZUFBQWpLLEdkMHBCRUEsRUFBYXhDLFNBQVcsWWUvcEIxQixXQUNBLFlBTUEsU0FBQWtGLEdBQUE4RyxHQUtBLFFBQUF0RixLQUNBLE1BQUFzRixHQUFBLG1EQUFBLE1BQ0F4SyxLQUFBMEssT0FBQSxNQUFBTixTQUFBLEtBTkEsT0FDQWxGLGFBQUFBLEdBTkFqSCxRQUNBQyxPQUFBLE9BQ0ErTSxRQUFBLGtCQUFBdkgsR2ZnckJFQSxFQUFnQmxGLFNBQVcsZ0JnQnJyQjdCLFdBQ0EsWUFNQSxTQUFBMk0sR0FBQXJELEVBQUFzRCxFQUFBdkksRUFBQXJDLEdBb0JBLFFBQUE2SyxLQUNBakksRUFBQWtJLE1BR0FDLElBRkFDLElBS0EsUUFBQUEsS0FDQSxHQUFBcEksRUFBQWlFLFNBQUEsQ0FDQSxHQUFBb0UsSUFBQUMsS0FBQXRJLEVBQUFpRSxTQUVBakUsR0FBQXVJLFNBQ0FGLEVBQUFySSxFQUFBd0ksUUFBQXhJLEVBQUF1SSxRQUVBbkwsRUFBQUMsZUFBQUMsTUFBQStLLEVBQUEsU0FBQXRLLEdBQ0FpQyxFQUFBaUUsU0FBQWxHLEVBQUFtRyxLQUNBbEUsRUFBQW1FLFNBQUFuRSxFQUFBbUUsU0FBQXNFLE9BQUExSyxFQUFBVyxZQUtBLFFBQUF5SixLQUNBLEdBQUFuSSxFQUFBb0UsY0FBQSxDQUNBLEdBQUFpRSxJQUFBQyxLQUFBdEksRUFBQW9FLGNBRUFwRSxHQUFBdUksU0FDQUYsRUFBQXJJLEVBQUF3SSxRQUFBeEksRUFBQXVJLFFBRUFuTCxFQUFBRyxvQkFBQUQsTUFBQStLLEVBQUEsU0FBQXRLLEdBQ0FpQyxFQUFBb0UsY0FBQXJHLEVBQUFtRyxLQUNBbEUsRUFBQXFFLGNBQUFyRSxFQUFBcUUsY0FBQW9FLE9BQUExSyxFQUFBVyxZQUtBLFFBQUFnSyxLQUNBMUksRUFBQWtJLE1BR0FTLElBRkFDLElBS0EsUUFBQUEsS0FDQSxHQUFBSixLQUNBQSxHQUFBeEksRUFBQXdJLFFBQUF4SSxFQUFBdUksT0FDQW5MLEVBQUFDLGVBQUFDLE1BQUFrTCxFQUFBLFNBQUF6SyxHQUNBaUMsRUFBQWlFLFNBQUFsRyxFQUFBbUcsS0FDQWxFLEVBQUFtRSxTQUFBcEcsRUFBQVcsVUFJQSxRQUFBaUssS0FDQSxHQUFBSCxLQUNBQSxHQUFBeEksRUFBQXdJLFFBQUF4SSxFQUFBdUksT0FDQW5MLEVBQUFHLG9CQUFBRCxNQUFBa0wsRUFBQSxTQUFBekssR0FDQWlDLEVBQUFvRSxjQUFBckcsRUFBQW1HLEtBQ0FsRSxFQUFBcUUsY0FBQXRHLEVBQUFXLFVBSUEsUUFBQW1LLEtBQ0E3SSxFQUFBdUksT0FBQSxLQUNBdkksRUFBQThJLFVBQUEsV0FBQTlJLEVBQUF3SSxPQUFBLE9BQUEsU0FDQXhJLEVBQUEwSSxTQUdBLFFBQUFLLEdBQUF0TCxFQUFBc0csR0FDQXRFLEVBQUFNLEdBQUEsbUJBQUFyQyxVQUFBRCxJQUdBLFFBQUFxRyxHQUFBckcsRUFBQXNHLEdBQ0FBLEVBQUFpRixrQkFDQXZKLEVBQUFNLEdBQUEsbUJBQUFyQyxVQUFBRCxJQUdBLFFBQUF3TCxHQUFBeEwsRUFBQXNHLEdBQ0FBLEVBQUFpRixrQkFDQUUsUUFBQUMsSUFBQSxvQkFoR0EsR0FBQW5KLEdBQUFDLElBRUFELEdBQUF3SSxPQUFBLFNBQ0F4SSxFQUFBOEksVUFBQSxPQUNBOUksRUFBQXVJLE9BQUEsS0FFQXZJLEVBQUEwSSxPQUFBQSxFQUNBMUksRUFBQTZJLFlBQUFBLEVBQ0E3SSxFQUFBK0ksWUFBQUEsRUFDQS9JLEVBQUE4RCxjQUFBQSxFQUNBOUQsRUFBQWlKLGNBQUFBLENBRUEsSUFBQUcsR0FBQTFFLEVBQUEyRSxJQUFBLGFBQUFwQixFQUVBRCxHQUFBcUIsSUFBQSxXQUFBLFdBQ0FELElBQ0FBLEVBQUEsT0FyQkF2TyxRQUNBQyxPQUFBLE9BQ0ErQixXQUFBLGdCQUFBa0wsR2hCK3hCRUEsRUFBYzNNLFNBQVcsYUFBYyxTQUFVLFNBQVUsc0JpQnB5QjdELFdBQ0EsWUFPQSxTQUFBa08sS0FDQSxPQUNBOUUsU0FBQSxJQUNBK0UsWUFBQSwrREFDQUMsT0FDQXJGLFNBQUEsWUFDQUYsU0FBQSxRQUNBSSxjQUFBLGlCQUNBRCxjQUFBLGNBR0F2SCxXQUFBLGdCQUNBQyxhQUFBLEtBQ0EyTSxrQkFBQSxHQWxCQTVPLFFBQ0FDLE9BQUEsT0FDQXFLLFVBQUEsZ0JBQUFtRSxNQ0xBLFdBQ0EsWUFNQSxTQUFBSSxHQUFBakssRUFBQWtLLEdBS0EsUUFBQVYsR0FBQXhMLEVBQUFzRyxHQUNBQSxFQUFBaUYsa0JBQ0FXLEVBQUEzRyxNQUNBdUcsWUFBQSw0RUFDQUssUUFBQW5NLEdBQUFBLEdBQ0FaLFdBQUEsb0JBQ0FDLGFBQUEsS0FDQTJNLGtCQUFBLEVBQ0FJLFlBQUE5RixFQUNBK0YscUJBQUEsSUFDQWhNLEtBQUEsY0FkQSxHQUFBa0MsR0FBQUMsSUFFQUQsR0FBQWlKLGNBQUFBLEVBUEFwTyxRQUNBQyxPQUFBLE9BQ0ErQixXQUFBLGdCQUFBNk0sR2xCdzFCRUEsRUFBY3RPLFNBQVcsU0FBVSxnQm1CNzFCckMsV0FDQSxZQU9BLFNBQUE2TixLQUNBLE9BQ0F6RSxTQUFBLElBQ0ErRSxZQUFBLHNFQUNBQyxPQUNBOUwsVUFBQSxZQUVBYixXQUFBLGdCQUNBQyxhQUFBLEtBQ0EyTSxrQkFBQSxHQWRBNU8sUUFDQUMsT0FBQSxPQUNBcUssVUFBQSxnQkFBQThELE1DTEEsV0FDQSxZQU1BLFNBQUFjLEdBQUF0SyxFQUFBa0ssRUFBQXZNLEdBS0EsUUFBQTRNLEdBQUF2TSxFQUFBc0csR0FDQUEsRUFBQWlGLGlCQUNBLElBQUFpQixHQUFBTixFQUFBTyxVQUNBQyxNQUFBLHFCQUNBakgsUUFBQSxpR0FDQWtILFVBQUEscUJBQ0FQLFlBQUE5RixHQUNBc0csR0FBQSxXQUNBQyxPQUFBLFlBQ0FSLHFCQUFBLEVBQ0FILEdBQUEzRyxLQUFBaUgsR0FBQW5NLEtBQUEsV0FDQXlNLEVBQUE5TSxLQUlBLFFBQUE4TSxHQUFBOU0sR0FDQSxHQUFBaUQsR0FBQXRELEVBQUFDLGVBQUFULEtBQUFhLEdBQUFBLEdBQUEsV0FDQWlELEVBQUE4SixLQUFBLEtBQ0E5SixFQUFBaUMsT0FBQThILHFCQUFBLElBQUEzTSxLQUFBLFdBQ0EsYUFBQTJCLEVBQUFpTCxRQUFBQyxLQUNBbEwsRUFBQW1MLGFBQUFuTCxFQUFBaUwsUUFBQSxNQUNBRyxRQUFBLEVBQ0FDLFNBQUEsRUFDQUMsUUFBQSxJQUlBdEwsRUFBQU0sR0FBQSxnQkEvQkEsR0FBQUMsR0FBQUMsSUFFQUQsR0FBQWdLLGVBQUFBLEVBUEFuUCxRQUNBQyxPQUFBLE9BQ0ErQixXQUFBLGlCQUFBa04sR3BCODVCRUEsRUFBZTNPLFNBQVcsU0FBVSxZQUFhLHNCcUJuNkJuRCxXQUNBLFlBT0EsU0FBQTRPLEtBQ0EsT0FDQXhGLFNBQUEsSUFDQStFLFlBQUEsd0VBQ0FDLE9BQ0E5TCxVQUFBLFlBRUFiLFdBQUEsaUJBQ0FDLGFBQUEsS0FDQTJNLGtCQUFBLEdBZEE1TyxRQUNBQyxPQUFBLE9BQ0FxSyxVQUFBLGlCQUFBNkUsTUNMQSxXQUNBLFlBTUEsU0FBQWdCLEdBQUF2TCxFQUFBa0ssRUFBQXZNLEdBTUEsUUFBQTZOLEtBQ0F0QixFQUFBVyxTQUVBLFFBQUFZLEdBQUF6TixHQUNBLEdBQUFpRCxHQUFBdEQsRUFBQUMsZUFBQVQsS0FBQWEsR0FBQUEsR0FBQSxXQUNBaUQsRUFBQThKLE1BQUFXLE9BQUFuTCxFQUFBb0wsV0FDQUMsV0FBQSxHQUFBdlAsT0FBQUcsc0JBQ0F5RSxFQUFBRSxjQUFBLEtBRUFGLEVBQUFpQyxPQUFBOEgscUJBQUEsSUFBQTNNLEtBQUEsV0FDQWtDLEVBQUFpTCxjQUNBLGFBQUF4TCxFQUFBaUwsUUFBQUMsS0FDQWxMLEVBQUFtTCxhQUFBbkwsRUFBQWlMLFFBQUEsTUFDQUcsUUFBQSxFQUNBQyxTQUFBLEVBQ0FDLFFBQUEsSUFJQXRMLEVBQUFNLEdBQUEsZ0JBeEJBLEdBQUFDLEdBQUFDLElBRUFELEdBQUFpTCxZQUFBQSxFQUNBakwsRUFBQWtMLGlCQUFBQSxFQVJBclEsUUFDQUMsT0FBQSxPQUNBK0IsV0FBQSxvQkFBQW1PLEd0Qjg5QkVBLEVBQWtCNVAsU0FBVyxTQUFVLFlBQWEiLCJmaWxlIjoiYWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXHJcbiAgICAndWkucm91dGVyJyxcclxuICAgICduZ1Jlc291cmNlJyxcclxuICAgICduZ01hdGVyaWFsJyxcclxuICAgICd1aUdtYXBnb29nbGUtbWFwcycsXHJcbiAgICAnbmdNZXNzYWdlcydcclxuICBdKTtcclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoZ29vZ2xlTWFwQVBJKTtcclxuXHJcbiAgZnVuY3Rpb24gZ29vZ2xlTWFwQVBJKHVpR21hcEdvb2dsZU1hcEFwaVByb3ZpZGVyKXtcclxuICAgIHVpR21hcEdvb2dsZU1hcEFwaVByb3ZpZGVyLmNvbmZpZ3VyZSh7XHJcbiAgICAgICAgbGlicmFyaWVzOiAnd2VhdGhlcixnZW9tZXRyeSx2aXN1YWxpemF0aW9uJ1xyXG4gICAgfSk7ICAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IixudWxsLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhkYXRlUGlja2VyQ29uZmlnKTtcclxuXHJcbiAgZnVuY3Rpb24gZGF0ZVBpY2tlckNvbmZpZygkbWREYXRlTG9jYWxlUHJvdmlkZXIpIHtcclxuXHJcbiAgICAkbWREYXRlTG9jYWxlUHJvdmlkZXIubW9udGhzID0gWydlbmVybycsICdmZWJyZXJvJywgJ21hcnpvJywgJ2FicmlsJywgJ21heW8nLCAnanVuaW8nLCAnanVsaW8nLCAnYWdvc3RvJywgJ3NlcHRpZW1icmUnLCAnb2N0dWJyZScsICdub3ZpZW1icmUnLCAnZGljaWVtYnJlJ107XHJcbiAgICAkbWREYXRlTG9jYWxlUHJvdmlkZXIuc2hvcnRNb250aHMgPSBbJ2VuZScsICdmZWInLCAnbWFyJywgJ2FicicsICdtYXknLCAnanVuJywgJ2p1bCcsICdhZ28nLCAnc2VwJywgJ29jdCcsICdub3YnLCAnZGljJ107XHJcbiAgICAkbWREYXRlTG9jYWxlUHJvdmlkZXIuZGF5cyA9IFsnbHVuZXMnLCAnbWFydGVzJywgJ21pw6lyY29sZXMnLCAnanVldmVzJywgJ3ZpZXJuZXMnLCAnc8OhYmFkbycsICdkb21pbmdvJ107XHJcbiAgICAkbWREYXRlTG9jYWxlUHJvdmlkZXIuc2hvcnREYXlzID0gWydsdW4nLCAnbWFyJywgJ21pw6knLCAnanVlJywgJ3ZpZScsICdzw6FiJywgJ2RvbSddO1xyXG5cclxuICAgICRtZERhdGVMb2NhbGVQcm92aWRlci5maXJzdERheU9mV2VlayA9IDE7XHJcbiAgICBcclxuICAgICRtZERhdGVMb2NhbGVQcm92aWRlci5wYXJzZURhdGUgPSBmdW5jdGlvbihkYXRlU3RyaW5nKSB7XHJcbiAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlU3RyaW5nKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgICRtZERhdGVMb2NhbGVQcm92aWRlci5mb3JtYXREYXRlID0gZnVuY3Rpb24oZGF0ZSkge1xyXG4gICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZSkudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XHJcbiAgICB9O1xyXG5cclxuICB9XHJcblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xyXG5cclxuICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCIvXCIpO1xyXG5cclxuICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgIC5zdGF0ZShcImhvbWVcIiwge1xyXG4gICAgICAgIHVybDogXCIvXCIsXHJcbiAgICAgICAgdGVtcGxhdGU6ICc8cCBjbGFzcz1cImxlYWRcIj5XZWxjb21lIHRvIHRoZSBVSS1Sb3V0ZXIgRGVtbzwvcD4nICtcclxuICAgICAgICAgICc8cD5Vc2UgdGhlIG1lbnUgYWJvdmUgdG8gbmF2aWdhdGUuICcgK1xyXG4gICAgICAgICAgJ1BheSBhdHRlbnRpb24gdG8gdGhlIDxjb2RlPiRzdGF0ZTwvY29kZT4gYW5kIDxjb2RlPiRzdGF0ZVBhcmFtczwvY29kZT4gdmFsdWVzIGJlbG93LjwvcD4nICtcclxuICAgICAgICAgICc8cD5DbGljayB0aGVzZSBsaW5rc+KAlDxhIGhyZWY9XCIjL2M/aWQ9MVwiPkFsaWNlPC9hPiBvciAnICtcclxuICAgICAgICAgICc8YSBocmVmPVwiIy91c2VyLzQyXCI+Qm9iPC9hPuKAlHRvIHNlZSBhIHVybCByZWRpcmVjdCBpbiBhY3Rpb24uPC9wPidcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyh0aGVtZUFuZ3VsYXJNYXRlcmlhbCk7XHJcblxyXG4gIGZ1bmN0aW9uIHRoZW1lQW5ndWxhck1hdGVyaWFsKCRtZFRoZW1pbmdQcm92aWRlcil7XHJcbiAgICBcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGNvbmZpZyk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xyXG4gICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgLnN0YXRlKCdjb2ZyYWRlcycsIHtcclxuICAgICAgICB1cmw6IFwiL2NvZnJhZGVzXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdjb2ZyYWRlcy9saXN0L2NvZnJhZGVzLmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnQ29mcmFkZXMnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIGNvZnJhZGVzUHJlcFNlcnZpY2U6IGNvZnJhZGVzUHJlcFNlcnZpY2UsXHJcbiAgICAgICAgICAgIGNvZnJhZGVzQmFqYXNQcmVwU2VydmljZTogY29mcmFkZXNCYWphc1ByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuc3RhdGUoJ2NvZnJhZGVzRGV0YWxsZScsIHtcclxuICAgICAgICB1cmw6IFwiL2NvZnJhZGVzLzpjb2ZyYWRlSWRcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2NvZnJhZGVzL2RldGFpbC9jb2ZyYWRlRGV0YWxsZS5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0NvZnJhZGVEZXRhbGxlJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBnZXRDb2ZyYWRlUHJlcFNlcnZpY2U6IGdldENvZnJhZGVQcmVwU2VydmljZSxcclxuICAgICAgICAgICAgZ2V0TWFwc1ByZXBTZXJ2aWNlOiBnZXRNYXBzUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pLlxyXG4gICAgICBzdGF0ZSgnY29mcmFkZXNDYW1iaW9zJywge1xyXG4gICAgICAgIHVybDogXCIvY29mcmFkZXMvbnVldm9zLzpjb2ZyYWRlSWRcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2NvZnJhZGVzL2FkZC9jb2ZyYWRlTnVldm8uaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb2ZyYWRlTnVldm8nLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIGdldENvZnJhZGVQcmVwU2VydmljZTogZ2V0Q29mcmFkZVByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNvZnJhZGVzUHJlcFNlcnZpY2UoY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzUmVzdCgpLnF1ZXJ5KCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjb2ZyYWRlc0JhamFzUHJlcFNlcnZpY2UoY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzQmFqYXNSZXN0KCkucXVlcnkoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldENvZnJhZGVQcmVwU2VydmljZShjb2ZyYWRlc1NlcnZpY2UsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgcmV0dXJuICgkc3RhdGVQYXJhbXMuY29mcmFkZUlkKSA/IGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5nZXQoe2lkOiAkc3RhdGVQYXJhbXMuY29mcmFkZUlkfSkgOiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gZ2V0TWFwc1ByZXBTZXJ2aWNlKHVpR21hcEdvb2dsZU1hcEFwaSwgZ2V0Q29mcmFkZVByZXBTZXJ2aWNlLCBtYXBhc1NlcnZpY2UpIHtcclxuICAgIHJldHVybiBnZXRDb2ZyYWRlUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgXHJcbiAgICAgIHZhciBhZGRyZXNzID0gZGF0YS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLmNhbGxlICAgICArICcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLm51bWVybyAgICArICcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLm11bmljaXBpbyArICcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLnByb3ZpbmNpYSArICcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLmNwO1xyXG5cclxuICAgICAgcmV0dXJuIG1hcGFzU2VydmljZS5nZW9Db2RpbmdBUEkoYWRkcmVzcykuXHJcbiAgICAgICAgdGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5yZXN1bHRzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgIHZhciBjb29yZGluYXRlcyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbjtcclxuICAgICAgICAgICAgcmV0dXJuIHVpR21hcEdvb2dsZU1hcEFwaS50aGVuKGZ1bmN0aW9uKG1hcHMpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gIHtjb29yZDogIHsgbGF0aXR1ZGU6IGNvb3JkaW5hdGVzLmxhdCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBjb29yZGluYXRlcy5sbmcgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXI6IHsgbGF0aXR1ZGU6IGNvb3JkaW5hdGVzLmxhdCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBjb29yZGluYXRlcy5sbmcgfSxcclxuICAgICAgICAgICAgICAgICAgICAgIHpvb206IDE3IH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIFxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQXBwQ3RybCcsIEFwcEN0cmwpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gQXBwQ3RybCgkbWRTaWRlbmF2LCAkc3RhdGUpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICB2bS50b2dnbGVTaWRlbmF2ID0gdG9nZ2xlU2lkZW5hdjtcclxuICAgIHZtLm5hdmlnYXRlVG8gICAgPSBuYXZpZ2F0ZVRvO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiB0b2dnbGVTaWRlbmF2KG1lbnVJZCkge1xyXG4gICAgICAkbWRTaWRlbmF2KG1lbnVJZCkudG9nZ2xlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmF2aWdhdGVUbyh0bywgbWVudUlkKXtcclxuICAgICAgdG9nZ2xlU2lkZW5hdihtZW51SWQpO1xyXG4gICAgICAkc3RhdGUuZ28odG8pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0NvZnJhZGVOdWV2bycsIENvZnJhZGVOdWV2byk7XHJcblxyXG4gIGZ1bmN0aW9uIENvZnJhZGVOdWV2bygkZmlsdGVyLCAkZG9jdW1lbnQsICRtZFRvYXN0LCAkc3RhdGUsIGdldENvZnJhZGVQcmVwU2VydmljZSwgY29mcmFkZXNTZXJ2aWNlLCBzZWN0b3Jlc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLm51ZXZhQ2FsbGUgPSB0cnVlO1xyXG4gICAgdm0uY29mcmFkZSA9IHtkYXRvc0ZpbmFuY2llcm9zOiB7Y3VlbnRhOiB7fSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXVkYTogW119LFxyXG4gICAgICAgICAgICAgICAgICBkYXRvc1BlcnNvbmFsZXM6ICB7ZGlyZWNjaW9uOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNleG86IFwiSG9tYnJlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWNoYUluc2NyaXBjaW9uOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVjaGFOYWNpbWllbnRvOiBuZXcgRGF0ZSgpfVxyXG4gICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgdm0uYmFja1N0YXRlICAgICAgICAgID0gYmFja1N0YXRlO1xyXG4gICAgdm0ucXVlcnlTZWFyY2ggICAgICAgID0gcXVlcnlTZWFyY2g7XHJcbiAgICB2bS5zZWxlY3RlZEl0ZW1DaGFuZ2UgPSBzZWxlY3RlZEl0ZW1DaGFuZ2U7XHJcbiAgICB2bS5jYWxjdWxhckNDICAgICAgICAgPSBjYWxjdWxhckNDO1xyXG4gICAgdm0uY2FsY3VsYXJJYmFuICAgICAgID0gY2FsY3VsYXJJYmFuO1xyXG4gICAgdm0uZ3VhcmRhciAgICAgICAgICAgID0gZ3VhcmRhcjtcclxuXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICBpZiAoZ2V0Q29mcmFkZVByZXBTZXJ2aWNlKXtcclxuICAgICAgICBnZXRDb2ZyYWRlUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihpbml0Q29mcmFkZSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICBjb2ZyYWRlc1NlcnZpY2UuZ2V0UmVnaXN0cm9zKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5jb2ZyYWRlLm51bWVyb09yZGVuID0gcmVzcG9uc2UuZGF0YS5udW1lcm9PcmRlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmNvZnJhZGUubnVtZXJvQ29mcmFkZSA9IHJlc3BvbnNlLmRhdGEubnVtZXJvQ29mcmFkZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbml0Q29mcmFkZShkYXRhKSB7XHJcbiAgICAgIHZtLmNvZnJhZGUgPSBkYXRhO1xyXG4gICAgICB2bS5jYWxsZVNlbGVjdGVkID0ge2NhbGxlOiB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY2FsbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3A6IHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aW5jaWE6IHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5wcm92aW5jaWEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbXVuaWNpcGlvOiB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ubXVuaWNpcGlvfTtcclxuICAgICAgc2VhcmNoU2VjdG9yKHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jYWxsZSk7XHJcblxyXG4gICAgICB2bS5mZWNoYU5hY2ltaWVudG8gPSB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5mZWNoYU5hY2ltaWVudG87XHJcbiAgICAgIHZtLmZlY2hhSW5zY3JpcGNpb24gPSB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5mZWNoYUluc2NyaXBjaW9uO1xyXG4gICAgICB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MgPSB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MgfHwge2N1ZW50YToge30sIGRldWRhOiBbXX07XHJcbiAgICAgIHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEgPSB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhIHx8IHt9O1xyXG4gICAgICB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuZGV1ZGEgPSB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuZGV1ZGEgfHwgW107XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGJhY2tTdGF0ZSgpIHtcclxuICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHF1ZXJ5U2VhcmNoKHF1ZXJ5KSB7XHJcbiAgICAgIHJldHVybiBjb2ZyYWRlc1NlcnZpY2UuZ2V0Q2FsbGVzKHF1ZXJ5KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UuZGF0YTt9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWxlY3RlZEl0ZW1DaGFuZ2UoaXRlbSkge1xyXG4gICAgICBpZiAoaXRlbSl7XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLmNhbGxlID0gaXRlbS5jYWxsZTtcclxuICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ubXVuaWNpcGlvID0gaXRlbS5tdW5pY2lwaW87XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLmNwID0gaXRlbS5jcDtcclxuICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ucHJvdmluY2lhID0gaXRlbS5wcm92aW5jaWE7XHJcbiAgICAgICAgc2VhcmNoU2VjdG9yKGl0ZW0uY2FsbGUpO1xyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY2FsbGUgPSBudWxsO1xyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5tdW5pY2lwaW8gPSBudWxsO1xyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jcCA9IG51bGw7XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLnByb3ZpbmNpYSA9IG51bGw7XHJcbiAgICAgICAgdm0uc2VjdG9yID0gbnVsbDtcclxuICAgICAgICB2bS5udWV2YUNhbGxlID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzZWFyY2hTZWN0b3IoY2FsbGUpIHtcclxuICAgICAgc2VjdG9yZXNTZXJ2aWNlLnNlY3RvcmVzUmVzdCgpLnF1ZXJ5KHtjYWxsZTogY2FsbGV9LCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5zZWN0b3IgPSBkYXRhWzBdLm51bWVyb1NlY3RvcjtcclxuICAgICAgICB2bS5udWV2YUNhbGxlID0gZmFsc2U7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNhbGN1bGFyQ0MoKSB7XHJcbiAgICAgIGlmICh2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhLmliYW4pXHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5jYyA9ICRmaWx0ZXIoJ2NhbGN1bGFyQ0MnKSh2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhLmliYW4pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNhbGN1bGFySWJhbigpIHtcclxuICAgICAgaWYgKHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuY2MpXHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5pYmFuID0gJGZpbHRlcignY2FsY3VsYXJJYmFuJykodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5jYyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhcihpc1ZhbGlkKSB7XHJcbiAgICAgIGlmKGlzVmFsaWQpe1xyXG4gICAgICAgIHZhciBkYXRvc0ZpbmFuY2llcm9zID0ge2N1ZW50YToge30sIGRldWRhOiBbXX07XHJcblxyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jYWxsZSA9IHZtLnNlYXJjaFRleHQ7XHJcblxyXG4gICAgICAgIGlmIChKU09OLnN0cmluZ2lmeSh2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MpID09PSBKU09OLnN0cmluZ2lmeShkYXRvc0ZpbmFuY2llcm9zKSlcclxuICAgICAgICAgIGRlbGV0ZSB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3M7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIENvZnJhZGVSZXNvdXJjZSA9IGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKTtcclxuICAgICAgICBpZih2bS5udWV2YUNhbGxlKVxyXG4gICAgICAgICAgZ3VhcmRhckNhbGxlKCk7XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgIENvZnJhZGVSZXNvdXJjZS5zYXZlKHZtLmNvZnJhZGUsIGd1YXJkYXJTdWNjZXNzLCBndWFyZGFyRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlXHJcbiAgICAgICAgc2hvd0FjdGlvblRvYXN0KCk7XHJcbiAgICAgIFxyXG4gICAgICBmdW5jdGlvbiBndWFyZGFyQ2FsbGUoKSB7XHJcbiAgICAgICAgc2VjdG9yZXNTZXJ2aWNlLnNlY3RvcmVzUmVzdCgpLmdldCh7c2VjdG9yOiB2bS5zZWN0b3J9LCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIHZhciBzZWN0b3JSZXNvdXJjZSA9ICBkYXRhWzBdO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZihzZWN0b3JSZXNvdXJjZSl7XHJcbiAgICAgICAgICAgIHNlY3RvclJlc291cmNlLmNhbGxlcy5wdXNoKHZtLnNlYXJjaFRleHQpO1xyXG4gICAgICAgICAgICBzZWN0b3JSZXNvdXJjZS4kc2F2ZSgpO1xyXG4gICAgICAgICAgICBDb2ZyYWRlUmVzb3VyY2Uuc2F2ZSh2bS5jb2ZyYWRlLCBndWFyZGFyU3VjY2VzcywgZ3VhcmRhckVycm9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgICAgICAgIC5jb250ZW50KCdFbCBzZWN0b3IgJyArdm0uc2VjdG9yKyAnIG5vIGV4aXN0ZSEhJylcclxuICAgICAgICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhclN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0d1YXJkYWRvIGNvbiDDqXhpdG8hIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICk7XHJcbiAgICAgICRzdGF0ZS5nbygnY29mcmFkZXMnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyRXJyb3IocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0Vycm9yIGFsIGd1YXJkYXIhIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2hvd0FjdGlvblRvYXN0KCkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXhpc3RlbiBlcnJvcmVzIGVuIGVsIGZvcm11bGFyaW8nKVxyXG4gICAgICAgICAgLmFjdGlvbignT0snKVxyXG4gICAgICAgICAgLmhpZ2hsaWdodEFjdGlvbihmYWxzZSlcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0NvZnJhZGVEZXRhbGxlJywgQ29mcmFkZURldGFsbGUpO1xyXG5cclxuICBmdW5jdGlvbiBDb2ZyYWRlRGV0YWxsZSgkc3RhdGUsICRmaWx0ZXIsIGdldENvZnJhZGVQcmVwU2VydmljZSwgZ2V0TWFwc1ByZXBTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLmNvZnJhZGUgPSBudWxsO1xyXG4gICAgdm0ubWFwcyA9IG51bGw7XHJcbiAgICBcclxuICAgIHZtLm1vZGlmeUNvZnJhZGUgPSBtb2RpZnlDb2ZyYWRlO1xyXG4gICAgXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICByZXR1cm4gZ2V0Q29mcmFkZVByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0uY29mcmFkZSA9IGRhdGE7XHJcbiAgICAgICAgaWYodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zKVxyXG4gICAgICAgICAgaWYodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YSl7XHJcbiAgICAgICAgICAgIHZtLmliYW4gPSAkZmlsdGVyKCdwYXJzZUliYW4nKSh2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhLmliYW4pO1xyXG4gICAgICAgICAgICB2bS5jYyA9ICRmaWx0ZXIoJ3BhcnNlQ0MnKSh2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhLmNjKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB2bS5tYXBzID0gZ2V0TWFwc1ByZXBTZXJ2aWNlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtb2RpZnlDb2ZyYWRlKGlkLCBldmVudCl7XHJcbiAgICAgICRzdGF0ZS5nbygnY29mcmFkZXNDYW1iaW9zJywge2NvZnJhZGVJZDogaWR9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdDb2ZyYWRlcycsIENvZnJhZGVzKTtcclxuXHJcbiAgZnVuY3Rpb24gQ29mcmFkZXMoY29mcmFkZXNQcmVwU2VydmljZSwgY29mcmFkZXNCYWphc1ByZXBTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5jb2ZyYWRlcyA9IG51bGw7XHJcbiAgICB2bS5uZXh0UGFnZSA9IG51bGw7XHJcbiAgICB2bS5jb2ZyYWRlc0JhamFzID0gbnVsbDtcclxuICAgIHZtLm5leHRQYWdlQmFqYXMgPSBudWxsO1xyXG4gICAgdm0uc2VsZWN0ZWRUYWIgPSAwO1xyXG4gICAgYWN0aXZhdGUoKTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIGNvZnJhZGVzUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5uZXh0UGFnZSA9IGRhdGEubmV4dDtcclxuICAgICAgICB2bS5jb2ZyYWRlcyA9IGRhdGEucmVzdWx0cztcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gY29mcmFkZXNCYWphc1ByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0ubmV4dFBhZ2VCYWphcyA9IGRhdGEubmV4dDtcclxuICAgICAgICB2bS5jb2ZyYWRlc0JhamFzID0gZGF0YS5yZXN1bHRzO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnc2Nyb2xseScsIHNjcm9sbHkpO1xyXG5cclxuICBmdW5jdGlvbiBzY3JvbGx5KCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgbGluazogZnVuY3Rpb24gKCRyb290U2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgdmFyIHJhdyA9IGVsZW1lbnRbMF07XHJcbiAgICAgICAgZWxlbWVudC5iaW5kKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBpZiAocmF3LnNjcm9sbFRvcCArIHJhdy5vZmZzZXRIZWlnaHQgPj0gcmF3LnNjcm9sbEhlaWdodC01KSB7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoXCJzY3JvbGxEb3duXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmlsdGVyKCdwYXJzZUliYW4nLCBwYXJzZUliYW4pXHJcbiAgICAuZmlsdGVyKCdwYXJzZUNDJywgcGFyc2VDQylcclxuICAgIC5maWx0ZXIoJ2NhbGN1bGFySWJhbicsIGNhbGN1bGFySWJhbilcclxuICAgIC5maWx0ZXIoJ2NhbGN1bGFyQ0MnLCBjYWxjdWxhckNDKTtcclxuXHJcbiAgZnVuY3Rpb24gcGFyc2VJYmFuKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpYmFuKSB7XHJcbiAgICAgIGliYW4gPSBpYmFuIHx8ICcnO1xyXG4gICAgICB2YXIgZm9ybWF0dGVkSWJhbiA9ICcnO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpYmFuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGkgPiAwICYmIGkgJSA0ID09PSAwKSB7XHJcbiAgICAgICAgICBmb3JtYXR0ZWRJYmFuICs9ICcgJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9ybWF0dGVkSWJhbiArPSBpYmFuW2ldO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmb3JtYXR0ZWRJYmFuO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHBhcnNlQ0MoKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNjKSB7XHJcbiAgICAgIGNjID0gY2MgfHwgJyc7XHJcbiAgICAgIHZhciBmb3JtYXR0ZWRDQyA9ICcnO1xyXG5cclxuICAgICAgZm9ybWF0dGVkQ0MgPSBjYy5zdWJzdHIoMCwgNCkgKyAnLSc7XHJcbiAgICAgIGZvcm1hdHRlZENDICs9IGNjLnN1YnN0cig0LCA0KSArICctJztcclxuICAgICAgZm9ybWF0dGVkQ0MgKz0gY2Muc3Vic3RyKDgsIDIpICsgJy0nO1xyXG4gICAgICBmb3JtYXR0ZWRDQyArPSBjYy5zdWJzdHIoMTAsIDEwKTtcclxuXHJcbiAgICAgIHJldHVybiBmb3JtYXR0ZWRDQztcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjYWxjdWxhckNDKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpYmFuKSB7XHJcbiAgICAgIGliYW4gPSBpYmFuIHx8ICcnO1xyXG4gICAgICByZXR1cm4gaWJhbi5zdWJzdHIoNCwgMjApO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNhbGN1bGFySWJhbigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoY2NjKSB7XHJcbiAgICAgIHZhciBwYWlzID0gXCJFU1wiO1xyXG4gICAgICB2YXIgY2lmcmFzID0gY2NjICsgdmFsb3JDaWZyYXMocGFpcykgKyBcIjAwXCI7XHJcbiAgICAgIHZhciByZXN0byA9IG1vZHVsbyhjaWZyYXMsIDk3KTtcclxuICAgICAgcmV0dXJuIHBhaXMgKyBjZXJvc0l6cXVpZXJkYSg5OC1yZXN0bywgMikgKyBjY2M7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHZhbG9yQ2lmcmFzKGNpZnJhcykge1xyXG4gICAgICB2YXIgTEVUUkFTID0gXCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIjtcclxuICAgICAgdmFyIGl0ZW1zID0gW107XHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxjaWZyYXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgcG9zaWNpb24gPSBMRVRSQVMuaW5kZXhPZihjaWZyYXNbaV0pO1xyXG4gICAgICAgIGl0ZW1zLnB1c2gocG9zaWNpb24gPCAwPyBcIi1cIjogcG9zaWNpb24pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBpdGVtcy5qb2luKFwiXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZHVsbyhjaWZyYXMsIGRpdmlzb3IpIHtcclxuICAgICAgdmFyIENVRU5UQSA9IDEwO1xyXG4gICAgICB2YXIgbGFyZ28gPSBjaWZyYXMubGVuZ3RoO1xyXG4gICAgICB2YXIgcmVzdG8gPSAwO1xyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8bGFyZ287IGkrPUNVRU5UQSkge1xyXG4gICAgICAgIHZhciBkaXZpZGVuZG8gPSByZXN0byArIFwiXCIgKyBjaWZyYXMuc3Vic3RyKGksIENVRU5UQSk7XHJcbiAgICAgICAgcmVzdG8gPSBkaXZpZGVuZG8gJSBkaXZpc29yO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXN0bztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjZXJvc0l6cXVpZXJkYShjaWZyYXMsIGxhcmdvKSB7XHJcbiAgICAgIGNpZnJhcyArPSAnJztcclxuICAgICAgd2hpbGUoY2lmcmFzLmxlbmd0aCA8IGxhcmdvKSB7IGNpZnJhcyA9ICcwJytjaWZyYXM7IH1cclxuICAgICAgcmV0dXJuIGNpZnJhcztcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmlsdGVyKCdzdHJpbmdUb0RhdGVGb3JtYXQnLCBzdHJpbmdUb0RhdGVGb3JtYXQpXHJcbiAgICAuZmlsdGVyKCdmb3JtYXREYXRlcycsIGZvcm1hdERhdGVzKTtcclxuXHJcbiAgZnVuY3Rpb24gc3RyaW5nVG9EYXRlRm9ybWF0KCl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGRhdGEuZGF0b3NQZXJzb25hbGVzLmZlY2hhTmFjaW1pZW50byAgPSBuZXcgRGF0ZShkYXRhLmRhdG9zUGVyc29uYWxlcy5mZWNoYU5hY2ltaWVudG8pLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gICAgICBkYXRhLmRhdG9zUGVyc29uYWxlcy5mZWNoYUluc2NyaXBjaW9uID0gbmV3IERhdGUoZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFJbnNjcmlwY2lvbikudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGZvcm1hdERhdGVzKCl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIHZhciBkYXRlID0gZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFOYWNpbWllbnRvLnNwbGl0KFwiL1wiKTtcclxuICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFOYWNpbWllbnRvICA9IGRhdGVbMl0gKyAnLScgKyBkYXRlWzFdICsgJy0nICsgZGF0ZVswXTtcclxuICAgICAgZGF0ZSA9IGRhdGEuZGF0b3NQZXJzb25hbGVzLmZlY2hhSW5zY3JpcGNpb24uc3BsaXQoXCIvXCIpO1xyXG4gICAgICBkYXRhLmRhdG9zUGVyc29uYWxlcy5mZWNoYUluc2NyaXBjaW9uID0gZGF0ZVsyXSArICctJyArIGRhdGVbMV0gKyAnLScgKyBkYXRlWzBdO1xyXG4gICAgICByZXR1cm4gZGF0YTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5maWx0ZXIoJ3JlbW92ZU51bGxzJywgcmVtb3ZlTnVsbHMpO1xyXG5cclxuICBmdW5jdGlvbiByZW1vdmVOdWxscygpe1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iail7XHJcbiAgICAgIHZhciBpc0FycmF5ID0gb2JqIGluc3RhbmNlb2YgQXJyYXk7XHJcbiAgICAgIGZvciAodmFyIGsgaW4gb2JqKXtcclxuICAgICAgICBpZiAob2JqW2tdPT09bnVsbCkgaXNBcnJheSA/IG9iai5zcGxpY2UoaywxKSA6IGRlbGV0ZSBvYmpba107XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9ialtrXT09XCJvYmplY3RcIikgcmVtb3ZlTnVsbHMob2JqW2tdKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gb2JqO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ2NvZnJhZGVzU2VydmljZScsIGNvZnJhZGVzU2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvZnJhZGVzU2VydmljZSgkcmVzb3VyY2UsICRodHRwLCAkZmlsdGVyKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjb2ZyYWRlc1Jlc3Q6IGNvZnJhZGVzUmVzdCxcclxuICAgICAgY29mcmFkZXNCYWphc1Jlc3Q6IGNvZnJhZGVzQmFqYXNSZXN0LFxyXG4gICAgICBnZXRDYWxsZXM6IGdldENhbGxlcyxcclxuICAgICAgZ2V0UmVnaXN0cm9zOiBnZXRSZWdpc3Ryb3NcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gY29mcmFkZXNSZXN0KCkge1xyXG4gICAgICByZXR1cm4gJHJlc291cmNlKCdodHRwOi8vMTI3LjAuMC4xOjUwNTAvYXBpL2NvZnJhZGVzLzppZC5qc29uOmpzb24nLCBudWxsLCB7XHJcbiAgICAgICAgJ3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6IGZhbHNlfSxcclxuICAgICAgICAnZ2V0JzogICAge21ldGhvZDonR0VUJywgdHJhbnNmb3JtUmVzcG9uc2U6IGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRmaWx0ZXIoJ3N0cmluZ1RvRGF0ZUZvcm1hdCcpKGFuZ3VsYXIuZnJvbUpzb24oZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICdzYXZlJzogICB7bWV0aG9kOidQT1NUJywgdHJhbnNmb3JtUmVxdWVzdDogZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci50b0pzb24oJGZpbHRlcignZm9ybWF0RGF0ZXMnKSgkZmlsdGVyKCdyZW1vdmVOdWxscycpKGRhdGEpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvZnJhZGVzQmFqYXNSZXN0KCkge1xyXG4gICAgICByZXR1cm4gJHJlc291cmNlKCdodHRwOi8vMTI3LjAuMC4xOjUwNTAvYXBpL2NvZnJhZGVzQmFqYXMvOmlkLmpzb246anNvbicsIG51bGwsIHsncXVlcnknOiAge21ldGhvZDonR0VUJywgaXNBcnJheTpmYWxzZX19KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDYWxsZXMoY2FsbGUpIHtcclxuICAgICAgcmV0dXJuICRodHRwLmdldCgnaHR0cDovLzEyNy4wLjAuMTo1MDUwL2FwaS9jYWxsZXMvJywge3BhcmFtczoge2NhbGxlOiBjYWxsZX19KS5cclxuICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLmZyb21Kc29uKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRSZWdpc3Ryb3MoKSB7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6NTA1MC9hcGkvcmVnaXN0cm9zLycpLlxyXG4gICAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZnJvbUpzb24ocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ21hcGFzU2VydmljZScsIG1hcGFzU2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIG1hcGFzU2VydmljZSgkaHR0cCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZ2VvQ29kaW5nQVBJOiBnZW9Db2RpbmdBUElcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gZ2VvQ29kaW5nQVBJKGFkZHJlc3MpIHtcclxuICAgICAgcmV0dXJuICRodHRwLmdldCgnaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2dlb2NvZGUvanNvbicsIHtwYXJhbXM6IHthZGRyZXNzOiBhZGRyZXNzLCBrZXk6IFwiQUl6YVN5RENfT0lEU2w2Y3VyakNNQ0x5em4yeWhNbWctZXI1a25JXCJ9fSkuXHJcbiAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgfSk7XHJcbiAgICB9ICAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdzZWN0b3Jlc1NlcnZpY2UnLCBzZWN0b3Jlc1NlcnZpY2UpO1xyXG5cclxuICBmdW5jdGlvbiBzZWN0b3Jlc1NlcnZpY2UoJHJlc291cmNlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzZWN0b3Jlc1Jlc3Q6IHNlY3RvcmVzUmVzdFxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZWN0b3Jlc1Jlc3QoKSB7XHJcbiAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2h0dHA6Ly8xMjcuMC4wLjE6NTA1MC9hcGkvc2VjdG9yZXMvOmlkLmpzb246anNvbicsIG51bGwsIHtcclxuICAgICAgICAnZ2V0JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6IHRydWV9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0xpc3RhQ29mcmFkZXMnLCBMaXN0YUNvZnJhZGVzKTtcclxuXHJcbiAgZnVuY3Rpb24gTGlzdGFDb2ZyYWRlcygkcm9vdFNjb3BlLCAkc2NvcGUsICRzdGF0ZSwgY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5maWx0cm8gICAgPSAnbm9tYnJlJztcclxuICAgIHZtLnR5cGVJbnB1dCA9ICd0ZXh0JztcclxuICAgIHZtLmJ1c2NhciAgICA9IG51bGw7XHJcblxyXG4gICAgdm0uc2VhcmNoICAgICAgICAgPSBzZWFyY2g7XHJcbiAgICB2bS5yYWRpb0NoYW5nZSAgICA9IHJhZGlvQ2hhbmdlO1xyXG4gICAgdm0uZ29Ub0NvZnJhZGUgICAgPSBnb1RvQ29mcmFkZTtcclxuICAgIHZtLm1vZGlmeUNvZnJhZGUgID0gbW9kaWZ5Q29mcmFkZTtcclxuICAgIHZtLnJlbW92ZUNvZnJhZGUgID0gcmVtb3ZlQ29mcmFkZTtcclxuXHJcbiAgICB2YXIgaGFuZGxlciA9ICRyb290U2NvcGUuJG9uKCdzY3JvbGxEb3duJywgZ2V0TmV4dFBhZ2UpO1xyXG5cclxuICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGhhbmRsZXIoKTtcclxuICAgICAgaGFuZGxlciA9IG51bGw7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXROZXh0UGFnZSgpIHtcclxuICAgICAgaWYgKCF2bS5iYWphcylcclxuICAgICAgICBnZXROZXh0UGFnZUFsdGFzKCk7XHJcbiAgICAgIGVsc2VcclxuICAgICAgICBnZXROZXh0UGFnZUJhamFzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TmV4dFBhZ2VBbHRhcygpIHtcclxuICAgICAgaWYgKHZtLm5leHRQYWdlKXtcclxuICAgICAgICB2YXIgcGFyYW1ldGVycyA9IHtwYWdlOiB2bS5uZXh0UGFnZX07XHJcblxyXG4gICAgICAgIGlmICh2bS5idXNjYXIpXHJcbiAgICAgICAgICBwYXJhbWV0ZXJzW3ZtLmZpbHRyb10gPSB2bS5idXNjYXI7XHJcblxyXG4gICAgICAgIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5xdWVyeShwYXJhbWV0ZXJzLCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIHZtLm5leHRQYWdlID0gZGF0YS5uZXh0O1xyXG4gICAgICAgICAgdm0uY29mcmFkZXMgPSB2bS5jb2ZyYWRlcy5jb25jYXQoZGF0YS5yZXN1bHRzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldE5leHRQYWdlQmFqYXMoKSB7XHJcbiAgICAgIGlmICh2bS5uZXh0UGFnZUJhamFzKXtcclxuICAgICAgICB2YXIgcGFyYW1ldGVycyA9IHtwYWdlOiB2bS5uZXh0UGFnZUJhamFzfTtcclxuXHJcbiAgICAgICAgaWYgKHZtLmJ1c2NhcilcclxuICAgICAgICAgIHBhcmFtZXRlcnNbdm0uZmlsdHJvXSA9IHZtLmJ1c2NhcjtcclxuXHJcbiAgICAgICAgY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzQmFqYXNSZXN0KCkucXVlcnkocGFyYW1ldGVycywgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICB2bS5uZXh0UGFnZUJhamFzID0gZGF0YS5uZXh0O1xyXG4gICAgICAgICAgdm0uY29mcmFkZXNCYWphcyA9IHZtLmNvZnJhZGVzQmFqYXMuY29uY2F0KGRhdGEucmVzdWx0cyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWFyY2goKSB7XHJcbiAgICAgIGlmICghdm0uYmFqYXMpXHJcbiAgICAgICAgc2VhcmNoQWx0YXMoKTtcclxuICAgICAgZWxzZVxyXG4gICAgICAgIHNlYXJjaEJhamFzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VhcmNoQWx0YXMoKSB7XHJcbiAgICAgIHZhciBmaWx0cm8gPSB7fTtcclxuICAgICAgZmlsdHJvW3ZtLmZpbHRyb10gPSB2bS5idXNjYXI7XHJcbiAgICAgIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5xdWVyeShmaWx0cm8sIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLm5leHRQYWdlID0gZGF0YS5uZXh0O1xyXG4gICAgICAgIHZtLmNvZnJhZGVzID0gZGF0YS5yZXN1bHRzO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWFyY2hCYWphcygpIHtcclxuICAgICAgdmFyIGZpbHRybyA9IHt9O1xyXG4gICAgICBmaWx0cm9bdm0uZmlsdHJvXSA9IHZtLmJ1c2NhcjtcclxuICAgICAgY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzQmFqYXNSZXN0KCkucXVlcnkoZmlsdHJvLCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5uZXh0UGFnZUJhamFzID0gZGF0YS5uZXh0O1xyXG4gICAgICAgIHZtLmNvZnJhZGVzQmFqYXMgPSBkYXRhLnJlc3VsdHM7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJhZGlvQ2hhbmdlKCkge1xyXG4gICAgICB2bS5idXNjYXIgPSBudWxsO1xyXG4gICAgICB2bS50eXBlSW5wdXQgPSAodm0uZmlsdHJvID09PSAnbm9tYnJlJykgPyAndGV4dCc6ICdudW1iZXInO1xyXG4gICAgICB2bS5zZWFyY2goKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnb1RvQ29mcmFkZShpZCwgZXZlbnQpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2NvZnJhZGVzRGV0YWxsZScsIHtjb2ZyYWRlSWQ6IGlkfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbW9kaWZ5Q29mcmFkZShpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgJHN0YXRlLmdvKCdjb2ZyYWRlc0NhbWJpb3MnLCB7Y29mcmFkZUlkOiBpZH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUNvZnJhZGUoaWQsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdlbGltaW5hciBjb2ZyYWRlJyk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ2xpc3RhQ29mcmFkZXMnLCBsaXN0YUNvZnJhZGVzKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIGxpc3RhQ29mcmFkZXMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvY29mcmFkZXMvbGlzdC9jb2ZyYWRlcy5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgY29mcmFkZXM6ICc9Y29mcmFkZXMnLFxyXG4gICAgICAgIG5leHRQYWdlOiAnPXBhZ2UnLFxyXG4gICAgICAgIGNvZnJhZGVzQmFqYXM6ICc9Y29mcmFkZXNCYWphcycsXHJcbiAgICAgICAgbmV4dFBhZ2VCYWphczogJz1wYWdlQmFqYXMnXHJcbiAgICAgICAgXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbnRyb2xsZXI6ICdMaXN0YUNvZnJhZGVzJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdSZW1vdmVDb2ZyYWRlJywgUmVtb3ZlQ29mcmFkZSk7XHJcblxyXG4gIGZ1bmN0aW9uIFJlbW92ZUNvZnJhZGUoJHN0YXRlLCAkbWREaWFsb2cpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgdm0ucmVtb3ZlQ29mcmFkZSA9IHJlbW92ZUNvZnJhZGU7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHJlbW92ZUNvZnJhZGUoaWQsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvY29mcmFkZXMvcmVtb3ZlL2RpYWxvZ1RtcGwvcmVtb3ZlQ29mcmFkZS50bXBsLmh0bWwnLFxyXG4gICAgICAgIGxvY2Fsczoge2lkOiBpZH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ1JlbW92ZUNvZnJhZGVUbXBsJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcclxuICAgICAgICB0YXJnZXRFdmVudDogZXZlbnQsXHJcbiAgICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTp0cnVlXHJcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy9yZW1vdmVFbmRDb2ZyYWRlKGlkKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgncmVtb3ZlQ29mcmFkZScsIHJlbW92ZUNvZnJhZGUpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlQ29mcmFkZSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZW1vdmUvcmVtb3ZlQ29mcmFkZS5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgY29mcmFkZUlkOiAnPWNvZnJhZGUnICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ1JlbW92ZUNvZnJhZGUnLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ1Jlc3RvcmVDb2ZyYWRlJywgUmVzdG9yZUNvZnJhZGUpO1xyXG5cclxuICBmdW5jdGlvbiBSZXN0b3JlQ29mcmFkZSgkc3RhdGUsICRtZERpYWxvZywgY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLnJlc3RvcmVDb2ZyYWRlID0gcmVzdG9yZUNvZnJhZGU7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHJlc3RvcmVDb2ZyYWRlKGlkLCBldmVudCl7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB2YXIgcmVzdGF1cmFyRGlhbG9nID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgLnRpdGxlKCdSZXN0YXVyYXIgY29mcmFkZScpXHJcbiAgICAgICAgICAuY29udGVudCgnwr9Fc3TDoSBzZWd1cm8gcXVlIGRlc2VhIHJlc3RhdXJhciBlc3RlIGNvZnJhZGU/PGJyPlN1IG7Dum1lcm8gZGUgQ29mcmFkZSBzZSBjYWxjdWxhcsOhIGRlIG51ZXZvLicpXHJcbiAgICAgICAgICAuYXJpYUxhYmVsKCdSZXN0YXVyYXIgY29mcmFkZScpXHJcbiAgICAgICAgICAudGFyZ2V0RXZlbnQoZXZlbnQpXHJcbiAgICAgICAgICAub2soJ0FjZXB0YXInKVxyXG4gICAgICAgICAgLmNhbmNlbCgnQ2FuY2VsYXInKVxyXG4gICAgICAgICAgLmNsaWNrT3V0c2lkZVRvQ2xvc2UodHJ1ZSk7XHJcbiAgICAgICRtZERpYWxvZy5zaG93KHJlc3RhdXJhckRpYWxvZykudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICByZXN0b3JlRW5kQ29mcmFkZShpZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc3RvcmVFbmRDb2ZyYWRlKGlkKXtcclxuICAgICAgdmFyIGNvZnJhZGUgPSBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkuZ2V0KHtpZDogaWR9LCBmdW5jdGlvbigpe1xyXG4gICAgICAgIGNvZnJhZGUuYmFqYSA9IG51bGw7XHJcbiAgICAgICAgY29mcmFkZS4kc2F2ZSh7dXBkYXRlTnVtZXJvQ29mcmFkZTogdHJ1ZX0pLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgIGlmKCRzdGF0ZS5jdXJyZW50Lm5hbWUgPT09ICdjb2ZyYWRlcycpe1xyXG4gICAgICAgICAgICAkc3RhdGUudHJhbnNpdGlvblRvKCRzdGF0ZS5jdXJyZW50LCBudWxsLCB7XHJcbiAgICAgICAgICAgICAgcmVsb2FkOiB0cnVlLFxyXG4gICAgICAgICAgICAgIGluaGVyaXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgIG5vdGlmeTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnY29mcmFkZXMnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ3Jlc3RvcmVDb2ZyYWRlJywgcmVzdG9yZUNvZnJhZGUpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gcmVzdG9yZUNvZnJhZGUoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvY29mcmFkZXMvcmVzdG9yZS9yZXN0b3JlQ29mcmFkZS5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgY29mcmFkZUlkOiAnPWNvZnJhZGUnICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ1Jlc3RvcmVDb2ZyYWRlJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdSZW1vdmVDb2ZyYWRlVG1wbCcsIFJlbW92ZUNvZnJhZGVUbXBsKTtcclxuXHJcbiAgZnVuY3Rpb24gUmVtb3ZlQ29mcmFkZVRtcGwoJHN0YXRlLCAkbWREaWFsb2csIGNvZnJhZGVzU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5jbG9zZURpYWxvZyA9IGNsb3NlRGlhbG9nO1xyXG4gICAgdm0ucmVtb3ZlRW5kQ29mcmFkZSA9IHJlbW92ZUVuZENvZnJhZGU7XHJcblxyXG4gICAgZnVuY3Rpb24gY2xvc2VEaWFsb2coKSB7XHJcbiAgICAgICRtZERpYWxvZy5jYW5jZWwoKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUVuZENvZnJhZGUoaWQpe1xyXG4gICAgICB2YXIgY29mcmFkZSA9IGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5nZXQoe2lkOiBpZH0sIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY29mcmFkZS5iYWphID0ge21vdGl2byA6IHZtLm1vdGl2b0JhamEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZlY2hhQmFqYTogbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKX07XHJcbiAgICAgICAgY29mcmFkZS5udW1lcm9Db2ZyYWRlID0gbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICBjb2ZyYWRlLiRzYXZlKHt1cGRhdGVOdW1lcm9Db2ZyYWRlOiB0cnVlfSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgdm0uY2xvc2VEaWFsb2coKTtcclxuICAgICAgICAgIGlmKCRzdGF0ZS5jdXJyZW50Lm5hbWUgPT09ICdjb2ZyYWRlcycpe1xyXG4gICAgICAgICAgICAkc3RhdGUudHJhbnNpdGlvblRvKCRzdGF0ZS5jdXJyZW50LCBudWxsLCB7XHJcbiAgICAgICAgICAgICAgcmVsb2FkOiB0cnVlLFxyXG4gICAgICAgICAgICAgIGluaGVyaXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgIG5vdGlmeTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnY29mcmFkZXMnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
