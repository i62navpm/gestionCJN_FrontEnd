!function(){"use strict";angular.module("app",["ui.router","ngResource","ngMaterial","uiGmapgoogle-maps","ngMessages"])}(),function(){"use strict";function e(e){e.interceptors.push("myHttpInterceptor")}function t(e){var t=angular.element(document.querySelector(".m-app-loading"));return{request:function(e){return"POST"===e.method&&t.css("display","block"),e},requestError:function(t){return e.reject(t)},response:function(e){return t.css("display","none"),e},responseError:function(o){return t.css("display","none"),e.reject(o)}}}angular.module("app").factory("myHttpInterceptor",t).config(e),e.$inject=["$httpProvider"],t.$inject=["$q"]}(),function(){"use strict";function e(e){e.configure({libraries:"weather,geometry,visualization"})}angular.module("app").config(e),e.$inject=["uiGmapGoogleMapApiProvider"]}(),function(){"use strict";function e(e){e.months=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],e.shortMonths=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],e.days=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"],e.shortDays=["lun","mar","mié","jue","vie","sáb","dom"],e.firstDayOfWeek=1,e.parseDate=function(e){return new Date(e)},e.formatDate=function(e){return new Date(e).toLocaleDateString()}}angular.module("app").config(e),e.$inject=["$mdDateLocaleProvider"]}(),function(){"use strict";function e(e,t){t.otherwise("/"),e.state("home",{url:"/",template:'<p class="lead">Welcome to the UI-Router Demo</p><p>Use the menu above to navigate. Pay attention to the <code>$state</code> and <code>$stateParams</code> values below.</p><p>Click these links—<a href="#/c?id=1">Alice</a> or <a href="#/user/42">Bob</a>—to see a url redirect in action.</p>'})}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){}angular.module("app").config(e),e.$inject=["$mdThemingProvider"]}(),function(){"use strict";function e(e){e.state("aspirantes",{url:"/aspirantes",templateProvider:["$templateCache",function(e){return e.get("aspirantes/list/aspirantes.html")}],controller:"Aspirantes",controllerAs:"vm",resolve:{aspirantesPrepService:t}}).state("aspirantesDetalle",{url:"/aspirantes/:aspiranteId",templateProvider:["$templateCache",function(e){return e.get("aspirantes/detail/aspiranteDetalle.html")}],controller:"AspiranteDetalle",controllerAs:"vm",resolve:{getAspirantePrepService:o}}).state("aspirantesCambios",{url:"/aspirantes/cambios/:aspiranteId",templateProvider:["$templateCache",function(e){return e.get("aspirantes/addModify/aspiranteAddModify.html")}],controller:"AspiranteAddModify",controllerAs:"vm",resolve:{getAspirantePrepService:o}})}function t(e){return e.aspirantesRest().query()}function o(e,t){return t.aspiranteId?e.aspirantesRest().get({id:t.aspiranteId}):!1}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["aspirantesService"],o.$inject=["aspirantesService","$stateParams"]}(),function(){"use strict";function e(e){e.state("autoridades",{url:"/autoridades",templateProvider:["$templateCache",function(e){return e.get("autoridades/list/autoridades.html")}],controller:"Autoridades",controllerAs:"vm",resolve:{autoridadesPrepService:t}}).state("autoridadesDetalle",{url:"/autoridades/:autoridadId",templateProvider:["$templateCache",function(e){return e.get("autoridades/detail/autoridadDetalle.html")}],controller:"AutoridadDetalle",controllerAs:"vm",resolve:{getAutoridadPrepService:o,getMapsPrepService:r}}).state("autoridadesCambios",{url:"/autoridades/cambios/:autoridadId",templateProvider:["$templateCache",function(e){return e.get("autoridades/addModify/autoridadAddModify.html")}],controller:"AutoridadAddModify",controllerAs:"vm",resolve:{getAutoridadPrepService:o}})}function t(e){return e.autoridadesRest().query()}function o(e,t){return t.autoridadId?e.autoridadesRest().get({id:t.autoridadId}):!1}function r(e,t,o){return t.$promise.then(function(t){var r=t.direccion.calle+" "+t.direccion.numero+" "+t.direccion.municipio+" "+t.direccion.provincia+" "+t.direccion.cp;return o.geoCodingAPI(r).then(function(t){if(t.data.results.length){var o=t.data.results[0].geometry.location;return e.then(function(e){return{coord:{latitude:o.lat,longitude:o.lng},marker:{latitude:o.lat,longitude:o.lng},zoom:17}})}})})}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["autoridadesService"],o.$inject=["autoridadesService","$stateParams"],r.$inject=["uiGmapGoogleMapApi","getAutoridadPrepService","mapasService"]}(),function(){"use strict";function e(e){e.state("cofrades",{url:"/cofrades",templateProvider:["$templateCache",function(e){return e.get("cofrades/list/cofrades.html")}],controller:"Cofrades",controllerAs:"vm",resolve:{cofradesPrepService:t,cofradesBajasPrepService:o}}).state("cofradesDetalle",{url:"/cofrades/:cofradeId",templateProvider:["$templateCache",function(e){return e.get("cofrades/detail/cofradeDetalle.html")}],controller:"CofradeDetalle",controllerAs:"vm",resolve:{getCofradePrepService:r,getMapsPrepService:a}}).state("cofradesCambios",{url:"/cofrades/cambios/:cofradeId",templateProvider:["$templateCache",function(e){return e.get("cofrades/addModify/cofradeAddModify.html")}],controller:"CofradeAddModify",controllerAs:"vm",resolve:{getCofradePrepService:r}})}function t(e){return e.cofradesRest().query()}function o(e){return e.cofradesBajasRest().query()}function r(e,t){return t.cofradeId?e.cofradesRest().get({id:t.cofradeId}):!1}function a(e,t,o){return t.$promise.then(function(t){var r=t.datosPersonales.direccion.calle+" "+t.datosPersonales.direccion.numero+" "+t.datosPersonales.direccion.municipio+" "+t.datosPersonales.direccion.provincia+" "+t.datosPersonales.direccion.cp;return o.geoCodingAPI(r).then(function(t){if(t.data.results.length){var o=t.data.results[0].geometry.location;return e.then(function(e){return{coord:{latitude:o.lat,longitude:o.lng},marker:{latitude:o.lat,longitude:o.lng},zoom:17}})}})})}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["cofradesService"],o.$inject=["cofradesService"],r.$inject=["cofradesService","$stateParams"],a.$inject=["uiGmapGoogleMapApi","getCofradePrepService","mapasService"]}(),function(){"use strict";function e(e){e.state("costaleros",{url:"/costaleros",templateProvider:["$templateCache",function(e){return e.get("costaleros/list/costaleros.html")}],controller:"Costaleros",controllerAs:"vm",resolve:{costalerosPrepService:t}}).state("costalerosDetalle",{url:"/costaleros/:costaleroId",templateProvider:["$templateCache",function(e){return e.get("costaleros/detail/costaleroDetalle.html")}],controller:"CostaleroDetalle",controllerAs:"vm",resolve:{getCostaleroPrepService:o}}).state("costalerosCambios",{url:"/costaleros/cambios/:costaleroId",templateProvider:["$templateCache",function(e){return e.get("costaleros/addModify/costaleroAddModify.html")}],controller:"CostaleroAddModify",controllerAs:"vm",resolve:{getCostaleroPrepService:o}})}function t(e){return e.costalerosRest().query()}function o(e,t){return t.costaleroId?e.costalerosRest().get({id:t.costaleroId}):!1}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["costalerosService"],o.$inject=["costalerosService","$stateParams"]}(),function(){"use strict";function e(e){e.state("papeletasSitios",{url:"/papeletasSitios",templateProvider:["$templateCache",function(e){return e.get("papeletasSitios/list/papeletasSitios.html")}],controller:"PapeletasSitios",controllerAs:"vm",resolve:{papeletasSitiosPrepService:t}}).state("papeletasSitiosCambios",{url:"/papeletasSitios/cambios",templateProvider:["$templateCache",function(e){return e.get("papeletasSitios/addModify/papeletaSitioAddModify.html")}],controller:"PapeletaSitioAddModify",controllerAs:"vm"})}function t(e){return e.papeletasSitiosRest().query({anios:!0})}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["papeletasSitiosService"]}(),function(){"use strict";function e(e){e.state("sectores",{url:"/sectores",templateProvider:["$templateCache",function(e){return e.get("sectores/list/sectores.html")}],controller:"Sectores",controllerAs:"vm",resolve:{sectoresPrepService:t}}).state("sectoresCambios",{url:"/sectores/cambios/:sectorId/:calle",templateProvider:["$templateCache",function(e){return e.get("sectores/addModify/sectorAddModify.html")}],controller:"SectorAddModify",controllerAs:"vm",resolve:{getSectorPrepService:o}})}function t(e){return e.sectoresRest().query()}function o(e,t){return t.sectorId?e.sectoresRest().get({id:t.sectorId}):!1}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["sectoresService"],o.$inject=["sectoresService","$stateParams"]}(),function(){"use strict";function e(e,t){function o(t){e(t).toggle()}function r(e,r){o(r),t.go(e)}var a=this;a.toggleSidenav=o,a.navigateTo=r}angular.module("app").controller("AppCtrl",e),e.$inject=["$mdSidenav","$state"]}(),function(){"use strict";function e(e){e.state("directivos",{url:"/directivos",templateProvider:["$templateCache",function(e){return e.get("directivos/list/directivos.html")}],controller:"Directivos",controllerAs:"vm",resolve:{directivosPrepService:t}}).state("directivosDetalle",{url:"/directivos/:directivoId",templateProvider:["$templateCache",function(e){return e.get("directivos/detail/directivoDetalle.html")}],controller:"DirectivoDetalle",controllerAs:"vm",resolve:{getDirectivoPrepService:o}}).state("directivosCambios",{url:"/directivos/cambios/:directivoId",templateProvider:["$templateCache",function(e){return e.get("directivos/addModify/directivoAddModify.html")}],controller:"DirectivoAddModify",controllerAs:"vm",resolve:{getDirectivoPrepService:o}})}function t(e){return e.directivosRest().query()}function o(e,t){return t.directivoId?e.directivosRest().get({id:t.directivoId}):!1}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["directivosService"],o.$inject=["directivosService","$stateParams"]}(),function(){"use strict";function e(e,t,o,r,a,n,i){function c(){a?a.$promise.then(s):l()}function s(e){return h.aspirante=e,!0}function l(){h.newCofrade=!0,h.aspirante={cofrade:null,fecha:(new Date).toLocaleDateString()}}function u(){window.history.back()}function d(e){var t={};return isNaN(e)?t.nombre=e:isNaN(e)||(t.numeroOrden=e),i.cofradesRest().query(t).$promise.then(function(e){return e.results})}function f(e){h.aspirante.cofrade=e?e.id:null}function p(t){t?h.aspirante.cofrade?(h.aspirante.cofrade=h.aspirante.cofrade.id?h.aspirante.cofrade.id:h.aspirante.cofrade,n.aspirantesRest().save(h.aspirante,m,v)):(e.aspiranteForm.cofrade.$error.required=!0,g()):g()}function m(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),r.go("aspirantes")}function v(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))}function g(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(t[0].querySelector("#toastBounds")).position("top right"))}var h=this;h.newCofrade=!1,h.backState=u,h.querySearch=d,h.selectedItemChange=f,h.guardar=p,c()}angular.module("app").controller("AspiranteAddModify",e),e.$inject=["$scope","$document","$mdToast","$state","getAspirantePrepService","aspirantesService","cofradesService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.aspirantes=e})}var o=this;o.aspirantes=null,t()}angular.module("app").controller("Aspirantes",e),e.$inject=["aspirantesPrepService"]}(),function(){"use strict";function e(e,t,o,r,a,n,i){function c(){a?a.$promise.then(s):l()}function s(e){return h.autoridad=e,h.calleSelected={calle:h.autoridad.direccion.calle,cp:h.autoridad.direccion.cp,provincia:h.autoridad.direccion.provincia,municipio:h.autoridad.direccion.municipio},!0}function l(){h.newCofrade=!0,h.autoridad={direccion:{}}}function u(){window.history.back()}function d(e){return i.getCalles(e).then(function(e){return e.data})}function f(e){e?(h.autoridad.direccion.calle=e.calle,h.autoridad.direccion.municipio=e.municipio,h.autoridad.direccion.cp=e.cp,h.autoridad.direccion.provincia=e.provincia):(h.autoridad.direccion.calle=null,h.autoridad.direccion.municipio=null,h.autoridad.direccion.cp=null,h.autoridad.direccion.provincia=null)}function p(e){e?(h.autoridad.direccion.calle=h.autoridad.direccion.calle?h.autoridad.direccion.calle:h.searchText,n.autoridadesRest().save(h.autoridad,m,v)):g()}function m(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),r.go("autoridades")}function v(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))}function g(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(t[0].querySelector("#toastBounds")).position("top right"))}var h=this;h.newCofrade=!1,h.backState=u,h.querySearch=d,h.selectedItemChange=f,h.guardar=p,c()}angular.module("app").controller("AutoridadAddModify",e),e.$inject=["$scope","$document","$mdToast","$state","getAutoridadPrepService","autoridadesService","cofradesService"]}(),function(){"use strict";function e(e,t,o){function r(){return t.$promise.then(function(e){n.autoridad=e,n.maps=o})}function a(t,o){e.go("autoridadesCambios",{autoridadId:t})}var n=this;n.modifyAutoridad=a,r()}angular.module("app").controller("AutoridadDetalle",e),e.$inject=["$state","getAutoridadPrepService","getMapsPrepService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.autoridades=e})}var o=this;o.autoridades=null,t()}angular.module("app").controller("Autoridades",e),e.$inject=["autoridadesPrepService"]}(),function(){"use strict";function e(e,t,o,r,a,n,i){function c(){a?a.$promise.then(s):n.getRegistros().then(function(e){S.cofrade.numeroOrden=e.data.numeroOrden,S.cofrade.numeroCofrade=e.data.numeroCofrade})}function s(e){return S.cofrade=e,S.calleSelected={calle:S.cofrade.datosPersonales.direccion.calle,cp:S.cofrade.datosPersonales.direccion.cp,provincia:S.cofrade.datosPersonales.direccion.provincia,municipio:S.cofrade.datosPersonales.direccion.municipio},S.fechaNacimiento=S.cofrade.datosPersonales.fechaNacimiento,S.fechaInscripcion=S.cofrade.datosPersonales.fechaInscripcion,S.cofrade.datosFinancieros=S.cofrade.datosFinancieros||{cuenta:{},deuda:[]},S.cofrade.datosFinancieros.cuenta=S.cofrade.datosFinancieros.cuenta||{},S.cofrade.datosFinancieros.deuda=S.cofrade.datosFinancieros.deuda||[],!0}function l(){window.history.back()}function u(e){return n.getCalles(e).then(function(e){return e.data})}function d(e){e?(S.cofrade.datosPersonales.direccion.calle=e.calle,S.cofrade.datosPersonales.direccion.municipio=e.municipio,S.cofrade.datosPersonales.direccion.cp=e.cp,S.cofrade.datosPersonales.direccion.provincia=e.provincia,f(e.calle)):(S.cofrade.datosPersonales.direccion.calle=null,S.cofrade.datosPersonales.direccion.municipio=null,S.cofrade.datosPersonales.direccion.cp=null,S.cofrade.datosPersonales.direccion.provincia=null,S.sector=null,S.nuevaCalle=!0)}function f(e){i.sectoresRest().query({calle:e},function(e){S.sector=e[0].numeroSector,S.nuevaCalle=!1})}function p(){S.cofrade.datosFinancieros.cuenta.iban&&(S.cofrade.datosFinancieros.cuenta.cc=e("calcularCC")(S.cofrade.datosFinancieros.cuenta.iban))}function m(){S.cofrade.datosFinancieros.cuenta.cc&&(S.cofrade.datosFinancieros.cuenta.iban=e("calcularIban")(S.cofrade.datosFinancieros.cuenta.cc))}function v(e){function r(){s.save(S.cofrade,g,h)}function a(){i.sectoresRest().get({sector:S.sector},function(e){var a=e[0];a?(a.cofrade=a.cofrade.id,a.calles.push(S.searchText),a.$save(null,r,h)):o.show(o.simple().content("El sector "+S.sector+" no existe!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))})}if(e){var c={cuenta:{},deuda:[]};S.cofrade.datosPersonales.direccion.calle=S.searchText,JSON.stringify(S.cofrade.datosFinancieros)===JSON.stringify(c)&&delete S.cofrade.datosFinancieros;var s=n.cofradesRest();S.nuevaCalle?a():r()}else $()}function g(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),r.go("cofrades")}function h(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))}function $(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(t[0].querySelector("#toastBounds")).position("top right"))}var S=this;S.nuevaCalle=!0,S.cofrade={datosFinancieros:{cuenta:{},deuda:[]},datosPersonales:{direccion:{},sexo:"Hombre",fechaInscripcion:(new Date).toLocaleDateString(),fechaNacimiento:(new Date).toLocaleDateString()}},S.backState=l,S.querySearch=u,S.selectedItemChange=d,S.calcularCC=p,S.calcularIban=m,S.guardar=v,c()}angular.module("app").controller("CofradeAddModify",e),e.$inject=["$filter","$document","$mdToast","$state","getCofradePrepService","cofradesService","sectoresService"]}(),function(){"use strict";function e(e,t,o,r){function a(){return o.$promise.then(function(e){i.cofrade=e,i.cofrade.datosFinancieros&&i.cofrade.datosFinancieros.cuenta&&(i.iban=t("parseIban")(i.cofrade.datosFinancieros.cuenta.iban),i.cc=t("parseCC")(i.cofrade.datosFinancieros.cuenta.cc)),i.maps=r})}function n(t,o){e.go("cofradesCambios",{cofradeId:t})}var i=this;i.cofrade=null,i.maps=null,i.modifyCofrade=n,a()}angular.module("app").controller("CofradeDetalle",e),e.$inject=["$state","$filter","getCofradePrepService","getMapsPrepService"]}(),function(){"use strict";function e(e,t){function o(){return e.$promise.then(function(e){r.nextPage=e.next,r.cofrades=e.results}),t.$promise.then(function(e){r.nextPageBajas=e.next,r.cofradesBajas=e.results})}var r=this;r.cofrades=null,r.nextPage=null,r.cofradesBajas=null,r.nextPageBajas=null,r.selectedTab=0,o()}angular.module("app").controller("Cofrades",e),e.$inject=["cofradesPrepService","cofradesBajasPrepService"]}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,t,o){var r=t[0];t.bind("scroll",function(){r.scrollTop+r.offsetHeight>=r.scrollHeight-5&&e.$emit("scrollDown")})}}}angular.module("app").directive("scrolly",e)}(),function(){"use strict";function e(){return function(e){e=e||"";for(var t="",o=0;o<e.length;o++)o>0&&o%4===0&&(t+=" "),t+=e[o];return t}}function t(){return function(e){e=e||"";var t="";return t=e.substr(0,4)+"-",t+=e.substr(4,4)+"-",t+=e.substr(8,2)+"-",t+=e.substr(10,10)}}function o(){return function(e){return e=e||"",e.substr(4,20)}}function r(){function e(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",o=[],r=0;r<e.length;r++){var a=t.indexOf(e[r]);o.push(0>a?"-":a)}return o.join("")}function t(e,t){for(var o=10,r=e.length,a=0,n=0;r>n;n+=o){var i=a+""+e.substr(n,o);a=i%t}return a}function o(e,t){for(e+="";e.length<t;)e="0"+e;return e}return function(r){var a="ES",n=r+e(a)+"00",i=t(n,97);return a+o(98-i,2)+r}}angular.module("app").filter("parseIban",e).filter("parseCC",t).filter("calcularIban",r).filter("calcularCC",o)}(),function(){"use strict";function e(){return function(e){return e.datosPersonales&&(e.datosPersonales.fechaNacimiento=new Date(e.datosPersonales.fechaNacimiento).toLocaleDateString(),e.datosPersonales.fechaInscripcion=new Date(e.datosPersonales.fechaInscripcion).toLocaleDateString()),e.fecha&&(e.fecha=new Date(e.fecha).toLocaleDateString()),e}}function t(){return function(e){var t=null;return e.datosPersonales?(t=e.datosPersonales.fechaNacimiento.split("/"),e.datosPersonales.fechaNacimiento=t[2]+"-"+t[1]+"-"+t[0],t=e.datosPersonales.fechaInscripcion.split("/"),e.datosPersonales.fechaInscripcion=t[2]+"-"+t[1]+"-"+t[0]):e.fecha?(t=e.fecha.split("/"),e.fecha=t[2]+"-"+t[1]+"-"+t[0]):e=new Date(e).toLocaleDateString(),e}}angular.module("app").filter("stringToDateFormat",e).filter("formatDates",t)}(),function(){"use strict";function e(){return function(t){var o=t instanceof Array;for(var r in t)null===t[r]?o?t.splice(r,1):delete t[r]:"object"==typeof t[r]&&e(t[r]);return t}}angular.module("app").filter("removeNulls",e)}(),function(){"use strict";function e(e,t){function o(){return e("http://127.0.0.1:5050/api/aspirantes/:id.json:json",null,{query:{method:"GET",isArray:!0},get:{method:"GET",transformResponse:function(e,o){return t("stringToDateFormat")(angular.fromJson(e))}},save:{method:"POST",transformRequest:function(e,o){return angular.toJson(t("formatDates")(t("removeNulls")(e)))}}})}return{aspirantesRest:o}}angular.module("app").factory("aspirantesService",e),e.$inject=["$resource","$filter"]}(),function(){"use strict";function e(e,t){function o(){return e("http://127.0.0.1:5050/api/autoridades/:id.json:json",null,{query:{method:"GET",isArray:!0},save:{method:"POST",transformRequest:function(e,o){return angular.toJson(t("removeNulls")(e))}}})}return{autoridadesRest:o}}angular.module("app").factory("autoridadesService",e),e.$inject=["$resource","$filter"]}(),function(){"use strict";function e(e,t,o){function r(){return e("http://127.0.0.1:5050/api/cofrades/:id.json:json",null,{query:{method:"GET",isArray:!1},get:{method:"GET",transformResponse:function(e,t){return o("stringToDateFormat")(angular.fromJson(e))}},save:{method:"POST",transformRequest:function(e,t){return angular.toJson(o("formatDates")(o("removeNulls")(e)))}}})}function a(){return e("http://127.0.0.1:5050/api/cofradesBajas/:id.json:json",null,{query:{method:"GET",isArray:!1}})}function n(e){return t.get("http://127.0.0.1:5050/api/calles/",{params:{calle:e}}).then(function(e){return angular.fromJson(e)})}function i(){return t.get("http://127.0.0.1:5050/api/registros/").then(function(e){return angular.fromJson(e)})}return{cofradesRest:r,cofradesBajasRest:a,getCalles:n,getRegistros:i}}angular.module("app").factory("cofradesService",e),e.$inject=["$resource","$http","$filter"]}(),function(){"use strict";function e(e,t){function o(){return e("http://127.0.0.1:5050/api/costaleros/:id.json:json",null,{query:{method:"GET",isArray:!0},get:{method:"GET",transformResponse:function(e,o){return t("stringToDateFormat")(angular.fromJson(e))}},save:{method:"POST",transformRequest:function(e,o){return angular.toJson(t("formatDates")(t("removeNulls")(e)))}}})}return{costalerosRest:o}}angular.module("app").factory("costalerosService",e),e.$inject=["$resource","$filter"]}(),function(){"use strict";function e(e,t){function o(){return e("http://127.0.0.1:5050/api/directivos/:id.json:json",null,{query:{method:"GET",isArray:!0},save:{method:"POST",transformRequest:function(e,o){return angular.toJson(t("removeNulls")(e))}}})}return{directivosRest:o}}angular.module("app").factory("directivosService",e),e.$inject=["$resource","$filter"]}(),function(){"use strict";function e(e){function t(t){return e.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:t,key:"AIzaSyDC_OIDSl6curjCMCLyzn2yhMmg-er5knI"}}).then(function(e){return e})}return{geoCodingAPI:t}}angular.module("app").factory("mapasService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t){function o(){return e("http://127.0.0.1:5050/api/papeletasSitios/:id.json:json",null,{query:{method:"GET",isArray:!0},save:{method:"POST",transformRequest:function(e,o){return angular.toJson(t("removeNulls")(e))}}})}return{papeletasSitiosRest:o}}angular.module("app").factory("papeletasSitiosService",e),e.$inject=["$resource","$filter"]}(),function(){"use strict";function e(e){function t(){return e("http://127.0.0.1:5050/api/sectores/:id.json:json",null,{get:{method:"GET",isArray:!0}})}return{sectoresRest:t}}angular.module("app").factory("sectoresService",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e,t,o,r,a,n,i,c){function s(){n&&n.$promise.then(l)}function l(e){return h.costalero=e,h.cofradeSelected=h.costalero.cofrade,!0}function u(){window.history.back()}function d(e){var t={};return isNaN(e)?t.nombre=e:isNaN(e)||(t.numeroOrden=e),c.cofradesRest().query(t).$promise.then(function(e){return e.results})}function f(e){h.costalero.cofrade=e?e.id:null}function p(t){t?(h.costalero.fecha=""===h.costalero.fecha?null:h.costalero.fecha,h.costalero.cofrade?i.costalerosRest().save(h.costalero,m,v):(e.costaleroForm.cofrade.$error.required=!0,g())):g()}function m(e){r.show(r.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),a.go("costaleros")}function v(e){r.show(r.simple().content("Error al guardar!!").position("top right").parent(o[0].querySelector("#toastBounds")).hideDelay(3e3))}function g(){r.show(r.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(o[0].querySelector("#toastBounds")).position("top right"))}var h=this;h.backState=u,h.querySearch=d,h.selectedItemChange=f,h.guardar=p,s()}angular.module("app").controller("CostaleroAddModify",e),e.$inject=["$scope","$filter","$document","$mdToast","$state","getCostaleroPrepService","costalerosService","cofradesService"]}(),function(){"use strict";function e(e,t){function o(){return t.$promise.then(function(e){a.costalero=e})}function r(t,o){e.go("costalerosCambios",{costaleroId:t})}var a=this;a.modifyCostalero=r,o()}angular.module("app").controller("CostaleroDetalle",e),e.$inject=["$state","getCostaleroPrepService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.costaleros=e})}var o=this;o.costaleros=null,t()}angular.module("app").controller("Costaleros",e),e.$inject=["costalerosPrepService"]}(),function(){"use strict";function e(e,t,o,r,a,n,i){function c(){v.newCofrade=!0,v.fecha=(new Date).toLocaleDateString(),v.papeletaSitio={cofrade:null}}function s(){window.history.back()}function l(e){var t={};return isNaN(e)?t.nombre=e:isNaN(e)||(t.numeroOrden=e),i.cofradesRest().query(t).$promise.then(function(e){return e.results})}function u(e){v.papeletaSitio.cofrade=e?e.id:null}function d(o){o?v.papeletaSitio.cofrade?(v.papeletaSitio.fecha=v.fecha,t("formatDates")(v.papeletaSitio),n.papeletasSitiosRest().save({anio:new Date(v.papeletaSitio.fecha).getFullYear(),papeletas:[v.papeletaSitio]},f,p)):(e.papeletaSitioForm.cofrade.$error.required=!0,m()):m()}function f(e){r.show(r.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),a.go("papeletasSitios")}function p(e){r.show(r.simple().content("Error al guardar!!").position("top right").parent(o[0].querySelector("#toastBounds")).hideDelay(3e3))}function m(){r.show(r.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(o[0].querySelector("#toastBounds")).position("top right"))}var v=this;v.newCofrade=!1,v.backState=s,v.querySearch=l,v.selectedItemChange=u,v.guardar=d,c()}angular.module("app").controller("PapeletaSitioAddModify",e),e.$inject=["$scope","$filter","$document","$mdToast","$state","papeletasSitiosService","cofradesService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.papeletasSitios=e})}var o=this;o.papeletasSitios=null,t()}angular.module("app").controller("PapeletasSitios",e),e.$inject=["papeletasSitiosPrepService"]}(),function(){"use strict";function e(e,t,o,r,a,n,i,c,s){function l(){i?i.$promise.then(u):d()}function u(e){return C.sector=e[0],C.cofradeSelected=C.sector.cofrade,C.originSector=C.sector.numeroSector,"new"===n.calle?(C.newCalle=!0,C.indexCalle=C.sector.calles.length):C.indexCalle=C.sector.calles.indexOf(n.calle)>-1?C.sector.calles.indexOf(n.calle):null,!0}function d(){C.newEncargado=!0,C.sector={cofrade:null}}function f(){window.history.back()}function p(e){var t={};return isNaN(e)?t.nombre=e:isNaN(e)||(t.numeroOrden=e),s.cofradesRest().query(t).$promise.then(function(e){return e.results})}function m(e){C.sector.cofrade=e?e.id:null}function v(t){t?C.sector.cofrade?C.sector.numeroSector===C.originSector||C.newEncargado?g():h():(e.sectorForm.cofrade.$error.required=!0,P()):P()}function g(){c.sectoresRest().save(C.sector,$,S)}function h(){c.sectoresRest().get({sector:C.sector.numeroSector}).$promise.then(function(e){return e[0]?(e[0].cofrade=e[0].cofrade.id,e[0].calles.push(C.sector.calles[C.indexCalle]),void e[0].$save(null,function(){C.sector.calles.splice(C.indexCalle,1),C.sector.numeroSector=C.originSector,g()},S)):void r.show(r.simple().content("No existe ese sector").position("top right").parent(o[0].querySelector("#toastBounds")).hideDelay(3e3))})}function $(e){r.show(r.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),a.go("sectores")}function S(e){r.show(r.simple().content("Error al guardar!!").position("top right").parent(o[0].querySelector("#toastBounds")).hideDelay(3e3))}function P(){r.show(r.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(o[0].querySelector("#toastBounds")).position("top right"))}var C=this;C.newEncargado=!1,C.newCalle=!1,C.indexCalle=null,C.backState=f,C.querySearch=p,C.selectedItemChange=m,C.guardar=v,l()}angular.module("app").controller("SectorAddModify",e),e.$inject=["$scope","$filter","$document","$mdToast","$state","$stateParams","getSectorPrepService","sectoresService","cofradesService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.sectores=e})}var o=this;o.sectores=null,t()}angular.module("app").controller("Sectores",e),e.$inject=["sectoresPrepService"]}(),function(){"use strict";function e(e,t,o,r,a,n,i){function c(){a?a.$promise.then(s):l()}function s(e){return h.directivo=e,!0}function l(){h.newCofrade=!0,h.directivo={cofrade:null,fecha:(new Date).toLocaleDateString()}}function u(){window.history.back()}function d(e){var t={};return isNaN(e)?t.nombre=e:isNaN(e)||(t.numeroOrden=e),i.cofradesRest().query(t).$promise.then(function(e){return e.results})}function f(e){h.directivo.cofrade=e?e.id:null}function p(t){t?h.directivo.cofrade?(h.directivo.cofrade=h.directivo.cofrade.id?h.directivo.cofrade.id:h.directivo.cofrade,n.directivosRest().save(h.directivo,m,v)):(e.directivoForm.cofrade.$error.required=!0,g()):g()}function m(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),r.go("directivos")}function v(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))}function g(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(t[0].querySelector("#toastBounds")).position("top right"))}var h=this;h.newCofrade=!1,h.backState=u,h.querySearch=d,h.selectedItemChange=f,h.guardar=p,c()}angular.module("app").controller("DirectivoAddModify",e),e.$inject=["$scope","$document","$mdToast","$state","getDirectivoPrepService","directivosService","cofradesService"]}(),function(){"use strict";function e(e,t){function o(){return t.$promise.then(function(e){a.directivo=e})}function r(t,o){e.go("directivosCambios",{directivoId:t})}var a=this;a.modifyDirectivo=r,o()}angular.module("app").controller("DirectivoDetalle",e),e.$inject=["$state","getDirectivoPrepService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.directivos=e})}var o=this;o.directivos=null,t()}angular.module("app").controller("Directivos",e),e.$inject=["directivosPrepService"]}(),function(){"use strict";function e(e,t){function o(){return t.$promise.then(function(e){a.aspirante=e})}function r(t,o){e.go("aspirantesCambios",{aspiranteId:t})}var a=this;a.modifyAspirante=r,o()}angular.module("app").controller("AspiranteDetalle",e),e.$inject=["$state","getAspirantePrepService"]}(),function(){"use strict";function e(e){function t(t,o){e.go("aspirantesDetalle",{aspiranteId:t})}function o(t,o){o.stopPropagation(),e.go("aspirantesCambios",{aspiranteId:t})}var r=this;r.modifyAspirante=o,r.goToAspirante=t}angular.module("app").controller("ListaAspirantes",e),e.$inject=["$state"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/aspirantes/list/aspirantes.directive.html",
scope:{aspirantes:"=aspirantes"},link:function(e,t){e.$watch("vm.aspirantes",function(t){t&&(e.vm.aspirantesShort=e.vm.aspirantes.map(function(e){var t={id:e.id,fecha:e.fecha};return e.cofrade&&(t.numeroOrden=e.cofrade.numeroOrden,t.nombre=e.cofrade.datosPersonales.nombre+" "+e.cofrade.datosPersonales.apellido1+" "+e.cofrade.datosPersonales.apellido2),t}))},!0)},controller:"ListaAspirantes",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaAspirantes",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar aspirante").content("¿Está seguro que desea eliminar este aspirante?<br>Perderá su antiguedad.").ariaLabel("Eliminar aspirante").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){a(e)})}function a(t){var r=o.aspirantesRest().get({id:t},function(){r.$delete({id:t}).then(function(){"aspirantes"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("aspirantes")})})}var n=this;n.removeAspirante=r}angular.module("app").controller("RemoveAspirante",e),e.$inject=["$state","$mdDialog","aspirantesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/aspirantes/remove/removeAspirante.directive.html",scope:{aspiranteId:"=aspirante"},controller:"RemoveAspirante",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeAspirante",e)}(),function(){"use strict";function e(e){function t(t,o){e.go("autoridadesDetalle",{autoridadId:t})}function o(t,o){o.stopPropagation(),e.go("autoridadesCambios",{autoridadId:t})}var r=this;r.modifyAutoridad=o,r.goToAutoridad=t}angular.module("app").controller("ListaAutoridades",e),e.$inject=["$state"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/autoridades/list/autoridades.directive.html",scope:{autoridades:"=autoridades"},controller:"ListaAutoridades",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaAutoridades",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar autoridad").content("¿Está seguro que desea eliminar este autoridad?").ariaLabel("Eliminar autoridad").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){a(e)})}function a(t){var r=o.autoridadesRest().get({id:t},function(){r.$delete({id:t}).then(function(){"autoridades"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("autoridades")})})}var n=this;n.removeAutoridad=r}angular.module("app").controller("RemoveAutoridad",e),e.$inject=["$state","$mdDialog","autoridadesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/autoridades/remove/removeAutoridad.directive.html",scope:{autoridadId:"=autoridad"},controller:"RemoveAutoridad",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeAutoridad",e)}(),function(){"use strict";function e(e,t,o,r){function a(){p.bajas?i():n()}function n(){if(p.nextPage){var e={page:p.nextPage};p.buscar&&(e[p.filtro]=p.buscar),r.cofradesRest().query(e,function(e){p.nextPage=e.next,p.cofrades=p.cofrades.concat(e.results)})}}function i(){if(p.nextPageBajas){var e={page:p.nextPageBajas};p.buscar&&(e[p.filtro]=p.buscar),r.cofradesBajasRest().query(e,function(e){p.nextPageBajas=e.next,p.cofradesBajas=p.cofradesBajas.concat(e.results)})}}function c(){p.bajas?l():s()}function s(){var e={};e[p.filtro]=p.buscar,r.cofradesRest().query(e,function(e){p.nextPage=e.next,p.cofrades=e.results})}function l(){var e={};e[p.filtro]=p.buscar,r.cofradesBajasRest().query(e,function(e){p.nextPageBajas=e.next,p.cofradesBajas=e.results})}function u(){p.buscar=null,p.typeInput="nombre"===p.filtro?"text":"number",p.search()}function d(e,t){o.go("cofradesDetalle",{cofradeId:e})}function f(e,t){t.stopPropagation(),o.go("cofradesCambios",{cofradeId:e})}var p=this;p.filtro="nombre",p.typeInput="text",p.buscar=null,p.search=c,p.radioChange=u,p.goToCofrade=d,p.modifyCofrade=f;var m=e.$on("scrollDown",a);t.$on("$destroy",function(){m(),m=null})}angular.module("app").controller("ListaCofrades",e),e.$inject=["$rootScope","$scope","$state","cofradesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/cofrades/list/cofrades.directive.html",scope:{cofrades:"=cofrades",nextPage:"=page",cofradesBajas:"=cofradesBajas",nextPageBajas:"=pageBajas"},controller:"ListaCofrades",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaCofrades",e)}(),function(){"use strict";function e(e,t){function o(e,o){o.stopPropagation(),t.show({templateUrl:"./templates/directives/cofrades/remove/dialogTmpl/removeCofrade.tmpl.html",locals:{id:e},controller:"RemoveCofradeTmpl",controllerAs:"vm",bindToController:!0,targetEvent:o,clickOutsideToClose:!0}).then(function(){})}var r=this;r.removeCofrade=o}angular.module("app").controller("RemoveCofrade",e),e.$inject=["$state","$mdDialog"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/cofrades/remove/removeCofrade.directive.html",scope:{cofradeId:"=cofrade"},controller:"RemoveCofrade",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeCofrade",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Restaurar cofrade").content("¿Está seguro que desea restaurar este cofrade?<br>Su número de Cofrade se calculará de nuevo.").ariaLabel("Restaurar cofrade").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){a(e)})}function a(t){var r=o.cofradesRest().get({id:t},function(){r.baja=null,r.$save({updateNumeroCofrade:!0}).then(function(){"cofrades"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("cofrades")})})}var n=this;n.restoreCofrade=r}angular.module("app").controller("RestoreCofrade",e),e.$inject=["$state","$mdDialog","cofradesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/cofrades/restore/restoreCofrade.directive.html",scope:{cofradeId:"=cofrade"},controller:"RestoreCofrade",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("restoreCofrade",e)}(),function(){"use strict";function e(e){function t(t,o){e.go("costalerosDetalle",{costaleroId:t})}function o(t,o){o.stopPropagation(),e.go("costalerosCambios",{costaleroId:t})}var r=this;r.modifyCostalero=o,r.goToCostalero=t}angular.module("app").controller("ListaCostaleros",e),e.$inject=["$state"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/costaleros/list/costaleros.directive.html",scope:{costaleros:"=costaleros"},link:function(e,t){e.$watch("vm.costaleros",function(t){t&&(e.vm.costalerosShort=e.vm.costaleros.map(function(e){var t={id:e.id,sitio:e.sitio};return e.cofrade&&(t.numeroOrden=e.cofrade.numeroOrden,t.nombre=e.cofrade.datosPersonales.nombre+" "+e.cofrade.datosPersonales.apellido1+" "+e.cofrade.datosPersonales.apellido2),t}))},!0)},controller:"ListaCostaleros",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaCostaleros",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar costalero").content("¿Está seguro que desea eliminar este costalero?<br>Dejará su sitio libre.").ariaLabel("Eliminar costalero").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){a(e)})}function a(t){var r=o.costalerosRest().get({id:t},function(){r.cofrade=null,r.talla=null,r.fecha=null,r.$save().then(function(){"costaleros"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("costaleros")})})}var n=this;n.removeCostalero=r}angular.module("app").controller("RemoveCostalero",e),e.$inject=["$state","$mdDialog","costalerosService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/costaleros/remove/removeCostalero.directive.html",scope:{costaleroId:"=costalero"},controller:"RemoveCostalero",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeCostalero",e)}(),function(){"use strict";function e(e){function t(t,o){e.go("directivosDetalle",{directivoId:t})}function o(t,o){o.stopPropagation(),e.go("directivosCambios",{directivoId:t})}var r=this;r.modifyDirectivo=o,r.goToDirectivo=t}angular.module("app").controller("ListaDirectivos",e),e.$inject=["$state"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/directivos/list/directivos.directive.html",scope:{directivos:"=directivos"},link:function(e,t){e.$watch("vm.directivos",function(t){t&&(e.vm.directivosShort=e.vm.directivos.map(function(e){var t={id:e.id,posicion:e.posicion};return e.cofrade&&(t.numeroOrden=e.cofrade.numeroOrden,t.nombre=e.cofrade.datosPersonales.nombre+" "+e.cofrade.datosPersonales.apellido1+" "+e.cofrade.datosPersonales.apellido2),t}))},!0)},controller:"ListaDirectivos",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaDirectivos",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar directivo").content("¿Está seguro que desea eliminar este directivo?").ariaLabel("Eliminar directivo").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){a(e)})}function a(t){var r=o.directivosRest().get({id:t},function(){r.$delete({id:t}).then(function(){"directivos"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("directivos")})})}var n=this;n.removeDirectivo=r}angular.module("app").controller("RemoveDirectivo",e),e.$inject=["$state","$mdDialog","directivosService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/directivos/remove/removeDirectivo.directive.html",scope:{directivoId:"=directivo"},controller:"RemoveDirectivo",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeDirectivo",e)}(),function(){"use strict";function e(e,t){function o(){t.papeletasSitiosRest().query({anio:r.anio},function(e){r.papeletasSitio=e[0]})}var r=this;r.anio=null,r.getAnio=o}angular.module("app").controller("ListaPapeletasSitios",e),e.$inject=["$state","papeletasSitiosService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/papeletasSitios/list/papeletasSitios.directive.html",scope:{anios:"=papeletas"},controller:"ListaPapeletasSitios",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaPapeletasSitios",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar papeleta sitio").content("¿Está seguro que desea eliminar esta papeleta de sitio?").ariaLabel("Eliminar papeletaSitio").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){a(e)})}function a(t){o.papeletasSitiosRest().save({anio:t.anio,papeletas:[t.papeleta],remove:!0},function(){"papeletasSitios"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("papeletasSitios")})}var n=this;n.removePapeletaSitio=r}angular.module("app").controller("RemovePapeletaSitio",e),e.$inject=["$state","$mdDialog","papeletasSitiosService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/papeletasSitios/remove/removePapeletaSitio.directive.html",scope:{papeletaSitio:"=papeleta"},controller:"RemovePapeletaSitio",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removePapeletaSitio",e)}(),function(){"use strict";function e(e){function t(e,t){e="callesSector"+e,angular.element(document.getElementById(e)).toggleClass("ocultar")}function o(t,o){o.stopPropagation(),e.go("sectoresCambios",{sectorId:t})}function r(t,o,r){r.stopPropagation(),e.go("sectoresCambios",{sectorId:t,calle:o})}function a(t,o){o.stopPropagation(),e.go("sectoresCambios",{sectorId:t,calle:"new"})}var n=this;n.modifySector=o,n.modifyCalle=r,n.addCalle=a,n.showCalles=t}angular.module("app").controller("ListaSectores",e),e.$inject=["$state"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/sectores/list/sectores.directive.html",scope:{sectores:"=sectores"},link:function(e,t){e.$watch("vm.sectores",function(t){t&&(e.vm.sectoresShort=e.vm.sectores.map(function(e){var t={id:e.id,numeroSector:e.numeroSector,calles:e.calles};return e.cofrade&&(t.numeroOrden=e.cofrade.numeroOrden,t.nombre=e.cofrade.datosPersonales.nombre+" "+e.cofrade.datosPersonales.apellido1+" "+e.cofrade.datosPersonales.apellido2),t}))},!0)},controller:"ListaSectores",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaSectores",e)}(),function(){"use strict";function e(e,t,o,r){function a(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar sector").content("¿Está seguro que desea eliminar este sector?").ariaLabel("Eliminar sector").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){n(e)})}function n(t){var a=r.sectoresRest().get({id:t},function(){0!==a[0].calles.length?o.show(o.simple().content("No se puede eliminar un sector con calles asignadas").position("top right").hideDelay(3e3)):a[0].$delete({id:t}).then(function(){"sectores"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("sectores")})})}var i=this;i.removeSector=a}angular.module("app").controller("RemoveSector",e),e.$inject=["$state","$mdDialog","$mdToast","sectoresService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/sectores/remove/removeSector.directive.html",scope:{sectorId:"=sector"},controller:"RemoveSector",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeSector",e)}(),function(){"use strict";function e(e,t,o){function r(){t.cancel()}function a(t){var r=o.cofradesRest().get({id:t},function(){r.baja={motivo:n.motivoBaja,fechaBaja:(new Date).toLocaleDateString()},r.numeroCofrade=null,r.$save({updateNumeroCofrade:!0}).then(function(){n.closeDialog(),"cofrades"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("cofrades")})})}var n=this;n.closeDialog=r,n.removeEndCofrade=a}angular.module("app").controller("RemoveCofradeTmpl",e),e.$inject=["$state","$mdDialog","cofradesService"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5pbml0Lm1vZHVsZS5qcyIsImFwcC5sb2FkaW5nLmpzIiwiYWxsLm1pbi5qcyIsImFwcC5tYXAuanMiLCJhcHAucGlja2VyRGF0ZS5qcyIsImFwcC5yb3V0ZXMuanMiLCJhcHAudGhlbWUuanMiLCJhc3BpcmFudGVzL2FzcGlyYW50ZXMucm91dGVzLmpzIiwiYXV0b3JpZGFkZXMvYXV0b3JpZGFkZXMucm91dGVzLmpzIiwiY29mcmFkZXMvY29mcmFkZXMucm91dGVzLmpzIiwiY29zdGFsZXJvcy9jb3N0YWxlcm9zLnJvdXRlcy5qcyIsInBhcGVsZXRhc1NpdGlvcy9wYXBlbGV0YXNTaXRpb3Mucm91dGVzLmpzIiwic2VjdG9yZXMvc2VjdG9yZXMucm91dGVzLmpzIiwiaW50ZXJmYXovYXBwLmNvbnRyb2xsZXIuanMiLCJkaXJlY3Rpdm9zL2RpcmVjdGl2b3Mucm91dGVzLmpzIiwiYXNwaXJhbnRlcy9hZGRNb2RpZnkvYXNwaXJhbnRlQWRkTW9kaWZ5LmNvbnRyb2xsZXIuanMiLCJhc3BpcmFudGVzL2xpc3QvYXNwaXJhbnRlcy5jb250cm9sbGVyLmpzIiwiYXV0b3JpZGFkZXMvYWRkTW9kaWZ5L2F1dG9yaWRhZEFkZE1vZGlmeS5jb250cm9sbGVyLmpzIiwiYXV0b3JpZGFkZXMvZGV0YWlsL2F1dG9yaWRhZERldGFsbGUuY29udHJvbGxlci5qcyIsImF1dG9yaWRhZGVzL2xpc3QvYXV0b3JpZGFkZXMuY29udHJvbGxlci5qcyIsImNvZnJhZGVzL2FkZE1vZGlmeS9jb2ZyYWRlQWRkTW9kaWZ5LmNvbnRyb2xsZXIuanMiLCJjb2ZyYWRlcy9kZXRhaWwvY29mcmFkZURldGFsbGUuY29udHJvbGxlci5qcyIsImNvZnJhZGVzL2xpc3QvY29mcmFkZXMuY29udHJvbGxlci5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9zY3JvbGx5LmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZmlsdGVycy9wYXJzZUN1ZW50YS5maWx0ZXIuanMiLCJjb21tb25zL2ZpbHRlcnMvcGFyc2VEYXRlLmZpbHRlci5qcyIsImNvbW1vbnMvZmlsdGVycy9yZW1vdmVOdWxscy5maWx0ZXIuanMiLCJjb21tb25zL3NlcnZpY2VzL2FzcGlyYW50ZXMuc2VydmljZS5qcyIsImNvbW1vbnMvc2VydmljZXMvYXV0b3JpZGFkZXMuc2VydmljZS5qcyIsImNvbW1vbnMvc2VydmljZXMvY29mcmFkZXMuc2VydmljZS5qcyIsImNvbW1vbnMvc2VydmljZXMvY29zdGFsZXJvcy5zZXJ2aWNlLmpzIiwiY29tbW9ucy9zZXJ2aWNlcy9kaXJlY3Rpdm9zLnNlcnZpY2UuanMiLCJjb21tb25zL3NlcnZpY2VzL21hcGFzLnNlcnZpY2UuanMiLCJjb21tb25zL3NlcnZpY2VzL3BhcGVsZXRhc1NpdGlvcy5zZXJ2aWNlLmpzIiwiY29tbW9ucy9zZXJ2aWNlcy9zZWN0b3Jlcy5zZXJ2aWNlLmpzIiwiY29zdGFsZXJvcy9hZGRNb2RpZnkvY29zdGFsZXJvQWRkTW9kaWZ5LmNvbnRyb2xsZXIuanMiLCJjb3N0YWxlcm9zL2RldGFpbC9jb3N0YWxlcm9EZXRhbGxlLmNvbnRyb2xsZXIuanMiLCJjb3N0YWxlcm9zL2xpc3QvY29zdGFsZXJvcy5jb250cm9sbGVyLmpzIiwicGFwZWxldGFzU2l0aW9zL2FkZE1vZGlmeS9wYXBlbGV0YVNpdGlvQWRkTW9kaWZ5LmNvbnRyb2xsZXIuanMiLCJwYXBlbGV0YXNTaXRpb3MvbGlzdC9wYXBlbGV0YXNTaXRpb3MuY29udHJvbGxlci5qcyIsInNlY3RvcmVzL2FkZE1vZGlmeS9zZWN0b3JBZGRNb2RpZnkuY29udHJvbGxlci5qcyIsInNlY3RvcmVzL2xpc3Qvc2VjdG9yZXMuY29udHJvbGxlci5qcyIsImRpcmVjdGl2b3MvYWRkTW9kaWZ5L2RpcmVjdGl2b0FkZE1vZGlmeS5jb250cm9sbGVyLmpzIiwiZGlyZWN0aXZvcy9kZXRhaWwvZGlyZWN0aXZvRGV0YWxsZS5jb250cm9sbGVyLmpzIiwiZGlyZWN0aXZvcy9saXN0L2RpcmVjdGl2b3MuY29udHJvbGxlci5qcyIsImFzcGlyYW50ZXMvZGV0YWlsL2FzcGlyYW50ZURldGFsbGUuY29udHJvbGxlci5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9hc3BpcmFudGVzL2xpc3QvYXNwaXJhbnRlcy5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9hc3BpcmFudGVzL2xpc3QvYXNwaXJhbnRlcy5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvYXNwaXJhbnRlcy9yZW1vdmUvcmVtb3ZlQXNwaXJhbnRlLmNvbnRyb2xsZXIuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2FzcGlyYW50ZXMvcmVtb3ZlL3JlbW92ZUFzcGlyYW50ZS5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvYXV0b3JpZGFkZXMvbGlzdC9hdXRvcmlkYWRlcy5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9hdXRvcmlkYWRlcy9saXN0L2F1dG9yaWRhZGVzLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9hdXRvcmlkYWRlcy9yZW1vdmUvcmVtb3ZlQXV0b3JpZGFkLmNvbnRyb2xsZXIuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2F1dG9yaWRhZGVzL3JlbW92ZS9yZW1vdmVBdXRvcmlkYWQuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2NvZnJhZGVzL2xpc3QvY29mcmFkZXMuY29udHJvbGxlci5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvY29mcmFkZXMvbGlzdC9jb2ZyYWRlcy5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvY29mcmFkZXMvcmVtb3ZlL3JlbW92ZUNvZnJhZGUuY29udHJvbGxlci5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvY29mcmFkZXMvcmVtb3ZlL3JlbW92ZUNvZnJhZGUuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2NvZnJhZGVzL3Jlc3RvcmUvcmVzdG9yZUNvZnJhZGUuY29udHJvbGxlci5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvY29mcmFkZXMvcmVzdG9yZS9yZXN0b3JlQ29mcmFkZS5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvY29zdGFsZXJvcy9saXN0L2Nvc3RhbGVyb3MuY29udHJvbGxlci5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvY29zdGFsZXJvcy9saXN0L2Nvc3RhbGVyb3MuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2Nvc3RhbGVyb3MvcmVtb3ZlL3JlbW92ZUNvc3RhbGVyby5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb3N0YWxlcm9zL3JlbW92ZS9yZW1vdmVDb3N0YWxlcm8uZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2RpcmVjdGl2b3MvbGlzdC9kaXJlY3Rpdm9zLmNvbnRyb2xsZXIuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2RpcmVjdGl2b3MvbGlzdC9kaXJlY3Rpdm9zLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9kaXJlY3Rpdm9zL3JlbW92ZS9yZW1vdmVEaXJlY3Rpdm8uY29udHJvbGxlci5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvZGlyZWN0aXZvcy9yZW1vdmUvcmVtb3ZlRGlyZWN0aXZvLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9wYXBlbGV0YXNTaXRpb3MvbGlzdC9wYXBlbGV0YXNTaXRpb3MuY29udHJvbGxlci5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvcGFwZWxldGFzU2l0aW9zL2xpc3QvcGFwZWxldGFzU2l0aW9zLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9wYXBlbGV0YXNTaXRpb3MvcmVtb3ZlL3JlbW92ZVBhcGVsZXRhU2l0aW8uY29udHJvbGxlci5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvcGFwZWxldGFzU2l0aW9zL3JlbW92ZS9yZW1vdmVQYXBlbGV0YVNpdGlvLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9zZWN0b3Jlcy9saXN0L3NlY3RvcmVzLmNvbnRyb2xsZXIuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL3NlY3RvcmVzL2xpc3Qvc2VjdG9yZXMuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL3NlY3RvcmVzL3JlbW92ZS9yZW1vdmVTZWN0b3IuY29udHJvbGxlci5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvc2VjdG9yZXMvcmVtb3ZlL3JlbW92ZVNlY3Rvci5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvY29mcmFkZXMvcmVtb3ZlL2RpYWxvZ1RtcGwvcmVtb3ZlQ29mcmFkZS5jb250cm9sbGVyLnRtcGwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImxvYWRpbmdTcGlubmVyIiwiJGh0dHBQcm92aWRlciIsImludGVyY2VwdG9ycyIsInB1c2giLCJteUh0dHBJbnRlcmNlcHRvciIsIiRxIiwibG9hZFNjcmVlbiIsImVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJyZXF1ZXN0IiwiY29uZmlnIiwibWV0aG9kIiwiY3NzIiwicmVxdWVzdEVycm9yIiwicmVqZWN0aW9uIiwicmVqZWN0IiwicmVzcG9uc2UiLCJyZXNwb25zZUVycm9yIiwiZmFjdG9yeSIsIiRpbmplY3QiLCJnb29nbGVNYXBBUEkiLCJ1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlciIsImNvbmZpZ3VyZSIsImxpYnJhcmllcyIsImRhdGVQaWNrZXJDb25maWciLCIkbWREYXRlTG9jYWxlUHJvdmlkZXIiLCJtb250aHMiLCJzaG9ydE1vbnRocyIsImRheXMiLCJzaG9ydERheXMiLCJmaXJzdERheU9mV2VlayIsInBhcnNlRGF0ZSIsImRhdGVTdHJpbmciLCJEYXRlIiwiZm9ybWF0RGF0ZSIsImRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidGVtcGxhdGUiLCJ0aGVtZUFuZ3VsYXJNYXRlcmlhbCIsIiRtZFRoZW1pbmdQcm92aWRlciIsInRlbXBsYXRlUHJvdmlkZXIiLCIkdGVtcGxhdGVDYWNoZSIsImdldCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJyZXNvbHZlIiwiYXNwaXJhbnRlc1ByZXBTZXJ2aWNlIiwiZ2V0QXNwaXJhbnRlUHJlcFNlcnZpY2UiLCJhc3BpcmFudGVzU2VydmljZSIsImFzcGlyYW50ZXNSZXN0IiwicXVlcnkiLCIkc3RhdGVQYXJhbXMiLCJpZCIsImFzcGlyYW50ZUlkIiwiYXV0b3JpZGFkZXNQcmVwU2VydmljZSIsImdldEF1dG9yaWRhZFByZXBTZXJ2aWNlIiwiZ2V0TWFwc1ByZXBTZXJ2aWNlIiwiYXV0b3JpZGFkZXNTZXJ2aWNlIiwiYXV0b3JpZGFkZXNSZXN0IiwiYXV0b3JpZGFkSWQiLCJ1aUdtYXBHb29nbGVNYXBBcGkiLCJtYXBhc1NlcnZpY2UiLCIkcHJvbWlzZSIsInRoZW4iLCJkYXRhIiwiYWRkcmVzcyIsImRpcmVjY2lvbiIsImNhbGxlIiwibnVtZXJvIiwibXVuaWNpcGlvIiwicHJvdmluY2lhIiwiY3AiLCJnZW9Db2RpbmdBUEkiLCJyZXN1bHRzIiwibGVuZ3RoIiwiY29vcmRpbmF0ZXMiLCJnZW9tZXRyeSIsImxvY2F0aW9uIiwibWFwcyIsImNvb3JkIiwibGF0aXR1ZGUiLCJsYXQiLCJsb25naXR1ZGUiLCJsbmciLCJtYXJrZXIiLCJ6b29tIiwiY29mcmFkZXNQcmVwU2VydmljZSIsImNvZnJhZGVzQmFqYXNQcmVwU2VydmljZSIsImdldENvZnJhZGVQcmVwU2VydmljZSIsImNvZnJhZGVzU2VydmljZSIsImNvZnJhZGVzUmVzdCIsImNvZnJhZGVzQmFqYXNSZXN0IiwiY29mcmFkZUlkIiwiZGF0b3NQZXJzb25hbGVzIiwiY29zdGFsZXJvc1ByZXBTZXJ2aWNlIiwiZ2V0Q29zdGFsZXJvUHJlcFNlcnZpY2UiLCJjb3N0YWxlcm9zU2VydmljZSIsImNvc3RhbGVyb3NSZXN0IiwiY29zdGFsZXJvSWQiLCJwYXBlbGV0YXNTaXRpb3NQcmVwU2VydmljZSIsInBhcGVsZXRhc1NpdGlvc1NlcnZpY2UiLCJwYXBlbGV0YXNTaXRpb3NSZXN0IiwiYW5pb3MiLCJzZWN0b3Jlc1ByZXBTZXJ2aWNlIiwiZ2V0U2VjdG9yUHJlcFNlcnZpY2UiLCJzZWN0b3Jlc1NlcnZpY2UiLCJzZWN0b3Jlc1Jlc3QiLCJzZWN0b3JJZCIsIkFwcEN0cmwiLCIkbWRTaWRlbmF2IiwiJHN0YXRlIiwidG9nZ2xlU2lkZW5hdiIsIm1lbnVJZCIsInRvZ2dsZSIsIm5hdmlnYXRlVG8iLCJ0byIsImdvIiwidm0iLCJ0aGlzIiwiZGlyZWN0aXZvc1ByZXBTZXJ2aWNlIiwiZ2V0RGlyZWN0aXZvUHJlcFNlcnZpY2UiLCJkaXJlY3Rpdm9zU2VydmljZSIsImRpcmVjdGl2b3NSZXN0IiwiZGlyZWN0aXZvSWQiLCJBc3BpcmFudGVBZGRNb2RpZnkiLCIkc2NvcGUiLCIkZG9jdW1lbnQiLCIkbWRUb2FzdCIsImFjdGl2YXRlIiwiaW5pdEFzcGlyYW50ZSIsIm5ld0FzcGlyYW50ZSIsImFzcGlyYW50ZSIsIm5ld0NvZnJhZGUiLCJjb2ZyYWRlIiwiZmVjaGEiLCJiYWNrU3RhdGUiLCJ3aW5kb3ciLCJoaXN0b3J5IiwiYmFjayIsInF1ZXJ5U2VhcmNoIiwiZmlsdHJvIiwiaXNOYU4iLCJub21icmUiLCJudW1lcm9PcmRlbiIsInNlbGVjdGVkSXRlbUNoYW5nZSIsIml0ZW0iLCJndWFyZGFyIiwiaXNWYWxpZCIsInNhdmUiLCJndWFyZGFyU3VjY2VzcyIsImd1YXJkYXJFcnJvciIsImFzcGlyYW50ZUZvcm0iLCIkZXJyb3IiLCJyZXF1aXJlZCIsInNob3dBY3Rpb25Ub2FzdCIsInNob3ciLCJzaW1wbGUiLCJjb250ZW50IiwicG9zaXRpb24iLCJoaWRlRGVsYXkiLCJwYXJlbnQiLCJhY3Rpb24iLCJoaWdobGlnaHRBY3Rpb24iLCJBc3BpcmFudGVzIiwiYXNwaXJhbnRlcyIsIkF1dG9yaWRhZEFkZE1vZGlmeSIsImluaXRBdXRvcmlkYWQiLCJuZXdBdXRvcmlkYWQiLCJhdXRvcmlkYWQiLCJjYWxsZVNlbGVjdGVkIiwiZ2V0Q2FsbGVzIiwic2VhcmNoVGV4dCIsIkF1dG9yaWRhZERldGFsbGUiLCJtb2RpZnlBdXRvcmlkYWQiLCJldmVudCIsIkF1dG9yaWRhZGVzIiwiYXV0b3JpZGFkZXMiLCJDb2ZyYWRlQWRkTW9kaWZ5IiwiJGZpbHRlciIsImluaXRDb2ZyYWRlIiwiZ2V0UmVnaXN0cm9zIiwibnVtZXJvQ29mcmFkZSIsImZlY2hhTmFjaW1pZW50byIsImZlY2hhSW5zY3JpcGNpb24iLCJkYXRvc0ZpbmFuY2llcm9zIiwiY3VlbnRhIiwiZGV1ZGEiLCJzZWFyY2hTZWN0b3IiLCJzZWN0b3IiLCJudWV2YUNhbGxlIiwibnVtZXJvU2VjdG9yIiwiY2FsY3VsYXJDQyIsImliYW4iLCJjYyIsImNhbGN1bGFySWJhbiIsImd1YXJkYXJDb2ZyYWRlIiwiQ29mcmFkZVJlc291cmNlIiwiZ3VhcmRhckNhbGxlIiwic2VjdG9yUmVzb3VyY2UiLCJjYWxsZXMiLCIkc2F2ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXhvIiwiQ29mcmFkZURldGFsbGUiLCJtb2RpZnlDb2ZyYWRlIiwiQ29mcmFkZXMiLCJuZXh0UGFnZSIsIm5leHQiLCJjb2ZyYWRlcyIsIm5leHRQYWdlQmFqYXMiLCJjb2ZyYWRlc0JhamFzIiwic2VsZWN0ZWRUYWIiLCJzY3JvbGx5IiwicmVzdHJpY3QiLCJsaW5rIiwiJHJvb3RTY29wZSIsImF0dHJzIiwicmF3IiwiYmluZCIsInNjcm9sbFRvcCIsIm9mZnNldEhlaWdodCIsInNjcm9sbEhlaWdodCIsIiRlbWl0IiwiZGlyZWN0aXZlIiwicGFyc2VJYmFuIiwiZm9ybWF0dGVkSWJhbiIsImkiLCJwYXJzZUNDIiwiZm9ybWF0dGVkQ0MiLCJzdWJzdHIiLCJ2YWxvckNpZnJhcyIsImNpZnJhcyIsIkxFVFJBUyIsIml0ZW1zIiwicG9zaWNpb24iLCJpbmRleE9mIiwiam9pbiIsIm1vZHVsbyIsImRpdmlzb3IiLCJDVUVOVEEiLCJsYXJnbyIsInJlc3RvIiwiZGl2aWRlbmRvIiwiY2Vyb3NJenF1aWVyZGEiLCJjY2MiLCJwYWlzIiwiZmlsdGVyIiwic3RyaW5nVG9EYXRlRm9ybWF0IiwiZm9ybWF0RGF0ZXMiLCJzcGxpdCIsInJlbW92ZU51bGxzIiwib2JqIiwiaXNBcnJheSIsIkFycmF5IiwiayIsInNwbGljZSIsIiRyZXNvdXJjZSIsInRyYW5zZm9ybVJlc3BvbnNlIiwiaGVhZGVyc0dldHRlciIsImZyb21Kc29uIiwidHJhbnNmb3JtUmVxdWVzdCIsInRvSnNvbiIsIiRodHRwIiwicGFyYW1zIiwia2V5IiwiQ29zdGFsZXJvQWRkTW9kaWZ5IiwiaW5pdENvc3RhbGVybyIsImNvc3RhbGVybyIsImNvZnJhZGVTZWxlY3RlZCIsImNvc3RhbGVyb0Zvcm0iLCJDb3N0YWxlcm9EZXRhbGxlIiwibW9kaWZ5Q29zdGFsZXJvIiwiQ29zdGFsZXJvcyIsImNvc3RhbGVyb3MiLCJQYXBlbGV0YVNpdGlvQWRkTW9kaWZ5IiwibmV3cGFwZWxldGFTaXRpbyIsInBhcGVsZXRhU2l0aW8iLCJhbmlvIiwiZ2V0RnVsbFllYXIiLCJwYXBlbGV0YXMiLCJwYXBlbGV0YVNpdGlvRm9ybSIsIlBhcGVsZXRhc1NpdGlvcyIsInBhcGVsZXRhc1NpdGlvcyIsIlNlY3RvckFkZE1vZGlmeSIsImluaXRTZWN0b3IiLCJuZXdFbmNhcmdhZG8iLCJvcmlnaW5TZWN0b3IiLCJuZXdDYWxsZSIsImluZGV4Q2FsbGUiLCJndWFyZGFyU2VjdG9yIiwiZ3VhcmRhckNhbWJpb1NlY3RvciIsInNlY3RvckZvcm0iLCJTZWN0b3JlcyIsInNlY3RvcmVzIiwiRGlyZWN0aXZvQWRkTW9kaWZ5IiwiaW5pdERpcmVjdGl2byIsIm5ld0RpcmVjdGl2byIsImRpcmVjdGl2byIsImRpcmVjdGl2b0Zvcm0iLCJEaXJlY3Rpdm9EZXRhbGxlIiwibW9kaWZ5RGlyZWN0aXZvIiwiRGlyZWN0aXZvcyIsImRpcmVjdGl2b3MiLCJBc3BpcmFudGVEZXRhbGxlIiwibW9kaWZ5QXNwaXJhbnRlIiwiTGlzdGFBc3BpcmFudGVzIiwiZ29Ub0FzcGlyYW50ZSIsInN0b3BQcm9wYWdhdGlvbiIsImxpc3RhQXNwaXJhbnRlcyIsInRlbXBsYXRlVXJsIiwic2NvcGUiLCIkd2F0Y2giLCJuZXdWYWwiLCJhc3BpcmFudGVzU2hvcnQiLCJtYXAiLCJhdXgiLCJhcGVsbGlkbzEiLCJhcGVsbGlkbzIiLCJiaW5kVG9Db250cm9sbGVyIiwiUmVtb3ZlQXNwaXJhbnRlIiwiJG1kRGlhbG9nIiwicmVtb3ZlQXNwaXJhbnRlIiwicmVtb3ZlRGlhbG9nIiwiY29uZmlybSIsInRpdGxlIiwiYXJpYUxhYmVsIiwidGFyZ2V0RXZlbnQiLCJvayIsImNhbmNlbCIsImNsaWNrT3V0c2lkZVRvQ2xvc2UiLCJyZW1vdmVFbmRBc3BpcmFudGUiLCIkZGVsZXRlIiwiY3VycmVudCIsIm5hbWUiLCJ0cmFuc2l0aW9uVG8iLCJyZWxvYWQiLCJpbmhlcml0Iiwibm90aWZ5IiwiTGlzdGFBdXRvcmlkYWRlcyIsImdvVG9BdXRvcmlkYWQiLCJsaXN0YUF1dG9yaWRhZGVzIiwiUmVtb3ZlQXV0b3JpZGFkIiwicmVtb3ZlQXV0b3JpZGFkIiwicmVtb3ZlRW5kQXV0b3JpZGFkIiwiTGlzdGFDb2ZyYWRlcyIsImdldE5leHRQYWdlIiwiYmFqYXMiLCJnZXROZXh0UGFnZUJhamFzIiwiZ2V0TmV4dFBhZ2VBbHRhcyIsInBhcmFtZXRlcnMiLCJwYWdlIiwiYnVzY2FyIiwiY29uY2F0Iiwic2VhcmNoIiwic2VhcmNoQmFqYXMiLCJzZWFyY2hBbHRhcyIsInJhZGlvQ2hhbmdlIiwidHlwZUlucHV0IiwiZ29Ub0NvZnJhZGUiLCJoYW5kbGVyIiwiJG9uIiwibGlzdGFDb2ZyYWRlcyIsIlJlbW92ZUNvZnJhZGUiLCJyZW1vdmVDb2ZyYWRlIiwibG9jYWxzIiwiUmVzdG9yZUNvZnJhZGUiLCJyZXN0b3JlQ29mcmFkZSIsInJlc3RhdXJhckRpYWxvZyIsInJlc3RvcmVFbmRDb2ZyYWRlIiwiYmFqYSIsInVwZGF0ZU51bWVyb0NvZnJhZGUiLCJMaXN0YUNvc3RhbGVyb3MiLCJnb1RvQ29zdGFsZXJvIiwibGlzdGFDb3N0YWxlcm9zIiwiY29zdGFsZXJvc1Nob3J0Iiwic2l0aW8iLCJSZW1vdmVDb3N0YWxlcm8iLCJyZW1vdmVDb3N0YWxlcm8iLCJyZW1vdmVFbmRDb3N0YWxlcm8iLCJ0YWxsYSIsIkxpc3RhRGlyZWN0aXZvcyIsImdvVG9EaXJlY3Rpdm8iLCJsaXN0YURpcmVjdGl2b3MiLCJkaXJlY3Rpdm9zU2hvcnQiLCJSZW1vdmVEaXJlY3Rpdm8iLCJyZW1vdmVEaXJlY3Rpdm8iLCJyZW1vdmVFbmREaXJlY3Rpdm8iLCJMaXN0YVBhcGVsZXRhc1NpdGlvcyIsImdldEFuaW8iLCJwYXBlbGV0YXNTaXRpbyIsImxpc3RhUGFwZWxldGFzU2l0aW9zIiwiUmVtb3ZlUGFwZWxldGFTaXRpbyIsInJlbW92ZVBhcGVsZXRhU2l0aW8iLCJyZW1vdmVFbmRQYXBlbGV0YVNpdGlvIiwicGFwZWxldGFPYmoiLCJwYXBlbGV0YSIsInJlbW92ZSIsIkxpc3RhU2VjdG9yZXMiLCJzaG93Q2FsbGVzIiwiZ2V0RWxlbWVudEJ5SWQiLCJ0b2dnbGVDbGFzcyIsIm1vZGlmeVNlY3RvciIsIm1vZGlmeUNhbGxlIiwiYWRkQ2FsbGUiLCJsaXN0YVNlY3RvcmVzIiwic2VjdG9yZXNTaG9ydCIsIlJlbW92ZVNlY3RvciIsInJlbW92ZVNlY3RvciIsInJlbW92ZUVuZFNlY3RvciIsIlJlbW92ZUNvZnJhZGVUbXBsIiwiY2xvc2VEaWFsb2ciLCJyZW1vdmVFbmRDb2ZyYWRlIiwibW90aXZvIiwibW90aXZvQmFqYSIsImZlY2hhQmFqYSJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQSxZQUVBQSxTQUFBQyxPQUFBLE9BQ0EsWUFDQSxhQUNBLGFBQ0Esb0JBQ0Esa0JD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QUFBK04sUUFBQUMsS0FDQWhPLEVBQUFpTyxhQUFBak8sRUFBQStOLFFBQUEsTUFDQUcsUUFBQSxFQUNBQyxTQUFBLEVBQ0FDLFFBQUEsSUFJQXBPLEVBQUFNLEdBQUEsZ0JBeEJBLEdBQUFDLEdBQUFDLElBRUFELEdBQUFzUyxZQUFBQSxFQUNBdFMsRUFBQXVTLGlCQUFBQSxFQVJBcGEsUUFDQUMsT0FBQSxPQUNBa0QsV0FBQSxvQkFBQStXLEcxRXNxR0VBLEVBQWtCNVksU0FBVyxTQUFVLFlBQWEiLCJmaWxlIjoiYWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXHJcbiAgICAndWkucm91dGVyJyxcclxuICAgICduZ1Jlc291cmNlJyxcclxuICAgICduZ01hdGVyaWFsJyxcclxuICAgICd1aUdtYXBnb29nbGUtbWFwcycsXHJcbiAgICAnbmdNZXNzYWdlcydcclxuICBdKTtcclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdteUh0dHBJbnRlcmNlcHRvcicsIG15SHR0cEludGVyY2VwdG9yKVxyXG4gICAgLmNvbmZpZyhsb2FkaW5nU3Bpbm5lcik7XHJcblxyXG4gIGZ1bmN0aW9uIGxvYWRpbmdTcGlubmVyKCRodHRwUHJvdmlkZXIpIHtcclxuICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ215SHR0cEludGVyY2VwdG9yJyk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBteUh0dHBJbnRlcmNlcHRvcigkcSkge1xyXG4gICAgdmFyIGxvYWRTY3JlZW4gPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm0tYXBwLWxvYWRpbmcnKSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAvLyBvcHRpb25hbCBtZXRob2RcclxuICAgICAgJ3JlcXVlc3QnOiBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gc3VjY2Vzc1xyXG4gICAgICAgIGlmIChjb25maWcubWV0aG9kID09PSAnUE9TVCcpXHJcbiAgICAgICAgICBsb2FkU2NyZWVuLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgIHJldHVybiBjb25maWc7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvLyBvcHRpb25hbCBtZXRob2RcclxuICAgICAncmVxdWVzdEVycm9yJzogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XHJcbiAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIGVycm9yXHJcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXHJcbiAgICAgICdyZXNwb25zZSc6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIHN1Y2Nlc3NcclxuICAgICAgICBsb2FkU2NyZWVuLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXHJcbiAgICAgJ3Jlc3BvbnNlRXJyb3InOiBmdW5jdGlvbihyZWplY3Rpb24pIHtcclxuICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gZXJyb3JcclxuICAgICAgICBsb2FkU2NyZWVuLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsbnVsbCwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoZ29vZ2xlTWFwQVBJKTtcclxuXHJcbiAgZnVuY3Rpb24gZ29vZ2xlTWFwQVBJKHVpR21hcEdvb2dsZU1hcEFwaVByb3ZpZGVyKXtcclxuICAgIHVpR21hcEdvb2dsZU1hcEFwaVByb3ZpZGVyLmNvbmZpZ3VyZSh7XHJcbiAgICAgICAgbGlicmFyaWVzOiAnd2VhdGhlcixnZW9tZXRyeSx2aXN1YWxpemF0aW9uJ1xyXG4gICAgfSk7ICAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoZGF0ZVBpY2tlckNvbmZpZyk7XHJcblxyXG4gIGZ1bmN0aW9uIGRhdGVQaWNrZXJDb25maWcoJG1kRGF0ZUxvY2FsZVByb3ZpZGVyKSB7XHJcblxyXG4gICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLm1vbnRocyA9IFsnZW5lcm8nLCAnZmVicmVybycsICdtYXJ6bycsICdhYnJpbCcsICdtYXlvJywgJ2p1bmlvJywgJ2p1bGlvJywgJ2Fnb3N0bycsICdzZXB0aWVtYnJlJywgJ29jdHVicmUnLCAnbm92aWVtYnJlJywgJ2RpY2llbWJyZSddO1xyXG4gICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLnNob3J0TW9udGhzID0gWydlbmUnLCAnZmViJywgJ21hcicsICdhYnInLCAnbWF5JywgJ2p1bicsICdqdWwnLCAnYWdvJywgJ3NlcCcsICdvY3QnLCAnbm92JywgJ2RpYyddO1xyXG4gICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLmRheXMgPSBbJ2x1bmVzJywgJ21hcnRlcycsICdtacOpcmNvbGVzJywgJ2p1ZXZlcycsICd2aWVybmVzJywgJ3PDoWJhZG8nLCAnZG9taW5nbyddO1xyXG4gICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLnNob3J0RGF5cyA9IFsnbHVuJywgJ21hcicsICdtacOpJywgJ2p1ZScsICd2aWUnLCAnc8OhYicsICdkb20nXTtcclxuXHJcbiAgICAkbWREYXRlTG9jYWxlUHJvdmlkZXIuZmlyc3REYXlPZldlZWsgPSAxO1xyXG4gICAgXHJcbiAgICAkbWREYXRlTG9jYWxlUHJvdmlkZXIucGFyc2VEYXRlID0gZnVuY3Rpb24oZGF0ZVN0cmluZykge1xyXG4gICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVN0cmluZyk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAkbWREYXRlTG9jYWxlUHJvdmlkZXIuZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uKGRhdGUpIHtcclxuICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gICAgfTtcclxuXHJcbiAgfVxyXG5cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoY29uZmlnKTtcclxuXHJcbiAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcclxuXHJcbiAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKFwiL1wiKTtcclxuXHJcbiAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAuc3RhdGUoXCJob21lXCIsIHtcclxuICAgICAgICB1cmw6IFwiL1wiLFxyXG4gICAgICAgIHRlbXBsYXRlOiAnPHAgY2xhc3M9XCJsZWFkXCI+V2VsY29tZSB0byB0aGUgVUktUm91dGVyIERlbW88L3A+JyArXHJcbiAgICAgICAgICAnPHA+VXNlIHRoZSBtZW51IGFib3ZlIHRvIG5hdmlnYXRlLiAnICtcclxuICAgICAgICAgICdQYXkgYXR0ZW50aW9uIHRvIHRoZSA8Y29kZT4kc3RhdGU8L2NvZGU+IGFuZCA8Y29kZT4kc3RhdGVQYXJhbXM8L2NvZGU+IHZhbHVlcyBiZWxvdy48L3A+JyArXHJcbiAgICAgICAgICAnPHA+Q2xpY2sgdGhlc2UgbGlua3PigJQ8YSBocmVmPVwiIy9jP2lkPTFcIj5BbGljZTwvYT4gb3IgJyArXHJcbiAgICAgICAgICAnPGEgaHJlZj1cIiMvdXNlci80MlwiPkJvYjwvYT7igJR0byBzZWUgYSB1cmwgcmVkaXJlY3QgaW4gYWN0aW9uLjwvcD4nXHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcodGhlbWVBbmd1bGFyTWF0ZXJpYWwpO1xyXG5cclxuICBmdW5jdGlvbiB0aGVtZUFuZ3VsYXJNYXRlcmlhbCgkbWRUaGVtaW5nUHJvdmlkZXIpe1xyXG4gICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcclxuICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgIC5zdGF0ZSgnYXNwaXJhbnRlcycsIHtcclxuICAgICAgICB1cmw6IFwiL2FzcGlyYW50ZXNcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2FzcGlyYW50ZXMvbGlzdC9hc3BpcmFudGVzLmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnQXNwaXJhbnRlcycsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgYXNwaXJhbnRlc1ByZXBTZXJ2aWNlOiBhc3BpcmFudGVzUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5zdGF0ZSgnYXNwaXJhbnRlc0RldGFsbGUnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9hc3BpcmFudGVzLzphc3BpcmFudGVJZFwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXNwaXJhbnRlcy9kZXRhaWwvYXNwaXJhbnRlRGV0YWxsZS5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0FzcGlyYW50ZURldGFsbGUnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIGdldEFzcGlyYW50ZVByZXBTZXJ2aWNlOiBnZXRBc3BpcmFudGVQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSkuXHJcbiAgICAgIHN0YXRlKCdhc3BpcmFudGVzQ2FtYmlvcycsIHtcclxuICAgICAgICB1cmw6IFwiL2FzcGlyYW50ZXMvY2FtYmlvcy86YXNwaXJhbnRlSWRcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2FzcGlyYW50ZXMvYWRkTW9kaWZ5L2FzcGlyYW50ZUFkZE1vZGlmeS5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0FzcGlyYW50ZUFkZE1vZGlmeScsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZ2V0QXNwaXJhbnRlUHJlcFNlcnZpY2U6IGdldEFzcGlyYW50ZVByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGFzcGlyYW50ZXNQcmVwU2VydmljZShhc3BpcmFudGVzU2VydmljZSkge1xyXG4gICAgcmV0dXJuIGFzcGlyYW50ZXNTZXJ2aWNlLmFzcGlyYW50ZXNSZXN0KCkucXVlcnkoKTtcclxuICB9XHJcblxyXG4gIFxyXG4gIGZ1bmN0aW9uIGdldEFzcGlyYW50ZVByZXBTZXJ2aWNlKGFzcGlyYW50ZXNTZXJ2aWNlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgIHJldHVybiAoJHN0YXRlUGFyYW1zLmFzcGlyYW50ZUlkKSA/IGFzcGlyYW50ZXNTZXJ2aWNlLmFzcGlyYW50ZXNSZXN0KCkuZ2V0KHtpZDogJHN0YXRlUGFyYW1zLmFzcGlyYW50ZUlkfSkgOiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoY29uZmlnKTtcclxuXHJcbiAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAuc3RhdGUoJ2F1dG9yaWRhZGVzJywge1xyXG4gICAgICAgIHVybDogXCIvYXV0b3JpZGFkZXNcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2F1dG9yaWRhZGVzL2xpc3QvYXV0b3JpZGFkZXMuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdBdXRvcmlkYWRlcycsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgYXV0b3JpZGFkZXNQcmVwU2VydmljZTogYXV0b3JpZGFkZXNQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLnN0YXRlKCdhdXRvcmlkYWRlc0RldGFsbGUnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9hdXRvcmlkYWRlcy86YXV0b3JpZGFkSWRcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2F1dG9yaWRhZGVzL2RldGFpbC9hdXRvcmlkYWREZXRhbGxlLmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnQXV0b3JpZGFkRGV0YWxsZScsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZ2V0QXV0b3JpZGFkUHJlcFNlcnZpY2U6IGdldEF1dG9yaWRhZFByZXBTZXJ2aWNlLFxyXG4gICAgICAgICAgICBnZXRNYXBzUHJlcFNlcnZpY2U6IGdldE1hcHNQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSkuXHJcbiAgICAgIHN0YXRlKCdhdXRvcmlkYWRlc0NhbWJpb3MnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9hdXRvcmlkYWRlcy9jYW1iaW9zLzphdXRvcmlkYWRJZFwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXV0b3JpZGFkZXMvYWRkTW9kaWZ5L2F1dG9yaWRhZEFkZE1vZGlmeS5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0F1dG9yaWRhZEFkZE1vZGlmeScsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZ2V0QXV0b3JpZGFkUHJlcFNlcnZpY2U6IGdldEF1dG9yaWRhZFByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGF1dG9yaWRhZGVzUHJlcFNlcnZpY2UoYXV0b3JpZGFkZXNTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gYXV0b3JpZGFkZXNTZXJ2aWNlLmF1dG9yaWRhZGVzUmVzdCgpLnF1ZXJ5KCk7XHJcbiAgfVxyXG5cclxuICBcclxuICBmdW5jdGlvbiBnZXRBdXRvcmlkYWRQcmVwU2VydmljZShhdXRvcmlkYWRlc1NlcnZpY2UsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgcmV0dXJuICgkc3RhdGVQYXJhbXMuYXV0b3JpZGFkSWQpID8gYXV0b3JpZGFkZXNTZXJ2aWNlLmF1dG9yaWRhZGVzUmVzdCgpLmdldCh7aWQ6ICRzdGF0ZVBhcmFtcy5hdXRvcmlkYWRJZH0pIDogZmFsc2U7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRNYXBzUHJlcFNlcnZpY2UodWlHbWFwR29vZ2xlTWFwQXBpLCBnZXRBdXRvcmlkYWRQcmVwU2VydmljZSwgbWFwYXNTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gZ2V0QXV0b3JpZGFkUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgXHJcbiAgICAgIHZhciBhZGRyZXNzID0gZGF0YS5kaXJlY2Npb24uY2FsbGUgICAgICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRpcmVjY2lvbi5udW1lcm8gICAgKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGlyZWNjaW9uLm11bmljaXBpbyArICcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5kaXJlY2Npb24ucHJvdmluY2lhICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRpcmVjY2lvbi5jcDtcclxuXHJcbiAgICAgIHJldHVybiBtYXBhc1NlcnZpY2UuZ2VvQ29kaW5nQVBJKGFkZHJlc3MpLlxyXG4gICAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucmVzdWx0cy5sZW5ndGgpe1xyXG4gICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSByZXNwb25zZS5kYXRhLnJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb247XHJcbiAgICAgICAgICAgIHJldHVybiB1aUdtYXBHb29nbGVNYXBBcGkudGhlbihmdW5jdGlvbihtYXBzKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuICB7Y29vcmQ6ICB7IGxhdGl0dWRlOiBjb29yZGluYXRlcy5sYXQsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogY29vcmRpbmF0ZXMubG5nIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyOiB7IGxhdGl0dWRlOiBjb29yZGluYXRlcy5sYXQsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogY29vcmRpbmF0ZXMubG5nIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxNyB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcclxuICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgIC5zdGF0ZSgnY29mcmFkZXMnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9jb2ZyYWRlc1wiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnY29mcmFkZXMvbGlzdC9jb2ZyYWRlcy5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0NvZnJhZGVzJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBjb2ZyYWRlc1ByZXBTZXJ2aWNlOiBjb2ZyYWRlc1ByZXBTZXJ2aWNlLFxyXG4gICAgICAgICAgICBjb2ZyYWRlc0JhamFzUHJlcFNlcnZpY2U6IGNvZnJhZGVzQmFqYXNQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLnN0YXRlKCdjb2ZyYWRlc0RldGFsbGUnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9jb2ZyYWRlcy86Y29mcmFkZUlkXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdjb2ZyYWRlcy9kZXRhaWwvY29mcmFkZURldGFsbGUuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb2ZyYWRlRGV0YWxsZScsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZ2V0Q29mcmFkZVByZXBTZXJ2aWNlOiBnZXRDb2ZyYWRlUHJlcFNlcnZpY2UsXHJcbiAgICAgICAgICAgIGdldE1hcHNQcmVwU2VydmljZTogZ2V0TWFwc1ByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KS5cclxuICAgICAgc3RhdGUoJ2NvZnJhZGVzQ2FtYmlvcycsIHtcclxuICAgICAgICB1cmw6IFwiL2NvZnJhZGVzL2NhbWJpb3MvOmNvZnJhZGVJZFwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnY29mcmFkZXMvYWRkTW9kaWZ5L2NvZnJhZGVBZGRNb2RpZnkuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb2ZyYWRlQWRkTW9kaWZ5JyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBnZXRDb2ZyYWRlUHJlcFNlcnZpY2U6IGdldENvZnJhZGVQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjb2ZyYWRlc1ByZXBTZXJ2aWNlKGNvZnJhZGVzU2VydmljZSkge1xyXG4gICAgcmV0dXJuIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5xdWVyeSgpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY29mcmFkZXNCYWphc1ByZXBTZXJ2aWNlKGNvZnJhZGVzU2VydmljZSkge1xyXG4gICAgcmV0dXJuIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc0JhamFzUmVzdCgpLnF1ZXJ5KCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRDb2ZyYWRlUHJlcFNlcnZpY2UoY29mcmFkZXNTZXJ2aWNlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgIHJldHVybiAoJHN0YXRlUGFyYW1zLmNvZnJhZGVJZCkgPyBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkuZ2V0KHtpZDogJHN0YXRlUGFyYW1zLmNvZnJhZGVJZH0pIDogZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGdldE1hcHNQcmVwU2VydmljZSh1aUdtYXBHb29nbGVNYXBBcGksIGdldENvZnJhZGVQcmVwU2VydmljZSwgbWFwYXNTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gZ2V0Q29mcmFkZVByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIFxyXG4gICAgICB2YXIgYWRkcmVzcyA9IGRhdGEuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jYWxsZSAgICAgKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5udW1lcm8gICAgKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5tdW5pY2lwaW8gKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5wcm92aW5jaWEgKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jcDtcclxuXHJcbiAgICAgIHJldHVybiBtYXBhc1NlcnZpY2UuZ2VvQ29kaW5nQVBJKGFkZHJlc3MpLlxyXG4gICAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucmVzdWx0cy5sZW5ndGgpe1xyXG4gICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSByZXNwb25zZS5kYXRhLnJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb247XHJcbiAgICAgICAgICAgIHJldHVybiB1aUdtYXBHb29nbGVNYXBBcGkudGhlbihmdW5jdGlvbihtYXBzKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuICB7Y29vcmQ6ICB7IGxhdGl0dWRlOiBjb29yZGluYXRlcy5sYXQsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogY29vcmRpbmF0ZXMubG5nIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyOiB7IGxhdGl0dWRlOiBjb29yZGluYXRlcy5sYXQsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogY29vcmRpbmF0ZXMubG5nIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxNyB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoY29uZmlnKTtcclxuXHJcbiAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAuc3RhdGUoJ2Nvc3RhbGVyb3MnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9jb3N0YWxlcm9zXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdjb3N0YWxlcm9zL2xpc3QvY29zdGFsZXJvcy5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0Nvc3RhbGVyb3MnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIGNvc3RhbGVyb3NQcmVwU2VydmljZTogY29zdGFsZXJvc1ByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuc3RhdGUoJ2Nvc3RhbGVyb3NEZXRhbGxlJywge1xyXG4gICAgICAgIHVybDogXCIvY29zdGFsZXJvcy86Y29zdGFsZXJvSWRcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2Nvc3RhbGVyb3MvZGV0YWlsL2Nvc3RhbGVyb0RldGFsbGUuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb3N0YWxlcm9EZXRhbGxlJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBnZXRDb3N0YWxlcm9QcmVwU2VydmljZTogZ2V0Q29zdGFsZXJvUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pLlxyXG4gICAgICBzdGF0ZSgnY29zdGFsZXJvc0NhbWJpb3MnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9jb3N0YWxlcm9zL2NhbWJpb3MvOmNvc3RhbGVyb0lkXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdjb3N0YWxlcm9zL2FkZE1vZGlmeS9jb3N0YWxlcm9BZGRNb2RpZnkuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb3N0YWxlcm9BZGRNb2RpZnknLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIGdldENvc3RhbGVyb1ByZXBTZXJ2aWNlOiBnZXRDb3N0YWxlcm9QcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjb3N0YWxlcm9zUHJlcFNlcnZpY2UoY29zdGFsZXJvc1NlcnZpY2UpIHtcclxuICAgIHJldHVybiBjb3N0YWxlcm9zU2VydmljZS5jb3N0YWxlcm9zUmVzdCgpLnF1ZXJ5KCk7XHJcbiAgfVxyXG5cclxuICBcclxuICBmdW5jdGlvbiBnZXRDb3N0YWxlcm9QcmVwU2VydmljZShjb3N0YWxlcm9zU2VydmljZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICByZXR1cm4gKCRzdGF0ZVBhcmFtcy5jb3N0YWxlcm9JZCkgPyBjb3N0YWxlcm9zU2VydmljZS5jb3N0YWxlcm9zUmVzdCgpLmdldCh7aWQ6ICRzdGF0ZVBhcmFtcy5jb3N0YWxlcm9JZH0pIDogZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGNvbmZpZyk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xyXG4gICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgLnN0YXRlKCdwYXBlbGV0YXNTaXRpb3MnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9wYXBlbGV0YXNTaXRpb3NcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3BhcGVsZXRhc1NpdGlvcy9saXN0L3BhcGVsZXRhc1NpdGlvcy5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ1BhcGVsZXRhc1NpdGlvcycsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgcGFwZWxldGFzU2l0aW9zUHJlcFNlcnZpY2U6IHBhcGVsZXRhc1NpdGlvc1ByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KS5cclxuICAgICAgc3RhdGUoJ3BhcGVsZXRhc1NpdGlvc0NhbWJpb3MnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9wYXBlbGV0YXNTaXRpb3MvY2FtYmlvc1wiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgncGFwZWxldGFzU2l0aW9zL2FkZE1vZGlmeS9wYXBlbGV0YVNpdGlvQWRkTW9kaWZ5Lmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnUGFwZWxldGFTaXRpb0FkZE1vZGlmeScsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHBhcGVsZXRhc1NpdGlvc1ByZXBTZXJ2aWNlKHBhcGVsZXRhc1NpdGlvc1NlcnZpY2UpIHtcclxuICAgIHJldHVybiBwYXBlbGV0YXNTaXRpb3NTZXJ2aWNlLnBhcGVsZXRhc1NpdGlvc1Jlc3QoKS5xdWVyeSh7YW5pb3M6IHRydWV9KTtcclxuICB9XHJcbiAgXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoY29uZmlnKTtcclxuXHJcbiAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAuc3RhdGUoJ3NlY3RvcmVzJywge1xyXG4gICAgICAgIHVybDogXCIvc2VjdG9yZXNcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3NlY3RvcmVzL2xpc3Qvc2VjdG9yZXMuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdTZWN0b3JlcycsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgc2VjdG9yZXNQcmVwU2VydmljZTogc2VjdG9yZXNQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSkuXHJcbiAgICAgIHN0YXRlKCdzZWN0b3Jlc0NhbWJpb3MnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9zZWN0b3Jlcy9jYW1iaW9zLzpzZWN0b3JJZC86Y2FsbGVcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3NlY3RvcmVzL2FkZE1vZGlmeS9zZWN0b3JBZGRNb2RpZnkuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdTZWN0b3JBZGRNb2RpZnknLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIGdldFNlY3RvclByZXBTZXJ2aWNlOiBnZXRTZWN0b3JQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzZWN0b3Jlc1ByZXBTZXJ2aWNlKHNlY3RvcmVzU2VydmljZSkge1xyXG4gICAgcmV0dXJuIHNlY3RvcmVzU2VydmljZS5zZWN0b3Jlc1Jlc3QoKS5xdWVyeSgpO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBnZXRTZWN0b3JQcmVwU2VydmljZShzZWN0b3Jlc1NlcnZpY2UsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgcmV0dXJuICgkc3RhdGVQYXJhbXMuc2VjdG9ySWQpID8gc2VjdG9yZXNTZXJ2aWNlLnNlY3RvcmVzUmVzdCgpLmdldCh7aWQ6ICRzdGF0ZVBhcmFtcy5zZWN0b3JJZH0pIDogZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdBcHBDdHJsJywgQXBwQ3RybCk7XHJcblxyXG5cclxuICBmdW5jdGlvbiBBcHBDdHJsKCRtZFNpZGVuYXYsICRzdGF0ZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIHZtLnRvZ2dsZVNpZGVuYXYgPSB0b2dnbGVTaWRlbmF2O1xyXG4gICAgdm0ubmF2aWdhdGVUbyAgICA9IG5hdmlnYXRlVG87XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHRvZ2dsZVNpZGVuYXYobWVudUlkKSB7XHJcbiAgICAgICRtZFNpZGVuYXYobWVudUlkKS50b2dnbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBuYXZpZ2F0ZVRvKHRvLCBtZW51SWQpe1xyXG4gICAgICB0b2dnbGVTaWRlbmF2KG1lbnVJZCk7XHJcbiAgICAgICRzdGF0ZS5nbyh0byk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcclxuICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgIC5zdGF0ZSgnZGlyZWN0aXZvcycsIHtcclxuICAgICAgICB1cmw6IFwiL2RpcmVjdGl2b3NcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2RpcmVjdGl2b3MvbGlzdC9kaXJlY3Rpdm9zLmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnRGlyZWN0aXZvcycsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZGlyZWN0aXZvc1ByZXBTZXJ2aWNlOiBkaXJlY3Rpdm9zUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5zdGF0ZSgnZGlyZWN0aXZvc0RldGFsbGUnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9kaXJlY3Rpdm9zLzpkaXJlY3Rpdm9JZFwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnZGlyZWN0aXZvcy9kZXRhaWwvZGlyZWN0aXZvRGV0YWxsZS5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0RpcmVjdGl2b0RldGFsbGUnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIGdldERpcmVjdGl2b1ByZXBTZXJ2aWNlOiBnZXREaXJlY3Rpdm9QcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSkuXHJcbiAgICAgIHN0YXRlKCdkaXJlY3Rpdm9zQ2FtYmlvcycsIHtcclxuICAgICAgICB1cmw6IFwiL2RpcmVjdGl2b3MvY2FtYmlvcy86ZGlyZWN0aXZvSWRcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2RpcmVjdGl2b3MvYWRkTW9kaWZ5L2RpcmVjdGl2b0FkZE1vZGlmeS5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0RpcmVjdGl2b0FkZE1vZGlmeScsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZ2V0RGlyZWN0aXZvUHJlcFNlcnZpY2U6IGdldERpcmVjdGl2b1ByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGRpcmVjdGl2b3NQcmVwU2VydmljZShkaXJlY3Rpdm9zU2VydmljZSkge1xyXG4gICAgcmV0dXJuIGRpcmVjdGl2b3NTZXJ2aWNlLmRpcmVjdGl2b3NSZXN0KCkucXVlcnkoKTtcclxuICB9XHJcblxyXG4gIFxyXG4gIGZ1bmN0aW9uIGdldERpcmVjdGl2b1ByZXBTZXJ2aWNlKGRpcmVjdGl2b3NTZXJ2aWNlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgIHJldHVybiAoJHN0YXRlUGFyYW1zLmRpcmVjdGl2b0lkKSA/IGRpcmVjdGl2b3NTZXJ2aWNlLmRpcmVjdGl2b3NSZXN0KCkuZ2V0KHtpZDogJHN0YXRlUGFyYW1zLmRpcmVjdGl2b0lkfSkgOiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0FzcGlyYW50ZUFkZE1vZGlmeScsIEFzcGlyYW50ZUFkZE1vZGlmeSk7XHJcblxyXG4gIGZ1bmN0aW9uIEFzcGlyYW50ZUFkZE1vZGlmeSgkc2NvcGUsICRkb2N1bWVudCwgJG1kVG9hc3QsICRzdGF0ZSwgZ2V0QXNwaXJhbnRlUHJlcFNlcnZpY2UsIGFzcGlyYW50ZXNTZXJ2aWNlLCBjb2ZyYWRlc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLm5ld0NvZnJhZGUgPSBmYWxzZTtcclxuXHJcbiAgICB2bS5iYWNrU3RhdGUgICAgICAgICAgPSBiYWNrU3RhdGU7XHJcbiAgICB2bS5xdWVyeVNlYXJjaCAgICAgICAgPSBxdWVyeVNlYXJjaDtcclxuICAgIHZtLnNlbGVjdGVkSXRlbUNoYW5nZSA9IHNlbGVjdGVkSXRlbUNoYW5nZTtcclxuICAgIHZtLmd1YXJkYXIgICAgICAgICAgICA9IGd1YXJkYXI7XHJcblxyXG4gICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgaWYgKGdldEFzcGlyYW50ZVByZXBTZXJ2aWNlKXtcclxuICAgICAgICBnZXRBc3BpcmFudGVQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGluaXRBc3BpcmFudGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgbmV3QXNwaXJhbnRlKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdEFzcGlyYW50ZShkYXRhKSB7XHJcbiAgICAgIHZtLmFzcGlyYW50ZSA9IGRhdGE7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG5ld0FzcGlyYW50ZSgpIHtcclxuICAgICAgdm0ubmV3Q29mcmFkZSA9IHRydWU7XHJcbiAgICAgIHZtLmFzcGlyYW50ZSA9IHtjb2ZyYWRlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZmVjaGE6IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGJhY2tTdGF0ZSgpIHtcclxuICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHF1ZXJ5U2VhcmNoKHF1ZXJ5KSB7XHJcbiAgICAgIHZhciBmaWx0cm8gPSB7fTtcclxuICAgICAgaWYgKGlzTmFOKHF1ZXJ5KSlcclxuICAgICAgICBmaWx0cm8ubm9tYnJlID0gcXVlcnk7XHJcbiAgICAgIGVsc2UgaWYoIWlzTmFOKHF1ZXJ5KSlcclxuICAgICAgICBmaWx0cm8ubnVtZXJvT3JkZW4gPSBxdWVyeTtcclxuXHJcbiAgICAgIHJldHVybiBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkucXVlcnkoZmlsdHJvKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZS5yZXN1bHRzO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWxlY3RlZEl0ZW1DaGFuZ2UoaXRlbSkge1xyXG4gICAgICB2bS5hc3BpcmFudGUuY29mcmFkZSA9ICBpdGVtID8gaXRlbS5pZCA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhcihpc1ZhbGlkKSB7XHJcbiAgICAgIGlmKGlzVmFsaWQpe1xyXG4gICAgICAgIGlmICghdm0uYXNwaXJhbnRlLmNvZnJhZGUpe1xyXG4gICAgICAgICAgJHNjb3BlLmFzcGlyYW50ZUZvcm0uY29mcmFkZS4kZXJyb3IucmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgc2hvd0FjdGlvblRvYXN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICB2bS5hc3BpcmFudGUuY29mcmFkZSA9IHZtLmFzcGlyYW50ZS5jb2ZyYWRlLmlkID8gdm0uYXNwaXJhbnRlLmNvZnJhZGUuaWQgOiB2bS5hc3BpcmFudGUuY29mcmFkZTtcclxuICAgICAgICAgIGFzcGlyYW50ZXNTZXJ2aWNlLmFzcGlyYW50ZXNSZXN0KCkuc2F2ZSh2bS5hc3BpcmFudGUsIGd1YXJkYXJTdWNjZXNzLCBndWFyZGFyRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlXHJcbiAgICAgICAgc2hvd0FjdGlvblRvYXN0KCk7XHJcbiAgICB9XHJcbiAgICAgIFxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhclN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0d1YXJkYWRvIGNvbiDDqXhpdG8hIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICk7XHJcbiAgICAgICRzdGF0ZS5nbygnYXNwaXJhbnRlcycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJFcnJvcihyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXJyb3IgYWwgZ3VhcmRhciEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzaG93QWN0aW9uVG9hc3QoKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFeGlzdGVuIGVycm9yZXMgZW4gZWwgZm9ybXVsYXJpbycpXHJcbiAgICAgICAgICAuYWN0aW9uKCdPSycpXHJcbiAgICAgICAgICAuaGlnaGxpZ2h0QWN0aW9uKGZhbHNlKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQXNwaXJhbnRlcycsIEFzcGlyYW50ZXMpO1xyXG5cclxuICBmdW5jdGlvbiBBc3BpcmFudGVzKGFzcGlyYW50ZXNQcmVwU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0uYXNwaXJhbnRlcyA9IG51bGw7XHJcbiAgICBhY3RpdmF0ZSgpO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgcmV0dXJuIGFzcGlyYW50ZXNQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLmFzcGlyYW50ZXMgPSBkYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQXV0b3JpZGFkQWRkTW9kaWZ5JywgQXV0b3JpZGFkQWRkTW9kaWZ5KTtcclxuXHJcbiAgZnVuY3Rpb24gQXV0b3JpZGFkQWRkTW9kaWZ5KCRzY29wZSwgJGRvY3VtZW50LCAkbWRUb2FzdCwgJHN0YXRlLCBnZXRBdXRvcmlkYWRQcmVwU2VydmljZSwgYXV0b3JpZGFkZXNTZXJ2aWNlLCBjb2ZyYWRlc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLm5ld0NvZnJhZGUgPSBmYWxzZTtcclxuXHJcbiAgICB2bS5iYWNrU3RhdGUgICAgICAgICAgPSBiYWNrU3RhdGU7XHJcbiAgICB2bS5xdWVyeVNlYXJjaCAgICAgICAgPSBxdWVyeVNlYXJjaDtcclxuICAgIHZtLnNlbGVjdGVkSXRlbUNoYW5nZSA9IHNlbGVjdGVkSXRlbUNoYW5nZTtcclxuICAgIHZtLmd1YXJkYXIgICAgICAgICAgICA9IGd1YXJkYXI7XHJcblxyXG4gICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgaWYgKGdldEF1dG9yaWRhZFByZXBTZXJ2aWNlKXtcclxuICAgICAgICBnZXRBdXRvcmlkYWRQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGluaXRBdXRvcmlkYWQpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgbmV3QXV0b3JpZGFkKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdEF1dG9yaWRhZChkYXRhKSB7XHJcbiAgICAgIHZtLmF1dG9yaWRhZCA9IGRhdGE7XHJcbiAgICAgIHZtLmNhbGxlU2VsZWN0ZWQgPSB7Y2FsbGU6IHZtLmF1dG9yaWRhZC5kaXJlY2Npb24uY2FsbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3A6IHZtLmF1dG9yaWRhZC5kaXJlY2Npb24uY3AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmluY2lhOiB2bS5hdXRvcmlkYWQuZGlyZWNjaW9uLnByb3ZpbmNpYSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBtdW5pY2lwaW86IHZtLmF1dG9yaWRhZC5kaXJlY2Npb24ubXVuaWNpcGlvfTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmV3QXV0b3JpZGFkKCkge1xyXG4gICAgICB2bS5uZXdDb2ZyYWRlID0gdHJ1ZTtcclxuICAgICAgdm0uYXV0b3JpZGFkID0ge2RpcmVjY2lvbjoge319O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGJhY2tTdGF0ZSgpIHtcclxuICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHF1ZXJ5U2VhcmNoKHF1ZXJ5KSB7XHJcbiAgICAgIHJldHVybiBjb2ZyYWRlc1NlcnZpY2UuZ2V0Q2FsbGVzKHF1ZXJ5KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UuZGF0YTt9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWxlY3RlZEl0ZW1DaGFuZ2UoaXRlbSkge1xyXG4gICAgICBpZiAoaXRlbSl7XHJcbiAgICAgICAgdm0uYXV0b3JpZGFkLmRpcmVjY2lvbi5jYWxsZSA9IGl0ZW0uY2FsbGU7XHJcbiAgICAgICAgdm0uYXV0b3JpZGFkLmRpcmVjY2lvbi5tdW5pY2lwaW8gPSBpdGVtLm11bmljaXBpbztcclxuICAgICAgICB2bS5hdXRvcmlkYWQuZGlyZWNjaW9uLmNwID0gaXRlbS5jcDtcclxuICAgICAgICB2bS5hdXRvcmlkYWQuZGlyZWNjaW9uLnByb3ZpbmNpYSA9IGl0ZW0ucHJvdmluY2lhO1xyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICB2bS5hdXRvcmlkYWQuZGlyZWNjaW9uLmNhbGxlID0gbnVsbDtcclxuICAgICAgICB2bS5hdXRvcmlkYWQuZGlyZWNjaW9uLm11bmljaXBpbyA9IG51bGw7XHJcbiAgICAgICAgdm0uYXV0b3JpZGFkLmRpcmVjY2lvbi5jcCA9IG51bGw7XHJcbiAgICAgICAgdm0uYXV0b3JpZGFkLmRpcmVjY2lvbi5wcm92aW5jaWEgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhcihpc1ZhbGlkKSB7XHJcbiAgICAgIGlmKGlzVmFsaWQpe1xyXG4gICAgICAgIHZtLmF1dG9yaWRhZC5kaXJlY2Npb24uY2FsbGUgPSB2bS5hdXRvcmlkYWQuZGlyZWNjaW9uLmNhbGxlID8gdm0uYXV0b3JpZGFkLmRpcmVjY2lvbi5jYWxsZSA6IHZtLnNlYXJjaFRleHQ7XHJcbiAgICAgICAgYXV0b3JpZGFkZXNTZXJ2aWNlLmF1dG9yaWRhZGVzUmVzdCgpLnNhdmUodm0uYXV0b3JpZGFkLCBndWFyZGFyU3VjY2VzcywgZ3VhcmRhckVycm9yKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlXHJcbiAgICAgICAgc2hvd0FjdGlvblRvYXN0KCk7XHJcbiAgICB9XHJcbiAgICAgIFxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhclN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0d1YXJkYWRvIGNvbiDDqXhpdG8hIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICk7XHJcbiAgICAgICRzdGF0ZS5nbygnYXV0b3JpZGFkZXMnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyRXJyb3IocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0Vycm9yIGFsIGd1YXJkYXIhIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2hvd0FjdGlvblRvYXN0KCkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXhpc3RlbiBlcnJvcmVzIGVuIGVsIGZvcm11bGFyaW8nKVxyXG4gICAgICAgICAgLmFjdGlvbignT0snKVxyXG4gICAgICAgICAgLmhpZ2hsaWdodEFjdGlvbihmYWxzZSlcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0F1dG9yaWRhZERldGFsbGUnLCBBdXRvcmlkYWREZXRhbGxlKTtcclxuXHJcbiAgZnVuY3Rpb24gQXV0b3JpZGFkRGV0YWxsZSgkc3RhdGUsIGdldEF1dG9yaWRhZFByZXBTZXJ2aWNlLCBnZXRNYXBzUHJlcFNlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgdm0ubW9kaWZ5QXV0b3JpZGFkID0gbW9kaWZ5QXV0b3JpZGFkO1xyXG4gICAgXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICByZXR1cm4gZ2V0QXV0b3JpZGFkUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5hdXRvcmlkYWQgPSBkYXRhO1xyXG4gICAgICAgIHZtLm1hcHMgPSBnZXRNYXBzUHJlcFNlcnZpY2U7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUF1dG9yaWRhZChpZCwgZXZlbnQpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2F1dG9yaWRhZGVzQ2FtYmlvcycsIHthdXRvcmlkYWRJZDogaWR9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdBdXRvcmlkYWRlcycsIEF1dG9yaWRhZGVzKTtcclxuXHJcbiAgZnVuY3Rpb24gQXV0b3JpZGFkZXMoYXV0b3JpZGFkZXNQcmVwU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0uYXV0b3JpZGFkZXMgPSBudWxsO1xyXG4gICAgYWN0aXZhdGUoKTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIHJldHVybiBhdXRvcmlkYWRlc1ByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0uYXV0b3JpZGFkZXMgPSBkYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQ29mcmFkZUFkZE1vZGlmeScsIENvZnJhZGVBZGRNb2RpZnkpO1xyXG5cclxuICBmdW5jdGlvbiBDb2ZyYWRlQWRkTW9kaWZ5KCRmaWx0ZXIsICRkb2N1bWVudCwgJG1kVG9hc3QsICRzdGF0ZSwgZ2V0Q29mcmFkZVByZXBTZXJ2aWNlLCBjb2ZyYWRlc1NlcnZpY2UsIHNlY3RvcmVzU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0ubnVldmFDYWxsZSA9IHRydWU7XHJcbiAgICB2bS5jb2ZyYWRlID0ge2RhdG9zRmluYW5jaWVyb3M6IHtjdWVudGE6IHt9LCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldWRhOiBbXX0sXHJcbiAgICAgICAgICAgICAgICAgIGRhdG9zUGVyc29uYWxlczogIHtkaXJlY2Npb246IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V4bzogXCJIb21icmVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlY2hhSW5zY3JpcGNpb246IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWNoYU5hY2ltaWVudG86IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9XHJcbiAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICB2bS5iYWNrU3RhdGUgICAgICAgICAgPSBiYWNrU3RhdGU7XHJcbiAgICB2bS5xdWVyeVNlYXJjaCAgICAgICAgPSBxdWVyeVNlYXJjaDtcclxuICAgIHZtLnNlbGVjdGVkSXRlbUNoYW5nZSA9IHNlbGVjdGVkSXRlbUNoYW5nZTtcclxuICAgIHZtLmNhbGN1bGFyQ0MgICAgICAgICA9IGNhbGN1bGFyQ0M7XHJcbiAgICB2bS5jYWxjdWxhckliYW4gICAgICAgPSBjYWxjdWxhckliYW47XHJcbiAgICB2bS5ndWFyZGFyICAgICAgICAgICAgPSBndWFyZGFyO1xyXG5cclxuICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIGlmIChnZXRDb2ZyYWRlUHJlcFNlcnZpY2Upe1xyXG4gICAgICAgIGdldENvZnJhZGVQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGluaXRDb2ZyYWRlKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNle1xyXG4gICAgICAgIGNvZnJhZGVzU2VydmljZS5nZXRSZWdpc3Ryb3MoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmNvZnJhZGUubnVtZXJvT3JkZW4gPSByZXNwb25zZS5kYXRhLm51bWVyb09yZGVuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uY29mcmFkZS5udW1lcm9Db2ZyYWRlID0gcmVzcG9uc2UuZGF0YS5udW1lcm9Db2ZyYWRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRDb2ZyYWRlKGRhdGEpIHtcclxuICAgICAgdm0uY29mcmFkZSA9IGRhdGE7XHJcbiAgICAgIHZtLmNhbGxlU2VsZWN0ZWQgPSB7Y2FsbGU6IHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jYWxsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjcDogdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLmNwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpbmNpYTogdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLnByb3ZpbmNpYSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBtdW5pY2lwaW86IHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5tdW5pY2lwaW99O1xyXG5cclxuICAgICAgdm0uZmVjaGFOYWNpbWllbnRvID0gdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFOYWNpbWllbnRvO1xyXG4gICAgICB2bS5mZWNoYUluc2NyaXBjaW9uID0gdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFJbnNjcmlwY2lvbjtcclxuICAgICAgdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zID0gdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zIHx8IHtjdWVudGE6IHt9LCBkZXVkYTogW119O1xyXG4gICAgICB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhID0gdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YSB8fCB7fTtcclxuICAgICAgdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmRldWRhID0gdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmRldWRhIHx8IFtdO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBiYWNrU3RhdGUoKSB7XHJcbiAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBxdWVyeVNlYXJjaChxdWVyeSkge1xyXG4gICAgICByZXR1cm4gY29mcmFkZXNTZXJ2aWNlLmdldENhbGxlcyhxdWVyeSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlLmRhdGE7fSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0ZWRJdGVtQ2hhbmdlKGl0ZW0pIHtcclxuICAgICAgaWYgKGl0ZW0pe1xyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jYWxsZSA9IGl0ZW0uY2FsbGU7XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLm11bmljaXBpbyA9IGl0ZW0ubXVuaWNpcGlvO1xyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jcCA9IGl0ZW0uY3A7XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLnByb3ZpbmNpYSA9IGl0ZW0ucHJvdmluY2lhO1xyXG4gICAgICAgIHNlYXJjaFNlY3RvcihpdGVtLmNhbGxlKTtcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLmNhbGxlID0gbnVsbDtcclxuICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ubXVuaWNpcGlvID0gbnVsbDtcclxuICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY3AgPSBudWxsO1xyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5wcm92aW5jaWEgPSBudWxsO1xyXG4gICAgICAgIHZtLnNlY3RvciA9IG51bGw7XHJcbiAgICAgICAgdm0ubnVldmFDYWxsZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2VhcmNoU2VjdG9yKGNhbGxlKSB7XHJcbiAgICAgIHNlY3RvcmVzU2VydmljZS5zZWN0b3Jlc1Jlc3QoKS5xdWVyeSh7Y2FsbGU6IGNhbGxlfSwgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0uc2VjdG9yID0gZGF0YVswXS5udW1lcm9TZWN0b3I7XHJcbiAgICAgICAgdm0ubnVldmFDYWxsZSA9IGZhbHNlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjYWxjdWxhckNDKCkge1xyXG4gICAgICBpZiAodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5pYmFuKVxyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuY2MgPSAkZmlsdGVyKCdjYWxjdWxhckNDJykodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5pYmFuKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjYWxjdWxhckliYW4oKSB7XHJcbiAgICAgIGlmICh2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhLmNjKVxyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuaWJhbiA9ICRmaWx0ZXIoJ2NhbGN1bGFySWJhbicpKHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuY2MpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXIoaXNWYWxpZCkge1xyXG4gICAgICBpZihpc1ZhbGlkKXtcclxuICAgICAgICB2YXIgZGF0b3NGaW5hbmNpZXJvcyA9IHtjdWVudGE6IHt9LCBkZXVkYTogW119O1xyXG5cclxuICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY2FsbGUgPSB2bS5zZWFyY2hUZXh0O1xyXG5cclxuICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zKSA9PT0gSlNPTi5zdHJpbmdpZnkoZGF0b3NGaW5hbmNpZXJvcykpXHJcbiAgICAgICAgICBkZWxldGUgdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBDb2ZyYWRlUmVzb3VyY2UgPSBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCk7XHJcbiAgICAgICAgaWYodm0ubnVldmFDYWxsZSl7XHJcbiAgICAgICAgICBndWFyZGFyQ2FsbGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgIGd1YXJkYXJDb2ZyYWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2VcclxuICAgICAgICBzaG93QWN0aW9uVG9hc3QoKTtcclxuICAgICAgXHJcbiAgICAgIGZ1bmN0aW9uIGd1YXJkYXJDb2ZyYWRlKCl7XHJcbiAgICAgICAgQ29mcmFkZVJlc291cmNlLnNhdmUodm0uY29mcmFkZSwgZ3VhcmRhclN1Y2Nlc3MsIGd1YXJkYXJFcnJvcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGd1YXJkYXJDYWxsZSgpIHtcclxuICAgICAgICBzZWN0b3Jlc1NlcnZpY2Uuc2VjdG9yZXNSZXN0KCkuZ2V0KHtzZWN0b3I6IHZtLnNlY3Rvcn0sIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgdmFyIHNlY3RvclJlc291cmNlID0gIGRhdGFbMF07XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmKHNlY3RvclJlc291cmNlKXtcclxuICAgICAgICAgICAgc2VjdG9yUmVzb3VyY2UuY29mcmFkZSA9IHNlY3RvclJlc291cmNlLmNvZnJhZGUuaWQ7XHJcbiAgICAgICAgICAgIHNlY3RvclJlc291cmNlLmNhbGxlcy5wdXNoKHZtLnNlYXJjaFRleHQpO1xyXG4gICAgICAgICAgICBzZWN0b3JSZXNvdXJjZS4kc2F2ZShudWxsLCBndWFyZGFyQ29mcmFkZSwgZ3VhcmRhckVycm9yKTsgICAgICAgICAgICBcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgICAgICAgIC5jb250ZW50KCdFbCBzZWN0b3IgJyArdm0uc2VjdG9yKyAnIG5vIGV4aXN0ZSEhJylcclxuICAgICAgICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhclN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0d1YXJkYWRvIGNvbiDDqXhpdG8hIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICk7XHJcbiAgICAgICRzdGF0ZS5nbygnY29mcmFkZXMnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyRXJyb3IocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0Vycm9yIGFsIGd1YXJkYXIhIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2hvd0FjdGlvblRvYXN0KCkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXhpc3RlbiBlcnJvcmVzIGVuIGVsIGZvcm11bGFyaW8nKVxyXG4gICAgICAgICAgLmFjdGlvbignT0snKVxyXG4gICAgICAgICAgLmhpZ2hsaWdodEFjdGlvbihmYWxzZSlcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0NvZnJhZGVEZXRhbGxlJywgQ29mcmFkZURldGFsbGUpO1xyXG5cclxuICBmdW5jdGlvbiBDb2ZyYWRlRGV0YWxsZSgkc3RhdGUsICRmaWx0ZXIsIGdldENvZnJhZGVQcmVwU2VydmljZSwgZ2V0TWFwc1ByZXBTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLmNvZnJhZGUgPSBudWxsO1xyXG4gICAgdm0ubWFwcyA9IG51bGw7XHJcbiAgICBcclxuICAgIHZtLm1vZGlmeUNvZnJhZGUgPSBtb2RpZnlDb2ZyYWRlO1xyXG4gICAgXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICByZXR1cm4gZ2V0Q29mcmFkZVByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0uY29mcmFkZSA9IGRhdGE7XHJcbiAgICAgICAgaWYodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zKVxyXG4gICAgICAgICAgaWYodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YSl7XHJcbiAgICAgICAgICAgIHZtLmliYW4gPSAkZmlsdGVyKCdwYXJzZUliYW4nKSh2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhLmliYW4pO1xyXG4gICAgICAgICAgICB2bS5jYyA9ICRmaWx0ZXIoJ3BhcnNlQ0MnKSh2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhLmNjKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB2bS5tYXBzID0gZ2V0TWFwc1ByZXBTZXJ2aWNlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtb2RpZnlDb2ZyYWRlKGlkLCBldmVudCl7XHJcbiAgICAgICRzdGF0ZS5nbygnY29mcmFkZXNDYW1iaW9zJywge2NvZnJhZGVJZDogaWR9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdDb2ZyYWRlcycsIENvZnJhZGVzKTtcclxuXHJcbiAgZnVuY3Rpb24gQ29mcmFkZXMoY29mcmFkZXNQcmVwU2VydmljZSwgY29mcmFkZXNCYWphc1ByZXBTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5jb2ZyYWRlcyA9IG51bGw7XHJcbiAgICB2bS5uZXh0UGFnZSA9IG51bGw7XHJcbiAgICB2bS5jb2ZyYWRlc0JhamFzID0gbnVsbDtcclxuICAgIHZtLm5leHRQYWdlQmFqYXMgPSBudWxsO1xyXG4gICAgdm0uc2VsZWN0ZWRUYWIgPSAwO1xyXG4gICAgYWN0aXZhdGUoKTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIGNvZnJhZGVzUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5uZXh0UGFnZSA9IGRhdGEubmV4dDtcclxuICAgICAgICB2bS5jb2ZyYWRlcyA9IGRhdGEucmVzdWx0cztcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gY29mcmFkZXNCYWphc1ByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0ubmV4dFBhZ2VCYWphcyA9IGRhdGEubmV4dDtcclxuICAgICAgICB2bS5jb2ZyYWRlc0JhamFzID0gZGF0YS5yZXN1bHRzO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnc2Nyb2xseScsIHNjcm9sbHkpO1xyXG5cclxuICBmdW5jdGlvbiBzY3JvbGx5KCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgbGluazogZnVuY3Rpb24gKCRyb290U2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgdmFyIHJhdyA9IGVsZW1lbnRbMF07XHJcbiAgICAgICAgZWxlbWVudC5iaW5kKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBpZiAocmF3LnNjcm9sbFRvcCArIHJhdy5vZmZzZXRIZWlnaHQgPj0gcmF3LnNjcm9sbEhlaWdodC01KSB7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoXCJzY3JvbGxEb3duXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmlsdGVyKCdwYXJzZUliYW4nLCBwYXJzZUliYW4pXHJcbiAgICAuZmlsdGVyKCdwYXJzZUNDJywgcGFyc2VDQylcclxuICAgIC5maWx0ZXIoJ2NhbGN1bGFySWJhbicsIGNhbGN1bGFySWJhbilcclxuICAgIC5maWx0ZXIoJ2NhbGN1bGFyQ0MnLCBjYWxjdWxhckNDKTtcclxuXHJcbiAgZnVuY3Rpb24gcGFyc2VJYmFuKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpYmFuKSB7XHJcbiAgICAgIGliYW4gPSBpYmFuIHx8ICcnO1xyXG4gICAgICB2YXIgZm9ybWF0dGVkSWJhbiA9ICcnO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpYmFuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGkgPiAwICYmIGkgJSA0ID09PSAwKSB7XHJcbiAgICAgICAgICBmb3JtYXR0ZWRJYmFuICs9ICcgJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9ybWF0dGVkSWJhbiArPSBpYmFuW2ldO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmb3JtYXR0ZWRJYmFuO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHBhcnNlQ0MoKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNjKSB7XHJcbiAgICAgIGNjID0gY2MgfHwgJyc7XHJcbiAgICAgIHZhciBmb3JtYXR0ZWRDQyA9ICcnO1xyXG5cclxuICAgICAgZm9ybWF0dGVkQ0MgPSBjYy5zdWJzdHIoMCwgNCkgKyAnLSc7XHJcbiAgICAgIGZvcm1hdHRlZENDICs9IGNjLnN1YnN0cig0LCA0KSArICctJztcclxuICAgICAgZm9ybWF0dGVkQ0MgKz0gY2Muc3Vic3RyKDgsIDIpICsgJy0nO1xyXG4gICAgICBmb3JtYXR0ZWRDQyArPSBjYy5zdWJzdHIoMTAsIDEwKTtcclxuXHJcbiAgICAgIHJldHVybiBmb3JtYXR0ZWRDQztcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjYWxjdWxhckNDKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpYmFuKSB7XHJcbiAgICAgIGliYW4gPSBpYmFuIHx8ICcnO1xyXG4gICAgICByZXR1cm4gaWJhbi5zdWJzdHIoNCwgMjApO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNhbGN1bGFySWJhbigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoY2NjKSB7XHJcbiAgICAgIHZhciBwYWlzID0gXCJFU1wiO1xyXG4gICAgICB2YXIgY2lmcmFzID0gY2NjICsgdmFsb3JDaWZyYXMocGFpcykgKyBcIjAwXCI7XHJcbiAgICAgIHZhciByZXN0byA9IG1vZHVsbyhjaWZyYXMsIDk3KTtcclxuICAgICAgcmV0dXJuIHBhaXMgKyBjZXJvc0l6cXVpZXJkYSg5OC1yZXN0bywgMikgKyBjY2M7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHZhbG9yQ2lmcmFzKGNpZnJhcykge1xyXG4gICAgICB2YXIgTEVUUkFTID0gXCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIjtcclxuICAgICAgdmFyIGl0ZW1zID0gW107XHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxjaWZyYXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgcG9zaWNpb24gPSBMRVRSQVMuaW5kZXhPZihjaWZyYXNbaV0pO1xyXG4gICAgICAgIGl0ZW1zLnB1c2gocG9zaWNpb24gPCAwPyBcIi1cIjogcG9zaWNpb24pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBpdGVtcy5qb2luKFwiXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZHVsbyhjaWZyYXMsIGRpdmlzb3IpIHtcclxuICAgICAgdmFyIENVRU5UQSA9IDEwO1xyXG4gICAgICB2YXIgbGFyZ28gPSBjaWZyYXMubGVuZ3RoO1xyXG4gICAgICB2YXIgcmVzdG8gPSAwO1xyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8bGFyZ287IGkrPUNVRU5UQSkge1xyXG4gICAgICAgIHZhciBkaXZpZGVuZG8gPSByZXN0byArIFwiXCIgKyBjaWZyYXMuc3Vic3RyKGksIENVRU5UQSk7XHJcbiAgICAgICAgcmVzdG8gPSBkaXZpZGVuZG8gJSBkaXZpc29yO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXN0bztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjZXJvc0l6cXVpZXJkYShjaWZyYXMsIGxhcmdvKSB7XHJcbiAgICAgIGNpZnJhcyArPSAnJztcclxuICAgICAgd2hpbGUoY2lmcmFzLmxlbmd0aCA8IGxhcmdvKSB7IGNpZnJhcyA9ICcwJytjaWZyYXM7IH1cclxuICAgICAgcmV0dXJuIGNpZnJhcztcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmlsdGVyKCdzdHJpbmdUb0RhdGVGb3JtYXQnLCBzdHJpbmdUb0RhdGVGb3JtYXQpXHJcbiAgICAuZmlsdGVyKCdmb3JtYXREYXRlcycsIGZvcm1hdERhdGVzKTtcclxuXHJcbiAgZnVuY3Rpb24gc3RyaW5nVG9EYXRlRm9ybWF0KCl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmIChkYXRhLmRhdG9zUGVyc29uYWxlcyl7XHJcbiAgICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFOYWNpbWllbnRvICA9IG5ldyBEYXRlKGRhdGEuZGF0b3NQZXJzb25hbGVzLmZlY2hhTmFjaW1pZW50bykudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XHJcbiAgICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFJbnNjcmlwY2lvbiA9IG5ldyBEYXRlKGRhdGEuZGF0b3NQZXJzb25hbGVzLmZlY2hhSW5zY3JpcGNpb24pLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmKGRhdGEuZmVjaGEpXHJcbiAgICAgICAgZGF0YS5mZWNoYSAgPSBuZXcgRGF0ZShkYXRhLmZlY2hhKS50b0xvY2FsZURhdGVTdHJpbmcoKTtcclxuXHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGZvcm1hdERhdGVzKCl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIFxyXG4gICAgICB2YXIgZGF0ZSA9IG51bGw7XHJcbiAgICAgIGlmIChkYXRhLmRhdG9zUGVyc29uYWxlcyl7XHJcbiAgICAgICAgZGF0ZSA9IGRhdGEuZGF0b3NQZXJzb25hbGVzLmZlY2hhTmFjaW1pZW50by5zcGxpdChcIi9cIik7XHJcbiAgICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFOYWNpbWllbnRvICA9IGRhdGVbMl0gKyAnLScgKyBkYXRlWzFdICsgJy0nICsgZGF0ZVswXTtcclxuICAgICAgICBkYXRlID0gZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFJbnNjcmlwY2lvbi5zcGxpdChcIi9cIik7XHJcbiAgICAgICAgZGF0YS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFJbnNjcmlwY2lvbiA9IGRhdGVbMl0gKyAnLScgKyBkYXRlWzFdICsgJy0nICsgZGF0ZVswXTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChkYXRhLmZlY2hhKXtcclxuICAgICAgICBkYXRlID0gZGF0YS5mZWNoYS5zcGxpdChcIi9cIik7XHJcbiAgICAgICAgZGF0YS5mZWNoYSAgPSBkYXRlWzJdICsgJy0nICsgZGF0ZVsxXSArICctJyArIGRhdGVbMF07XHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICBkYXRhID0gbmV3IERhdGUoZGF0YSkudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZpbHRlcigncmVtb3ZlTnVsbHMnLCByZW1vdmVOdWxscyk7XHJcblxyXG4gIGZ1bmN0aW9uIHJlbW92ZU51bGxzKCl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKXtcclxuICAgICAgdmFyIGlzQXJyYXkgPSBvYmogaW5zdGFuY2VvZiBBcnJheTtcclxuICAgICAgZm9yICh2YXIgayBpbiBvYmope1xyXG4gICAgICAgIGlmIChvYmpba109PT1udWxsKSBpc0FycmF5ID8gb2JqLnNwbGljZShrLDEpIDogZGVsZXRlIG9ialtrXTtcclxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqW2tdPT1cIm9iamVjdFwiKSByZW1vdmVOdWxscyhvYmpba10pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgnYXNwaXJhbnRlc1NlcnZpY2UnLCBhc3BpcmFudGVzU2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIGFzcGlyYW50ZXNTZXJ2aWNlKCRyZXNvdXJjZSwgJGZpbHRlcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYXNwaXJhbnRlc1Jlc3Q6IGFzcGlyYW50ZXNSZXN0XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGFzcGlyYW50ZXNSZXN0KCkge1xyXG4gICAgICByZXR1cm4gJHJlc291cmNlKCdodHRwOi8vMTI3LjAuMC4xOjUwNTAvYXBpL2FzcGlyYW50ZXMvOmlkLmpzb246anNvbicsIG51bGwsIHtcclxuICAgICAgICAncXVlcnknOiAge21ldGhvZDonR0VUJywgaXNBcnJheTogdHJ1ZX0sXHJcbiAgICAgICAgJ2dldCc6ICAgIHttZXRob2Q6J0dFVCcsIHRyYW5zZm9ybVJlc3BvbnNlOiBmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkZmlsdGVyKCdzdHJpbmdUb0RhdGVGb3JtYXQnKShhbmd1bGFyLmZyb21Kc29uKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAnc2F2ZSc6ICAge21ldGhvZDonUE9TVCcsIHRyYW5zZm9ybVJlcXVlc3Q6IGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIudG9Kc29uKCRmaWx0ZXIoJ2Zvcm1hdERhdGVzJykoJGZpbHRlcigncmVtb3ZlTnVsbHMnKShkYXRhKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ2F1dG9yaWRhZGVzU2VydmljZScsIGF1dG9yaWRhZGVzU2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIGF1dG9yaWRhZGVzU2VydmljZSgkcmVzb3VyY2UsICRmaWx0ZXIpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGF1dG9yaWRhZGVzUmVzdDogYXV0b3JpZGFkZXNSZXN0XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGF1dG9yaWRhZGVzUmVzdCgpIHtcclxuICAgICAgcmV0dXJuICRyZXNvdXJjZSgnaHR0cDovLzEyNy4wLjAuMTo1MDUwL2FwaS9hdXRvcmlkYWRlcy86aWQuanNvbjpqc29uJywgbnVsbCwge1xyXG4gICAgICAgICdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OiB0cnVlfSxcclxuICAgICAgICAnc2F2ZSc6ICAge21ldGhvZDonUE9TVCcsIHRyYW5zZm9ybVJlcXVlc3Q6IGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIudG9Kc29uKCRmaWx0ZXIoJ3JlbW92ZU51bGxzJykoZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ2NvZnJhZGVzU2VydmljZScsIGNvZnJhZGVzU2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvZnJhZGVzU2VydmljZSgkcmVzb3VyY2UsICRodHRwLCAkZmlsdGVyKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjb2ZyYWRlc1Jlc3Q6IGNvZnJhZGVzUmVzdCxcclxuICAgICAgY29mcmFkZXNCYWphc1Jlc3Q6IGNvZnJhZGVzQmFqYXNSZXN0LFxyXG4gICAgICBnZXRDYWxsZXM6IGdldENhbGxlcyxcclxuICAgICAgZ2V0UmVnaXN0cm9zOiBnZXRSZWdpc3Ryb3NcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gY29mcmFkZXNSZXN0KCkge1xyXG4gICAgICByZXR1cm4gJHJlc291cmNlKCdodHRwOi8vMTI3LjAuMC4xOjUwNTAvYXBpL2NvZnJhZGVzLzppZC5qc29uOmpzb24nLCBudWxsLCB7XHJcbiAgICAgICAgJ3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6IGZhbHNlfSxcclxuICAgICAgICAnZ2V0JzogICAge21ldGhvZDonR0VUJywgdHJhbnNmb3JtUmVzcG9uc2U6IGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRmaWx0ZXIoJ3N0cmluZ1RvRGF0ZUZvcm1hdCcpKGFuZ3VsYXIuZnJvbUpzb24oZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICdzYXZlJzogICB7bWV0aG9kOidQT1NUJywgdHJhbnNmb3JtUmVxdWVzdDogZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci50b0pzb24oJGZpbHRlcignZm9ybWF0RGF0ZXMnKSgkZmlsdGVyKCdyZW1vdmVOdWxscycpKGRhdGEpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvZnJhZGVzQmFqYXNSZXN0KCkge1xyXG4gICAgICByZXR1cm4gJHJlc291cmNlKCdodHRwOi8vMTI3LjAuMC4xOjUwNTAvYXBpL2NvZnJhZGVzQmFqYXMvOmlkLmpzb246anNvbicsIG51bGwsIHsncXVlcnknOiAge21ldGhvZDonR0VUJywgaXNBcnJheTpmYWxzZX19KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDYWxsZXMoY2FsbGUpIHtcclxuICAgICAgcmV0dXJuICRodHRwLmdldCgnaHR0cDovLzEyNy4wLjAuMTo1MDUwL2FwaS9jYWxsZXMvJywge3BhcmFtczoge2NhbGxlOiBjYWxsZX19KS5cclxuICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLmZyb21Kc29uKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRSZWdpc3Ryb3MoKSB7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6NTA1MC9hcGkvcmVnaXN0cm9zLycpLlxyXG4gICAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZnJvbUpzb24ocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ2Nvc3RhbGVyb3NTZXJ2aWNlJywgY29zdGFsZXJvc1NlcnZpY2UpO1xyXG5cclxuICBmdW5jdGlvbiBjb3N0YWxlcm9zU2VydmljZSgkcmVzb3VyY2UsICRmaWx0ZXIpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNvc3RhbGVyb3NSZXN0OiBjb3N0YWxlcm9zUmVzdFxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb3N0YWxlcm9zUmVzdCgpIHtcclxuICAgICAgcmV0dXJuICRyZXNvdXJjZSgnaHR0cDovLzEyNy4wLjAuMTo1MDUwL2FwaS9jb3N0YWxlcm9zLzppZC5qc29uOmpzb24nLCBudWxsLCB7XHJcbiAgICAgICAgJ3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6IHRydWV9LFxyXG4gICAgICAgICdnZXQnOiAgICB7bWV0aG9kOidHRVQnLCB0cmFuc2Zvcm1SZXNwb25zZTogZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGZpbHRlcignc3RyaW5nVG9EYXRlRm9ybWF0JykoYW5ndWxhci5mcm9tSnNvbihkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgJ3NhdmUnOiAgIHttZXRob2Q6J1BPU1QnLCB0cmFuc2Zvcm1SZXF1ZXN0OiBmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLnRvSnNvbigkZmlsdGVyKCdmb3JtYXREYXRlcycpKCRmaWx0ZXIoJ3JlbW92ZU51bGxzJykoZGF0YSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdkaXJlY3Rpdm9zU2VydmljZScsIGRpcmVjdGl2b3NTZXJ2aWNlKTtcclxuXHJcbiAgZnVuY3Rpb24gZGlyZWN0aXZvc1NlcnZpY2UoJHJlc291cmNlLCAkZmlsdGVyKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkaXJlY3Rpdm9zUmVzdDogZGlyZWN0aXZvc1Jlc3RcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gZGlyZWN0aXZvc1Jlc3QoKSB7XHJcbiAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2h0dHA6Ly8xMjcuMC4wLjE6NTA1MC9hcGkvZGlyZWN0aXZvcy86aWQuanNvbjpqc29uJywgbnVsbCwge1xyXG4gICAgICAgICdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OiB0cnVlfSxcclxuICAgICAgICAnc2F2ZSc6ICAge21ldGhvZDonUE9TVCcsIHRyYW5zZm9ybVJlcXVlc3Q6IGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIudG9Kc29uKCRmaWx0ZXIoJ3JlbW92ZU51bGxzJykoZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ21hcGFzU2VydmljZScsIG1hcGFzU2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIG1hcGFzU2VydmljZSgkaHR0cCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZ2VvQ29kaW5nQVBJOiBnZW9Db2RpbmdBUElcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gZ2VvQ29kaW5nQVBJKGFkZHJlc3MpIHtcclxuICAgICAgcmV0dXJuICRodHRwLmdldCgnaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2dlb2NvZGUvanNvbicsIHtwYXJhbXM6IHthZGRyZXNzOiBhZGRyZXNzLCBrZXk6IFwiQUl6YVN5RENfT0lEU2w2Y3VyakNNQ0x5em4yeWhNbWctZXI1a25JXCJ9fSkuXHJcbiAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgfSk7XHJcbiAgICB9ICAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdwYXBlbGV0YXNTaXRpb3NTZXJ2aWNlJywgcGFwZWxldGFzU2l0aW9zU2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIHBhcGVsZXRhc1NpdGlvc1NlcnZpY2UoJHJlc291cmNlLCAkZmlsdGVyKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwYXBlbGV0YXNTaXRpb3NSZXN0OiBwYXBlbGV0YXNTaXRpb3NSZXN0XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHBhcGVsZXRhc1NpdGlvc1Jlc3QoKSB7XHJcbiAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2h0dHA6Ly8xMjcuMC4wLjE6NTA1MC9hcGkvcGFwZWxldGFzU2l0aW9zLzppZC5qc29uOmpzb24nLCBudWxsLCB7XHJcbiAgICAgICAgJ3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6IHRydWV9LFxyXG4gICAgICAgICdzYXZlJzogICB7bWV0aG9kOidQT1NUJywgdHJhbnNmb3JtUmVxdWVzdDogZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci50b0pzb24oJGZpbHRlcigncmVtb3ZlTnVsbHMnKShkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICBcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgnc2VjdG9yZXNTZXJ2aWNlJywgc2VjdG9yZXNTZXJ2aWNlKTtcclxuXHJcbiAgZnVuY3Rpb24gc2VjdG9yZXNTZXJ2aWNlKCRyZXNvdXJjZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc2VjdG9yZXNSZXN0OiBzZWN0b3Jlc1Jlc3RcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gc2VjdG9yZXNSZXN0KCkge1xyXG4gICAgICByZXR1cm4gJHJlc291cmNlKCdodHRwOi8vMTI3LjAuMC4xOjUwNTAvYXBpL3NlY3RvcmVzLzppZC5qc29uOmpzb24nLCBudWxsLCB7XHJcbiAgICAgICAgJ2dldCc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OiB0cnVlfSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0Nvc3RhbGVyb0FkZE1vZGlmeScsIENvc3RhbGVyb0FkZE1vZGlmeSk7XHJcblxyXG4gIGZ1bmN0aW9uIENvc3RhbGVyb0FkZE1vZGlmeSgkc2NvcGUsICRmaWx0ZXIsICRkb2N1bWVudCwgJG1kVG9hc3QsICRzdGF0ZSwgZ2V0Q29zdGFsZXJvUHJlcFNlcnZpY2UsIGNvc3RhbGVyb3NTZXJ2aWNlLCBjb2ZyYWRlc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLmJhY2tTdGF0ZSAgICAgICAgICA9IGJhY2tTdGF0ZTtcclxuICAgIHZtLnF1ZXJ5U2VhcmNoICAgICAgICA9IHF1ZXJ5U2VhcmNoO1xyXG4gICAgdm0uc2VsZWN0ZWRJdGVtQ2hhbmdlID0gc2VsZWN0ZWRJdGVtQ2hhbmdlO1xyXG4gICAgdm0uZ3VhcmRhciAgICAgICAgICAgID0gZ3VhcmRhcjtcclxuXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICBpZiAoZ2V0Q29zdGFsZXJvUHJlcFNlcnZpY2Upe1xyXG4gICAgICAgIGdldENvc3RhbGVyb1ByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oaW5pdENvc3RhbGVybyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdENvc3RhbGVybyhkYXRhKSB7XHJcbiAgICAgIHZtLmNvc3RhbGVybyA9IGRhdGE7XHJcbiAgICAgIHZtLmNvZnJhZGVTZWxlY3RlZCA9IHZtLmNvc3RhbGVyby5jb2ZyYWRlO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBiYWNrU3RhdGUoKSB7XHJcbiAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBxdWVyeVNlYXJjaChxdWVyeSkge1xyXG4gICAgICB2YXIgZmlsdHJvID0ge307XHJcbiAgICAgIGlmIChpc05hTihxdWVyeSkpXHJcbiAgICAgICAgZmlsdHJvLm5vbWJyZSA9IHF1ZXJ5O1xyXG4gICAgICBlbHNlIGlmKCFpc05hTihxdWVyeSkpXHJcbiAgICAgICAgZmlsdHJvLm51bWVyb09yZGVuID0gcXVlcnk7XHJcblxyXG4gICAgICByZXR1cm4gY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzUmVzdCgpLnF1ZXJ5KGZpbHRybykuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UucmVzdWx0cztcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0ZWRJdGVtQ2hhbmdlKGl0ZW0pIHtcclxuICAgICAgdm0uY29zdGFsZXJvLmNvZnJhZGUgPSAgaXRlbSA/IGl0ZW0uaWQgOiBudWxsO1xyXG4gICAgfSAgICBcclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyKGlzVmFsaWQpIHtcclxuICAgICAgaWYoaXNWYWxpZCl7XHJcbiAgICAgICAgdm0uY29zdGFsZXJvLmZlY2hhID0gKHZtLmNvc3RhbGVyby5mZWNoYSA9PT0gXCJcIikgPyBudWxsIDogdm0uY29zdGFsZXJvLmZlY2hhO1xyXG4gICAgICAgIGlmICghdm0uY29zdGFsZXJvLmNvZnJhZGUpe1xyXG4gICAgICAgICAgJHNjb3BlLmNvc3RhbGVyb0Zvcm0uY29mcmFkZS4kZXJyb3IucmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgc2hvd0FjdGlvblRvYXN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICBjb3N0YWxlcm9zU2VydmljZS5jb3N0YWxlcm9zUmVzdCgpLnNhdmUodm0uY29zdGFsZXJvLCBndWFyZGFyU3VjY2VzcywgZ3VhcmRhckVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZVxyXG4gICAgICAgIHNob3dBY3Rpb25Ub2FzdCgpO1xyXG4gICAgfVxyXG4gICAgICBcclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJTdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdHdWFyZGFkbyBjb24gw6l4aXRvISEnKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgICAkc3RhdGUuZ28oJ2Nvc3RhbGVyb3MnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyRXJyb3IocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0Vycm9yIGFsIGd1YXJkYXIhIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2hvd0FjdGlvblRvYXN0KCkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXhpc3RlbiBlcnJvcmVzIGVuIGVsIGZvcm11bGFyaW8nKVxyXG4gICAgICAgICAgLmFjdGlvbignT0snKVxyXG4gICAgICAgICAgLmhpZ2hsaWdodEFjdGlvbihmYWxzZSlcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0Nvc3RhbGVyb0RldGFsbGUnLCBDb3N0YWxlcm9EZXRhbGxlKTtcclxuXHJcbiAgZnVuY3Rpb24gQ29zdGFsZXJvRGV0YWxsZSgkc3RhdGUsIGdldENvc3RhbGVyb1ByZXBTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLm1vZGlmeUNvc3RhbGVybyA9IG1vZGlmeUNvc3RhbGVybztcclxuICAgIFxyXG4gICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgcmV0dXJuIGdldENvc3RhbGVyb1ByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0uY29zdGFsZXJvID0gZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbW9kaWZ5Q29zdGFsZXJvKGlkLCBldmVudCl7XHJcbiAgICAgICRzdGF0ZS5nbygnY29zdGFsZXJvc0NhbWJpb3MnLCB7Y29zdGFsZXJvSWQ6IGlkfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQ29zdGFsZXJvcycsIENvc3RhbGVyb3MpO1xyXG5cclxuICBmdW5jdGlvbiBDb3N0YWxlcm9zKGNvc3RhbGVyb3NQcmVwU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0uY29zdGFsZXJvcyA9IG51bGw7XHJcbiAgICBhY3RpdmF0ZSgpO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgcmV0dXJuIGNvc3RhbGVyb3NQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLmNvc3RhbGVyb3MgPSBkYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignUGFwZWxldGFTaXRpb0FkZE1vZGlmeScsIFBhcGVsZXRhU2l0aW9BZGRNb2RpZnkpO1xyXG5cclxuICBmdW5jdGlvbiBQYXBlbGV0YVNpdGlvQWRkTW9kaWZ5KCRzY29wZSwgJGZpbHRlciwgJGRvY3VtZW50LCAkbWRUb2FzdCwgJHN0YXRlLCAgcGFwZWxldGFzU2l0aW9zU2VydmljZSwgY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5uZXdDb2ZyYWRlID0gZmFsc2U7XHJcblxyXG4gICAgdm0uYmFja1N0YXRlICAgICAgICAgID0gYmFja1N0YXRlO1xyXG4gICAgdm0ucXVlcnlTZWFyY2ggICAgICAgID0gcXVlcnlTZWFyY2g7XHJcbiAgICB2bS5zZWxlY3RlZEl0ZW1DaGFuZ2UgPSBzZWxlY3RlZEl0ZW1DaGFuZ2U7XHJcbiAgICB2bS5ndWFyZGFyICAgICAgICAgICAgPSBndWFyZGFyO1xyXG5cclxuICAgIG5ld3BhcGVsZXRhU2l0aW8oKTtcclxuXHJcbiAgICBmdW5jdGlvbiBuZXdwYXBlbGV0YVNpdGlvKCkge1xyXG4gICAgICB2bS5uZXdDb2ZyYWRlID0gdHJ1ZTtcclxuICAgICAgdm0uZmVjaGEgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gICAgICB2bS5wYXBlbGV0YVNpdGlvID0ge2NvZnJhZGU6IG51bGx9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGJhY2tTdGF0ZSgpIHtcclxuICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHF1ZXJ5U2VhcmNoKHF1ZXJ5KSB7XHJcbiAgICAgIHZhciBmaWx0cm8gPSB7fTtcclxuICAgICAgaWYgKGlzTmFOKHF1ZXJ5KSlcclxuICAgICAgICBmaWx0cm8ubm9tYnJlID0gcXVlcnk7XHJcbiAgICAgIGVsc2UgaWYoIWlzTmFOKHF1ZXJ5KSlcclxuICAgICAgICBmaWx0cm8ubnVtZXJvT3JkZW4gPSBxdWVyeTtcclxuXHJcbiAgICAgIHJldHVybiBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkucXVlcnkoZmlsdHJvKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZS5yZXN1bHRzO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWxlY3RlZEl0ZW1DaGFuZ2UoaXRlbSkge1xyXG4gICAgICB2bS5wYXBlbGV0YVNpdGlvLmNvZnJhZGUgPSAgaXRlbSA/IGl0ZW0uaWQgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXIoaXNWYWxpZCkge1xyXG4gICAgICBpZihpc1ZhbGlkKXtcclxuICAgICAgICBpZiAoIXZtLnBhcGVsZXRhU2l0aW8uY29mcmFkZSl7XHJcbiAgICAgICAgICAkc2NvcGUucGFwZWxldGFTaXRpb0Zvcm0uY29mcmFkZS4kZXJyb3IucmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgc2hvd0FjdGlvblRvYXN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICB2bS5wYXBlbGV0YVNpdGlvLmZlY2hhID0gdm0uZmVjaGE7XHJcbiAgICAgICAgICAkZmlsdGVyKCdmb3JtYXREYXRlcycpKHZtLnBhcGVsZXRhU2l0aW8pO1xyXG4gICAgICAgICAgcGFwZWxldGFzU2l0aW9zU2VydmljZS5wYXBlbGV0YXNTaXRpb3NSZXN0KCkuc2F2ZSh7YW5pbzogbmV3IERhdGUodm0ucGFwZWxldGFTaXRpby5mZWNoYSkuZ2V0RnVsbFllYXIoKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlbGV0YXM6W3ZtLnBhcGVsZXRhU2l0aW9dfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1YXJkYXJTdWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VhcmRhckVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZVxyXG4gICAgICAgIHNob3dBY3Rpb25Ub2FzdCgpO1xyXG4gICAgfVxyXG4gICAgICBcclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJTdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdHdWFyZGFkbyBjb24gw6l4aXRvISEnKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgICAkc3RhdGUuZ28oJ3BhcGVsZXRhc1NpdGlvcycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJFcnJvcihyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXJyb3IgYWwgZ3VhcmRhciEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzaG93QWN0aW9uVG9hc3QoKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFeGlzdGVuIGVycm9yZXMgZW4gZWwgZm9ybXVsYXJpbycpXHJcbiAgICAgICAgICAuYWN0aW9uKCdPSycpXHJcbiAgICAgICAgICAuaGlnaGxpZ2h0QWN0aW9uKGZhbHNlKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignUGFwZWxldGFzU2l0aW9zJywgUGFwZWxldGFzU2l0aW9zKTtcclxuXHJcbiAgZnVuY3Rpb24gUGFwZWxldGFzU2l0aW9zKHBhcGVsZXRhc1NpdGlvc1ByZXBTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5wYXBlbGV0YXNTaXRpb3MgPSBudWxsO1xyXG4gICAgYWN0aXZhdGUoKTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIHJldHVybiBwYXBlbGV0YXNTaXRpb3NQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLnBhcGVsZXRhc1NpdGlvcyA9IGRhdGE7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdTZWN0b3JBZGRNb2RpZnknLCBTZWN0b3JBZGRNb2RpZnkpO1xyXG5cclxuICBmdW5jdGlvbiBTZWN0b3JBZGRNb2RpZnkoJHNjb3BlLCAkZmlsdGVyLCAkZG9jdW1lbnQsICRtZFRvYXN0LCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgZ2V0U2VjdG9yUHJlcFNlcnZpY2UsIHNlY3RvcmVzU2VydmljZSwgY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5uZXdFbmNhcmdhZG8gPSBmYWxzZTtcclxuICAgIHZtLm5ld0NhbGxlICAgICA9IGZhbHNlO1xyXG4gICAgdm0uaW5kZXhDYWxsZSAgID0gbnVsbDtcclxuXHJcbiAgICB2bS5iYWNrU3RhdGUgICAgICAgICAgPSBiYWNrU3RhdGU7XHJcbiAgICB2bS5xdWVyeVNlYXJjaCAgICAgICAgPSBxdWVyeVNlYXJjaDtcclxuICAgIHZtLnNlbGVjdGVkSXRlbUNoYW5nZSA9IHNlbGVjdGVkSXRlbUNoYW5nZTtcclxuICAgIHZtLmd1YXJkYXIgICAgICAgICAgICA9IGd1YXJkYXI7XHJcblxyXG4gICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgaWYgKGdldFNlY3RvclByZXBTZXJ2aWNlKXtcclxuICAgICAgICBnZXRTZWN0b3JQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGluaXRTZWN0b3IpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgbmV3RW5jYXJnYWRvKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbml0U2VjdG9yKGRhdGEpIHtcclxuICAgICAgdm0uc2VjdG9yID0gZGF0YVswXTtcclxuICAgICAgdm0uY29mcmFkZVNlbGVjdGVkID0gdm0uc2VjdG9yLmNvZnJhZGU7XHJcbiAgICAgIHZtLm9yaWdpblNlY3RvciA9IHZtLnNlY3Rvci5udW1lcm9TZWN0b3I7XHJcbiAgICAgIGlmICgkc3RhdGVQYXJhbXMuY2FsbGUgPT09ICduZXcnKXtcclxuICAgICAgICB2bS5uZXdDYWxsZSA9IHRydWU7XHJcbiAgICAgICAgdm0uaW5kZXhDYWxsZSA9IHZtLnNlY3Rvci5jYWxsZXMubGVuZ3RoO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgdm0uaW5kZXhDYWxsZSA9ICh2bS5zZWN0b3IuY2FsbGVzLmluZGV4T2YoJHN0YXRlUGFyYW1zLmNhbGxlKSA+IC0xKSA/IHZtLnNlY3Rvci5jYWxsZXMuaW5kZXhPZigkc3RhdGVQYXJhbXMuY2FsbGUpIDogbnVsbDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBuZXdFbmNhcmdhZG8oKSB7XHJcbiAgICAgIHZtLm5ld0VuY2FyZ2FkbyA9IHRydWU7XHJcbiAgICAgIHZtLnNlY3RvciA9IHtjb2ZyYWRlOiBudWxsfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBiYWNrU3RhdGUoKSB7XHJcbiAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBxdWVyeVNlYXJjaChxdWVyeSkge1xyXG4gICAgICB2YXIgZmlsdHJvID0ge307XHJcbiAgICAgIGlmIChpc05hTihxdWVyeSkpXHJcbiAgICAgICAgZmlsdHJvLm5vbWJyZSA9IHF1ZXJ5O1xyXG4gICAgICBlbHNlIGlmKCFpc05hTihxdWVyeSkpXHJcbiAgICAgICAgZmlsdHJvLm51bWVyb09yZGVuID0gcXVlcnk7XHJcblxyXG4gICAgICByZXR1cm4gY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzUmVzdCgpLnF1ZXJ5KGZpbHRybykuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UucmVzdWx0cztcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0ZWRJdGVtQ2hhbmdlKGl0ZW0pIHtcclxuICAgICAgdm0uc2VjdG9yLmNvZnJhZGUgPSAgaXRlbSA/IGl0ZW0uaWQgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXIoaXNWYWxpZCkge1xyXG4gICAgICBpZihpc1ZhbGlkKXtcclxuICAgICAgICBpZiAoIXZtLnNlY3Rvci5jb2ZyYWRlKXtcclxuICAgICAgICAgICRzY29wZS5zZWN0b3JGb3JtLmNvZnJhZGUuJGVycm9yLnJlcXVpcmVkID0gdHJ1ZTtcclxuICAgICAgICAgIHNob3dBY3Rpb25Ub2FzdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgaWYgKHZtLnNlY3Rvci5udW1lcm9TZWN0b3IgPT09IHZtLm9yaWdpblNlY3RvciB8fCB2bS5uZXdFbmNhcmdhZG8pe1xyXG4gICAgICAgICAgICBndWFyZGFyU2VjdG9yKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBndWFyZGFyQ2FtYmlvU2VjdG9yKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2VcclxuICAgICAgICBzaG93QWN0aW9uVG9hc3QoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhclNlY3Rvcigpe1xyXG4gICAgICBzZWN0b3Jlc1NlcnZpY2Uuc2VjdG9yZXNSZXN0KCkuc2F2ZSh2bS5zZWN0b3IsIGd1YXJkYXJTdWNjZXNzLCBndWFyZGFyRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJDYW1iaW9TZWN0b3IoKXtcclxuICAgICAgc2VjdG9yZXNTZXJ2aWNlLnNlY3RvcmVzUmVzdCgpLmdldCh7c2VjdG9yOiB2bS5zZWN0b3IubnVtZXJvU2VjdG9yfSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgaWYgKCFyZXNwb25zZVswXSl7XHJcbiAgICAgICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgICAgIC5jb250ZW50KCdObyBleGlzdGUgZXNlIHNlY3RvcicpXHJcbiAgICAgICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc3BvbnNlWzBdLmNvZnJhZGUgPSByZXNwb25zZVswXS5jb2ZyYWRlLmlkO1xyXG4gICAgICAgIHJlc3BvbnNlWzBdLmNhbGxlcy5wdXNoKHZtLnNlY3Rvci5jYWxsZXNbdm0uaW5kZXhDYWxsZV0pO1xyXG4gICAgICAgIHJlc3BvbnNlWzBdLiRzYXZlKG51bGwsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uc2VjdG9yLmNhbGxlcy5zcGxpY2Uodm0uaW5kZXhDYWxsZSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uc2VjdG9yLm51bWVyb1NlY3RvciA9IHZtLm9yaWdpblNlY3RvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWFyZGFyU2VjdG9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGd1YXJkYXJFcnJvcik7XHJcbiAgICAgICAgXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJTdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdHdWFyZGFkbyBjb24gw6l4aXRvISEnKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgICAkc3RhdGUuZ28oJ3NlY3RvcmVzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhckVycm9yKHJlc3BvbnNlKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFcnJvciBhbCBndWFyZGFyISEnKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHNob3dBY3Rpb25Ub2FzdCgpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0V4aXN0ZW4gZXJyb3JlcyBlbiBlbCBmb3JtdWxhcmlvJylcclxuICAgICAgICAgIC5hY3Rpb24oJ09LJylcclxuICAgICAgICAgIC5oaWdobGlnaHRBY3Rpb24oZmFsc2UpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdTZWN0b3JlcycsIFNlY3RvcmVzKTtcclxuXHJcbiAgZnVuY3Rpb24gU2VjdG9yZXMoc2VjdG9yZXNQcmVwU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0uc2VjdG9yZXMgPSBudWxsO1xyXG4gICAgYWN0aXZhdGUoKTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIHJldHVybiBzZWN0b3Jlc1ByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0uc2VjdG9yZXMgPSBkYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignRGlyZWN0aXZvQWRkTW9kaWZ5JywgRGlyZWN0aXZvQWRkTW9kaWZ5KTtcclxuXHJcbiAgZnVuY3Rpb24gRGlyZWN0aXZvQWRkTW9kaWZ5KCRzY29wZSwgJGRvY3VtZW50LCAkbWRUb2FzdCwgJHN0YXRlLCBnZXREaXJlY3Rpdm9QcmVwU2VydmljZSwgZGlyZWN0aXZvc1NlcnZpY2UsIGNvZnJhZGVzU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0ubmV3Q29mcmFkZSA9IGZhbHNlO1xyXG5cclxuICAgIHZtLmJhY2tTdGF0ZSAgICAgICAgICA9IGJhY2tTdGF0ZTtcclxuICAgIHZtLnF1ZXJ5U2VhcmNoICAgICAgICA9IHF1ZXJ5U2VhcmNoO1xyXG4gICAgdm0uc2VsZWN0ZWRJdGVtQ2hhbmdlID0gc2VsZWN0ZWRJdGVtQ2hhbmdlO1xyXG4gICAgdm0uZ3VhcmRhciAgICAgICAgICAgID0gZ3VhcmRhcjtcclxuXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICBpZiAoZ2V0RGlyZWN0aXZvUHJlcFNlcnZpY2Upe1xyXG4gICAgICAgIGdldERpcmVjdGl2b1ByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oaW5pdERpcmVjdGl2byk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICBuZXdEaXJlY3Rpdm8oKTtcclxuICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbml0RGlyZWN0aXZvKGRhdGEpIHtcclxuICAgICAgdm0uZGlyZWN0aXZvID0gZGF0YTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmV3RGlyZWN0aXZvKCkge1xyXG4gICAgICB2bS5uZXdDb2ZyYWRlID0gdHJ1ZTtcclxuICAgICAgdm0uZGlyZWN0aXZvID0ge2NvZnJhZGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICBmZWNoYTogbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKX07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYmFja1N0YXRlKCkge1xyXG4gICAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcXVlcnlTZWFyY2gocXVlcnkpIHtcclxuICAgICAgdmFyIGZpbHRybyA9IHt9O1xyXG4gICAgICBpZiAoaXNOYU4ocXVlcnkpKVxyXG4gICAgICAgIGZpbHRyby5ub21icmUgPSBxdWVyeTtcclxuICAgICAgZWxzZSBpZighaXNOYU4ocXVlcnkpKVxyXG4gICAgICAgIGZpbHRyby5udW1lcm9PcmRlbiA9IHF1ZXJ5O1xyXG5cclxuICAgICAgcmV0dXJuIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5xdWVyeShmaWx0cm8pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnJlc3VsdHM7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdGVkSXRlbUNoYW5nZShpdGVtKSB7XHJcbiAgICAgIHZtLmRpcmVjdGl2by5jb2ZyYWRlID0gIGl0ZW0gPyBpdGVtLmlkIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyKGlzVmFsaWQpIHtcclxuICAgICAgaWYoaXNWYWxpZCl7XHJcbiAgICAgICAgaWYgKCF2bS5kaXJlY3Rpdm8uY29mcmFkZSl7XHJcbiAgICAgICAgICAkc2NvcGUuZGlyZWN0aXZvRm9ybS5jb2ZyYWRlLiRlcnJvci5yZXF1aXJlZCA9IHRydWU7XHJcbiAgICAgICAgICBzaG93QWN0aW9uVG9hc3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgIHZtLmRpcmVjdGl2by5jb2ZyYWRlID0gdm0uZGlyZWN0aXZvLmNvZnJhZGUuaWQgPyB2bS5kaXJlY3Rpdm8uY29mcmFkZS5pZCA6IHZtLmRpcmVjdGl2by5jb2ZyYWRlO1xyXG4gICAgICAgICAgZGlyZWN0aXZvc1NlcnZpY2UuZGlyZWN0aXZvc1Jlc3QoKS5zYXZlKHZtLmRpcmVjdGl2bywgZ3VhcmRhclN1Y2Nlc3MsIGd1YXJkYXJFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2VcclxuICAgICAgICBzaG93QWN0aW9uVG9hc3QoKTtcclxuICAgIH1cclxuICAgICAgXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyU3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnR3VhcmRhZG8gY29uIMOpeGl0byEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgICAgJHN0YXRlLmdvKCdkaXJlY3Rpdm9zJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhckVycm9yKHJlc3BvbnNlKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFcnJvciBhbCBndWFyZGFyISEnKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHNob3dBY3Rpb25Ub2FzdCgpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0V4aXN0ZW4gZXJyb3JlcyBlbiBlbCBmb3JtdWxhcmlvJylcclxuICAgICAgICAgIC5hY3Rpb24oJ09LJylcclxuICAgICAgICAgIC5oaWdobGlnaHRBY3Rpb24oZmFsc2UpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdEaXJlY3Rpdm9EZXRhbGxlJywgRGlyZWN0aXZvRGV0YWxsZSk7XHJcblxyXG4gIGZ1bmN0aW9uIERpcmVjdGl2b0RldGFsbGUoJHN0YXRlLCBnZXREaXJlY3Rpdm9QcmVwU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5tb2RpZnlEaXJlY3Rpdm8gPSBtb2RpZnlEaXJlY3Rpdm87XHJcbiAgICBcclxuICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIHJldHVybiBnZXREaXJlY3Rpdm9QcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLmRpcmVjdGl2byA9IGRhdGE7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeURpcmVjdGl2byhpZCwgZXZlbnQpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2RpcmVjdGl2b3NDYW1iaW9zJywge2RpcmVjdGl2b0lkOiBpZH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0RpcmVjdGl2b3MnLCBEaXJlY3Rpdm9zKTtcclxuXHJcbiAgZnVuY3Rpb24gRGlyZWN0aXZvcyhkaXJlY3Rpdm9zUHJlcFNlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLmRpcmVjdGl2b3MgPSBudWxsO1xyXG4gICAgYWN0aXZhdGUoKTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIHJldHVybiBkaXJlY3Rpdm9zUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5kaXJlY3Rpdm9zID0gZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0FzcGlyYW50ZURldGFsbGUnLCBBc3BpcmFudGVEZXRhbGxlKTtcclxuXHJcbiAgZnVuY3Rpb24gQXNwaXJhbnRlRGV0YWxsZSgkc3RhdGUsIGdldEFzcGlyYW50ZVByZXBTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLm1vZGlmeUFzcGlyYW50ZSA9IG1vZGlmeUFzcGlyYW50ZTtcclxuICAgIFxyXG4gICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgcmV0dXJuIGdldEFzcGlyYW50ZVByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0uYXNwaXJhbnRlID0gZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbW9kaWZ5QXNwaXJhbnRlKGlkLCBldmVudCl7XHJcbiAgICAgICRzdGF0ZS5nbygnYXNwaXJhbnRlc0NhbWJpb3MnLCB7YXNwaXJhbnRlSWQ6IGlkfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0xpc3RhQXNwaXJhbnRlcycsIExpc3RhQXNwaXJhbnRlcyk7XHJcblxyXG4gIGZ1bmN0aW9uIExpc3RhQXNwaXJhbnRlcygkc3RhdGUpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLm1vZGlmeUFzcGlyYW50ZSA9IG1vZGlmeUFzcGlyYW50ZTtcclxuICAgIHZtLmdvVG9Bc3BpcmFudGUgICA9IGdvVG9Bc3BpcmFudGU7XHJcblxyXG4gICAgZnVuY3Rpb24gZ29Ub0FzcGlyYW50ZShpZCwgZXZlbnQpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2FzcGlyYW50ZXNEZXRhbGxlJywge2FzcGlyYW50ZUlkOiBpZH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUFzcGlyYW50ZShpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgJHN0YXRlLmdvKCdhc3BpcmFudGVzQ2FtYmlvcycsIHthc3BpcmFudGVJZDogaWR9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnbGlzdGFBc3BpcmFudGVzJywgbGlzdGFBc3BpcmFudGVzKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIGxpc3RhQXNwaXJhbnRlcygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9hc3BpcmFudGVzL2xpc3QvYXNwaXJhbnRlcy5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgYXNwaXJhbnRlczogJz1hc3BpcmFudGVzJyAgICAgICAgXHJcbiAgICAgIH0sXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCkge1xyXG4gICAgICAgIHNjb3BlLiR3YXRjaCgndm0uYXNwaXJhbnRlcycsIGZ1bmN0aW9uKG5ld1ZhbCkge1xyXG4gICAgICAgICAgICBpZihuZXdWYWwpIHsgXHJcbiAgICAgICAgICAgICAgc2NvcGUudm0uYXNwaXJhbnRlc1Nob3J0ID0gc2NvcGUudm0uYXNwaXJhbnRlcy5tYXAoZnVuY3Rpb24oYXNwaXJhbnRlKXtcclxuICAgICAgICAgICAgICAgIHZhciBhdXggPSB7aWQ6IGFzcGlyYW50ZS5pZCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlY2hhOiBhc3BpcmFudGUuZmVjaGF9O1xyXG4gICAgICAgICAgICAgICAgaWYgKGFzcGlyYW50ZS5jb2ZyYWRlKXtcclxuICAgICAgICAgICAgICAgICAgYXV4Lm51bWVyb09yZGVuID0gYXNwaXJhbnRlLmNvZnJhZGUubnVtZXJvT3JkZW47XHJcbiAgICAgICAgICAgICAgICAgIGF1eC5ub21icmUgPSBhc3BpcmFudGUuY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMubm9tYnJlICAgICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzcGlyYW50ZS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5hcGVsbGlkbzEgKyAnICcgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzcGlyYW50ZS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5hcGVsbGlkbzI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRydWUpO1xyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnTGlzdGFBc3BpcmFudGVzJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdSZW1vdmVBc3BpcmFudGUnLCBSZW1vdmVBc3BpcmFudGUpO1xyXG5cclxuICBmdW5jdGlvbiBSZW1vdmVBc3BpcmFudGUoJHN0YXRlLCAkbWREaWFsb2csIGFzcGlyYW50ZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLnJlbW92ZUFzcGlyYW50ZSA9IHJlbW92ZUFzcGlyYW50ZTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQXNwaXJhbnRlKGlkLCBldmVudCl7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB2YXIgcmVtb3ZlRGlhbG9nID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgLnRpdGxlKCdFbGltaW5hciBhc3BpcmFudGUnKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ8K/RXN0w6Egc2VndXJvIHF1ZSBkZXNlYSBlbGltaW5hciBlc3RlIGFzcGlyYW50ZT88YnI+UGVyZGVyw6Egc3UgYW50aWd1ZWRhZC4nKVxyXG4gICAgICAgICAgLmFyaWFMYWJlbCgnRWxpbWluYXIgYXNwaXJhbnRlJylcclxuICAgICAgICAgIC50YXJnZXRFdmVudChldmVudClcclxuICAgICAgICAgIC5vaygnQWNlcHRhcicpXHJcbiAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAuY2xpY2tPdXRzaWRlVG9DbG9zZSh0cnVlKTtcclxuICAgICAgJG1kRGlhbG9nLnNob3cocmVtb3ZlRGlhbG9nKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJlbW92ZUVuZEFzcGlyYW50ZShpZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUVuZEFzcGlyYW50ZShpZCl7XHJcbiAgICAgIHZhciBhc3BpcmFudGUgPSBhc3BpcmFudGVzU2VydmljZS5hc3BpcmFudGVzUmVzdCgpLmdldCh7aWQ6IGlkfSwgZnVuY3Rpb24oKXtcclxuICAgICAgICBhc3BpcmFudGUuJGRlbGV0ZSh7aWQ6IGlkfSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgaWYoJHN0YXRlLmN1cnJlbnQubmFtZSA9PT0gJ2FzcGlyYW50ZXMnKXtcclxuICAgICAgICAgICAgJHN0YXRlLnRyYW5zaXRpb25Ubygkc3RhdGUuY3VycmVudCwgbnVsbCwge1xyXG4gICAgICAgICAgICAgIHJlbG9hZDogdHJ1ZSxcclxuICAgICAgICAgICAgICBpbmhlcml0OiBmYWxzZSxcclxuICAgICAgICAgICAgICBub3RpZnk6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2FzcGlyYW50ZXMnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ3JlbW92ZUFzcGlyYW50ZScsIHJlbW92ZUFzcGlyYW50ZSk7XHJcblxyXG5cclxuICBmdW5jdGlvbiByZW1vdmVBc3BpcmFudGUoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvYXNwaXJhbnRlcy9yZW1vdmUvcmVtb3ZlQXNwaXJhbnRlLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBhc3BpcmFudGVJZDogJz1hc3BpcmFudGUnICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ1JlbW92ZUFzcGlyYW50ZScsXHJcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignTGlzdGFBdXRvcmlkYWRlcycsIExpc3RhQXV0b3JpZGFkZXMpO1xyXG5cclxuICBmdW5jdGlvbiBMaXN0YUF1dG9yaWRhZGVzKCRzdGF0ZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0ubW9kaWZ5QXV0b3JpZGFkID0gbW9kaWZ5QXV0b3JpZGFkO1xyXG4gICAgdm0uZ29Ub0F1dG9yaWRhZCAgID0gZ29Ub0F1dG9yaWRhZDtcclxuXHJcbiAgICBmdW5jdGlvbiBnb1RvQXV0b3JpZGFkKGlkLCBldmVudCl7XHJcbiAgICAgICRzdGF0ZS5nbygnYXV0b3JpZGFkZXNEZXRhbGxlJywge2F1dG9yaWRhZElkOiBpZH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUF1dG9yaWRhZChpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgJHN0YXRlLmdvKCdhdXRvcmlkYWRlc0NhbWJpb3MnLCB7YXV0b3JpZGFkSWQ6IGlkfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ2xpc3RhQXV0b3JpZGFkZXMnLCBsaXN0YUF1dG9yaWRhZGVzKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIGxpc3RhQXV0b3JpZGFkZXMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvYXV0b3JpZGFkZXMvbGlzdC9hdXRvcmlkYWRlcy5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgYXV0b3JpZGFkZXM6ICc9YXV0b3JpZGFkZXMnICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ0xpc3RhQXV0b3JpZGFkZXMnLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ1JlbW92ZUF1dG9yaWRhZCcsIFJlbW92ZUF1dG9yaWRhZCk7XHJcblxyXG4gIGZ1bmN0aW9uIFJlbW92ZUF1dG9yaWRhZCgkc3RhdGUsICRtZERpYWxvZywgYXV0b3JpZGFkZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLnJlbW92ZUF1dG9yaWRhZCA9IHJlbW92ZUF1dG9yaWRhZDtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQXV0b3JpZGFkKGlkLCBldmVudCl7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB2YXIgcmVtb3ZlRGlhbG9nID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgLnRpdGxlKCdFbGltaW5hciBhdXRvcmlkYWQnKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ8K/RXN0w6Egc2VndXJvIHF1ZSBkZXNlYSBlbGltaW5hciBlc3RlIGF1dG9yaWRhZD8nKVxyXG4gICAgICAgICAgLmFyaWFMYWJlbCgnRWxpbWluYXIgYXV0b3JpZGFkJylcclxuICAgICAgICAgIC50YXJnZXRFdmVudChldmVudClcclxuICAgICAgICAgIC5vaygnQWNlcHRhcicpXHJcbiAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAuY2xpY2tPdXRzaWRlVG9DbG9zZSh0cnVlKTtcclxuICAgICAgJG1kRGlhbG9nLnNob3cocmVtb3ZlRGlhbG9nKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJlbW92ZUVuZEF1dG9yaWRhZChpZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUVuZEF1dG9yaWRhZChpZCl7XHJcbiAgICAgIHZhciBhdXRvcmlkYWQgPSBhdXRvcmlkYWRlc1NlcnZpY2UuYXV0b3JpZGFkZXNSZXN0KCkuZ2V0KHtpZDogaWR9LCBmdW5jdGlvbigpe1xyXG4gICAgICAgIGF1dG9yaWRhZC4kZGVsZXRlKHtpZDogaWR9KS50aGVuKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICBpZigkc3RhdGUuY3VycmVudC5uYW1lID09PSAnYXV0b3JpZGFkZXMnKXtcclxuICAgICAgICAgICAgJHN0YXRlLnRyYW5zaXRpb25Ubygkc3RhdGUuY3VycmVudCwgbnVsbCwge1xyXG4gICAgICAgICAgICAgIHJlbG9hZDogdHJ1ZSxcclxuICAgICAgICAgICAgICBpbmhlcml0OiBmYWxzZSxcclxuICAgICAgICAgICAgICBub3RpZnk6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2F1dG9yaWRhZGVzJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdyZW1vdmVBdXRvcmlkYWQnLCByZW1vdmVBdXRvcmlkYWQpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlQXV0b3JpZGFkKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9kaXJlY3RpdmVzL2F1dG9yaWRhZGVzL3JlbW92ZS9yZW1vdmVBdXRvcmlkYWQuZGlyZWN0aXZlLmh0bWwnLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIGF1dG9yaWRhZElkOiAnPWF1dG9yaWRhZCcgICAgICAgIFxyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnUmVtb3ZlQXV0b3JpZGFkJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdMaXN0YUNvZnJhZGVzJywgTGlzdGFDb2ZyYWRlcyk7XHJcblxyXG4gIGZ1bmN0aW9uIExpc3RhQ29mcmFkZXMoJHJvb3RTY29wZSwgJHNjb3BlLCAkc3RhdGUsIGNvZnJhZGVzU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0uZmlsdHJvICAgID0gJ25vbWJyZSc7XHJcbiAgICB2bS50eXBlSW5wdXQgPSAndGV4dCc7XHJcbiAgICB2bS5idXNjYXIgICAgPSBudWxsO1xyXG5cclxuICAgIHZtLnNlYXJjaCAgICAgICAgID0gc2VhcmNoO1xyXG4gICAgdm0ucmFkaW9DaGFuZ2UgICAgPSByYWRpb0NoYW5nZTtcclxuICAgIHZtLmdvVG9Db2ZyYWRlICAgID0gZ29Ub0NvZnJhZGU7XHJcbiAgICB2bS5tb2RpZnlDb2ZyYWRlICA9IG1vZGlmeUNvZnJhZGU7XHJcblxyXG4gICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignc2Nyb2xsRG93bicsIGdldE5leHRQYWdlKTtcclxuXHJcbiAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBoYW5kbGVyKCk7XHJcbiAgICAgIGhhbmRsZXIgPSBudWxsO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TmV4dFBhZ2UoKSB7XHJcbiAgICAgIGlmICghdm0uYmFqYXMpXHJcbiAgICAgICAgZ2V0TmV4dFBhZ2VBbHRhcygpO1xyXG4gICAgICBlbHNlXHJcbiAgICAgICAgZ2V0TmV4dFBhZ2VCYWphcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldE5leHRQYWdlQWx0YXMoKSB7XHJcbiAgICAgIGlmICh2bS5uZXh0UGFnZSl7XHJcbiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSB7cGFnZTogdm0ubmV4dFBhZ2V9O1xyXG5cclxuICAgICAgICBpZiAodm0uYnVzY2FyKVxyXG4gICAgICAgICAgcGFyYW1ldGVyc1t2bS5maWx0cm9dID0gdm0uYnVzY2FyO1xyXG5cclxuICAgICAgICBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkucXVlcnkocGFyYW1ldGVycywgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICB2bS5uZXh0UGFnZSA9IGRhdGEubmV4dDtcclxuICAgICAgICAgIHZtLmNvZnJhZGVzID0gdm0uY29mcmFkZXMuY29uY2F0KGRhdGEucmVzdWx0cyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXROZXh0UGFnZUJhamFzKCkge1xyXG4gICAgICBpZiAodm0ubmV4dFBhZ2VCYWphcyl7XHJcbiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSB7cGFnZTogdm0ubmV4dFBhZ2VCYWphc307XHJcblxyXG4gICAgICAgIGlmICh2bS5idXNjYXIpXHJcbiAgICAgICAgICBwYXJhbWV0ZXJzW3ZtLmZpbHRyb10gPSB2bS5idXNjYXI7XHJcblxyXG4gICAgICAgIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc0JhamFzUmVzdCgpLnF1ZXJ5KHBhcmFtZXRlcnMsIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgdm0ubmV4dFBhZ2VCYWphcyA9IGRhdGEubmV4dDtcclxuICAgICAgICAgIHZtLmNvZnJhZGVzQmFqYXMgPSB2bS5jb2ZyYWRlc0JhamFzLmNvbmNhdChkYXRhLnJlc3VsdHMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VhcmNoKCkge1xyXG4gICAgICBpZiAoIXZtLmJhamFzKVxyXG4gICAgICAgIHNlYXJjaEFsdGFzKCk7XHJcbiAgICAgIGVsc2VcclxuICAgICAgICBzZWFyY2hCYWphcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlYXJjaEFsdGFzKCkge1xyXG4gICAgICB2YXIgZmlsdHJvID0ge307XHJcbiAgICAgIGZpbHRyb1t2bS5maWx0cm9dID0gdm0uYnVzY2FyO1xyXG4gICAgICBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkucXVlcnkoZmlsdHJvLCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5uZXh0UGFnZSA9IGRhdGEubmV4dDtcclxuICAgICAgICB2bS5jb2ZyYWRlcyA9IGRhdGEucmVzdWx0cztcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VhcmNoQmFqYXMoKSB7XHJcbiAgICAgIHZhciBmaWx0cm8gPSB7fTtcclxuICAgICAgZmlsdHJvW3ZtLmZpbHRyb10gPSB2bS5idXNjYXI7XHJcbiAgICAgIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc0JhamFzUmVzdCgpLnF1ZXJ5KGZpbHRybywgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0ubmV4dFBhZ2VCYWphcyA9IGRhdGEubmV4dDtcclxuICAgICAgICB2bS5jb2ZyYWRlc0JhamFzID0gZGF0YS5yZXN1bHRzO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByYWRpb0NoYW5nZSgpIHtcclxuICAgICAgdm0uYnVzY2FyID0gbnVsbDtcclxuICAgICAgdm0udHlwZUlucHV0ID0gKHZtLmZpbHRybyA9PT0gJ25vbWJyZScpID8gJ3RleHQnOiAnbnVtYmVyJztcclxuICAgICAgdm0uc2VhcmNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ29Ub0NvZnJhZGUoaWQsIGV2ZW50KXtcclxuICAgICAgJHN0YXRlLmdvKCdjb2ZyYWRlc0RldGFsbGUnLCB7Y29mcmFkZUlkOiBpZH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUNvZnJhZGUoaWQsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICRzdGF0ZS5nbygnY29mcmFkZXNDYW1iaW9zJywge2NvZnJhZGVJZDogaWR9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnbGlzdGFDb2ZyYWRlcycsIGxpc3RhQ29mcmFkZXMpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gbGlzdGFDb2ZyYWRlcygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9saXN0L2NvZnJhZGVzLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBjb2ZyYWRlczogJz1jb2ZyYWRlcycsXHJcbiAgICAgICAgbmV4dFBhZ2U6ICc9cGFnZScsXHJcbiAgICAgICAgY29mcmFkZXNCYWphczogJz1jb2ZyYWRlc0JhamFzJyxcclxuICAgICAgICBuZXh0UGFnZUJhamFzOiAnPXBhZ2VCYWphcydcclxuICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ0xpc3RhQ29mcmFkZXMnLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ1JlbW92ZUNvZnJhZGUnLCBSZW1vdmVDb2ZyYWRlKTtcclxuXHJcbiAgZnVuY3Rpb24gUmVtb3ZlQ29mcmFkZSgkc3RhdGUsICRtZERpYWxvZykge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5yZW1vdmVDb2ZyYWRlID0gcmVtb3ZlQ29mcmFkZTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQ29mcmFkZShpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZW1vdmUvZGlhbG9nVG1wbC9yZW1vdmVDb2ZyYWRlLnRtcGwuaHRtbCcsXHJcbiAgICAgICAgbG9jYWxzOiB7aWQ6IGlkfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnUmVtb3ZlQ29mcmFkZVRtcGwnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxyXG4gICAgICAgIHRhcmdldEV2ZW50OiBldmVudCxcclxuICAgICAgICBjbGlja091dHNpZGVUb0Nsb3NlOnRydWVcclxuICAgICAgfSkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAvL3JlbW92ZUVuZENvZnJhZGUoaWQpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdyZW1vdmVDb2ZyYWRlJywgcmVtb3ZlQ29mcmFkZSk7XHJcblxyXG5cclxuICBmdW5jdGlvbiByZW1vdmVDb2ZyYWRlKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9kaXJlY3RpdmVzL2NvZnJhZGVzL3JlbW92ZS9yZW1vdmVDb2ZyYWRlLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBjb2ZyYWRlSWQ6ICc9Y29mcmFkZScgICAgICAgIFxyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnUmVtb3ZlQ29mcmFkZScsXHJcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignUmVzdG9yZUNvZnJhZGUnLCBSZXN0b3JlQ29mcmFkZSk7XHJcblxyXG4gIGZ1bmN0aW9uIFJlc3RvcmVDb2ZyYWRlKCRzdGF0ZSwgJG1kRGlhbG9nLCBjb2ZyYWRlc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgdm0ucmVzdG9yZUNvZnJhZGUgPSByZXN0b3JlQ29mcmFkZTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcmVzdG9yZUNvZnJhZGUoaWQsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIHZhciByZXN0YXVyYXJEaWFsb2cgPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAudGl0bGUoJ1Jlc3RhdXJhciBjb2ZyYWRlJylcclxuICAgICAgICAgIC5jb250ZW50KCfCv0VzdMOhIHNlZ3VybyBxdWUgZGVzZWEgcmVzdGF1cmFyIGVzdGUgY29mcmFkZT88YnI+U3UgbsO6bWVybyBkZSBDb2ZyYWRlIHNlIGNhbGN1bGFyw6EgZGUgbnVldm8uJylcclxuICAgICAgICAgIC5hcmlhTGFiZWwoJ1Jlc3RhdXJhciBjb2ZyYWRlJylcclxuICAgICAgICAgIC50YXJnZXRFdmVudChldmVudClcclxuICAgICAgICAgIC5vaygnQWNlcHRhcicpXHJcbiAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAuY2xpY2tPdXRzaWRlVG9DbG9zZSh0cnVlKTtcclxuICAgICAgJG1kRGlhbG9nLnNob3cocmVzdGF1cmFyRGlhbG9nKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJlc3RvcmVFbmRDb2ZyYWRlKGlkKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzdG9yZUVuZENvZnJhZGUoaWQpe1xyXG4gICAgICB2YXIgY29mcmFkZSA9IGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5nZXQoe2lkOiBpZH0sIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY29mcmFkZS5iYWphID0gbnVsbDtcclxuICAgICAgICBjb2ZyYWRlLiRzYXZlKHt1cGRhdGVOdW1lcm9Db2ZyYWRlOiB0cnVlfSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgaWYoJHN0YXRlLmN1cnJlbnQubmFtZSA9PT0gJ2NvZnJhZGVzJyl7XHJcbiAgICAgICAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oJHN0YXRlLmN1cnJlbnQsIG51bGwsIHtcclxuICAgICAgICAgICAgICByZWxvYWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgaW5oZXJpdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgbm90aWZ5OiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdjb2ZyYWRlcycpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgncmVzdG9yZUNvZnJhZGUnLCByZXN0b3JlQ29mcmFkZSk7XHJcblxyXG5cclxuICBmdW5jdGlvbiByZXN0b3JlQ29mcmFkZSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZXN0b3JlL3Jlc3RvcmVDb2ZyYWRlLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBjb2ZyYWRlSWQ6ICc9Y29mcmFkZScgICAgICAgIFxyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnUmVzdG9yZUNvZnJhZGUnLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0xpc3RhQ29zdGFsZXJvcycsIExpc3RhQ29zdGFsZXJvcyk7XHJcblxyXG4gIGZ1bmN0aW9uIExpc3RhQ29zdGFsZXJvcygkc3RhdGUpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLm1vZGlmeUNvc3RhbGVybyA9IG1vZGlmeUNvc3RhbGVybztcclxuICAgIHZtLmdvVG9Db3N0YWxlcm8gICA9IGdvVG9Db3N0YWxlcm87XHJcblxyXG4gICAgZnVuY3Rpb24gZ29Ub0Nvc3RhbGVybyhpZCwgZXZlbnQpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2Nvc3RhbGVyb3NEZXRhbGxlJywge2Nvc3RhbGVyb0lkOiBpZH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUNvc3RhbGVybyhpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgJHN0YXRlLmdvKCdjb3N0YWxlcm9zQ2FtYmlvcycsIHtjb3N0YWxlcm9JZDogaWR9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnbGlzdGFDb3N0YWxlcm9zJywgbGlzdGFDb3N0YWxlcm9zKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIGxpc3RhQ29zdGFsZXJvcygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9jb3N0YWxlcm9zL2xpc3QvY29zdGFsZXJvcy5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgY29zdGFsZXJvczogJz1jb3N0YWxlcm9zJyAgICAgICAgXHJcbiAgICAgIH0sXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCkge1xyXG4gICAgICAgIHNjb3BlLiR3YXRjaCgndm0uY29zdGFsZXJvcycsIGZ1bmN0aW9uKG5ld1ZhbCkge1xyXG4gICAgICAgICAgICBpZihuZXdWYWwpIHsgXHJcbiAgICAgICAgICAgICAgc2NvcGUudm0uY29zdGFsZXJvc1Nob3J0ID0gc2NvcGUudm0uY29zdGFsZXJvcy5tYXAoZnVuY3Rpb24oY29zdGFsZXJvKXtcclxuICAgICAgICAgICAgICAgIHZhciBhdXggPSB7aWQ6IGNvc3RhbGVyby5pZCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGlvOiBjb3N0YWxlcm8uc2l0aW99O1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvc3RhbGVyby5jb2ZyYWRlKXtcclxuICAgICAgICAgICAgICAgICAgYXV4Lm51bWVyb09yZGVuID0gY29zdGFsZXJvLmNvZnJhZGUubnVtZXJvT3JkZW47XHJcbiAgICAgICAgICAgICAgICAgIGF1eC5ub21icmUgPSBjb3N0YWxlcm8uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMubm9tYnJlICAgICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvc3RhbGVyby5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5hcGVsbGlkbzEgKyAnICcgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvc3RhbGVyby5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5hcGVsbGlkbzI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRydWUpO1xyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnTGlzdGFDb3N0YWxlcm9zJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdSZW1vdmVDb3N0YWxlcm8nLCBSZW1vdmVDb3N0YWxlcm8pO1xyXG5cclxuICBmdW5jdGlvbiBSZW1vdmVDb3N0YWxlcm8oJHN0YXRlLCAkbWREaWFsb2csIGNvc3RhbGVyb3NTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLnJlbW92ZUNvc3RhbGVybyA9IHJlbW92ZUNvc3RhbGVybztcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQ29zdGFsZXJvKGlkLCBldmVudCl7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB2YXIgcmVtb3ZlRGlhbG9nID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgLnRpdGxlKCdFbGltaW5hciBjb3N0YWxlcm8nKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ8K/RXN0w6Egc2VndXJvIHF1ZSBkZXNlYSBlbGltaW5hciBlc3RlIGNvc3RhbGVybz88YnI+RGVqYXLDoSBzdSBzaXRpbyBsaWJyZS4nKVxyXG4gICAgICAgICAgLmFyaWFMYWJlbCgnRWxpbWluYXIgY29zdGFsZXJvJylcclxuICAgICAgICAgIC50YXJnZXRFdmVudChldmVudClcclxuICAgICAgICAgIC5vaygnQWNlcHRhcicpXHJcbiAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAuY2xpY2tPdXRzaWRlVG9DbG9zZSh0cnVlKTtcclxuICAgICAgJG1kRGlhbG9nLnNob3cocmVtb3ZlRGlhbG9nKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJlbW92ZUVuZENvc3RhbGVybyhpZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUVuZENvc3RhbGVybyhpZCl7XHJcbiAgICAgIHZhciBjb3N0YWxlcm8gPSBjb3N0YWxlcm9zU2VydmljZS5jb3N0YWxlcm9zUmVzdCgpLmdldCh7aWQ6IGlkfSwgZnVuY3Rpb24oKXtcclxuICAgICAgICBjb3N0YWxlcm8uY29mcmFkZSA9IG51bGw7XHJcbiAgICAgICAgY29zdGFsZXJvLnRhbGxhID0gbnVsbDtcclxuICAgICAgICBjb3N0YWxlcm8uZmVjaGEgPSBudWxsO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvc3RhbGVyby4kc2F2ZSgpLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgIGlmKCRzdGF0ZS5jdXJyZW50Lm5hbWUgPT09ICdjb3N0YWxlcm9zJyl7XHJcbiAgICAgICAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oJHN0YXRlLmN1cnJlbnQsIG51bGwsIHtcclxuICAgICAgICAgICAgICByZWxvYWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgaW5oZXJpdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgbm90aWZ5OiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdjb3N0YWxlcm9zJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdyZW1vdmVDb3N0YWxlcm8nLCByZW1vdmVDb3N0YWxlcm8pO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlQ29zdGFsZXJvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9kaXJlY3RpdmVzL2Nvc3RhbGVyb3MvcmVtb3ZlL3JlbW92ZUNvc3RhbGVyby5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgY29zdGFsZXJvSWQ6ICc9Y29zdGFsZXJvJyAgICAgICAgXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbnRyb2xsZXI6ICdSZW1vdmVDb3N0YWxlcm8nLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0xpc3RhRGlyZWN0aXZvcycsIExpc3RhRGlyZWN0aXZvcyk7XHJcblxyXG4gIGZ1bmN0aW9uIExpc3RhRGlyZWN0aXZvcygkc3RhdGUpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLm1vZGlmeURpcmVjdGl2byA9IG1vZGlmeURpcmVjdGl2bztcclxuICAgIHZtLmdvVG9EaXJlY3Rpdm8gICA9IGdvVG9EaXJlY3Rpdm87XHJcblxyXG4gICAgZnVuY3Rpb24gZ29Ub0RpcmVjdGl2byhpZCwgZXZlbnQpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2RpcmVjdGl2b3NEZXRhbGxlJywge2RpcmVjdGl2b0lkOiBpZH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeURpcmVjdGl2byhpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgJHN0YXRlLmdvKCdkaXJlY3Rpdm9zQ2FtYmlvcycsIHtkaXJlY3Rpdm9JZDogaWR9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnbGlzdGFEaXJlY3Rpdm9zJywgbGlzdGFEaXJlY3Rpdm9zKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIGxpc3RhRGlyZWN0aXZvcygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9kaXJlY3Rpdm9zL2xpc3QvZGlyZWN0aXZvcy5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgZGlyZWN0aXZvczogJz1kaXJlY3Rpdm9zJyAgICAgICAgXHJcbiAgICAgIH0sXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCkge1xyXG4gICAgICAgIHNjb3BlLiR3YXRjaCgndm0uZGlyZWN0aXZvcycsIGZ1bmN0aW9uKG5ld1ZhbCkge1xyXG4gICAgICAgICAgICBpZihuZXdWYWwpIHsgXHJcbiAgICAgICAgICAgICAgc2NvcGUudm0uZGlyZWN0aXZvc1Nob3J0ID0gc2NvcGUudm0uZGlyZWN0aXZvcy5tYXAoZnVuY3Rpb24oZGlyZWN0aXZvKXtcclxuICAgICAgICAgICAgICAgIHZhciBhdXggPSB7aWQ6IGRpcmVjdGl2by5pZCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2ljaW9uOiBkaXJlY3Rpdm8ucG9zaWNpb259O1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGl2by5jb2ZyYWRlKXtcclxuICAgICAgICAgICAgICAgICAgYXV4Lm51bWVyb09yZGVuID0gZGlyZWN0aXZvLmNvZnJhZGUubnVtZXJvT3JkZW47XHJcbiAgICAgICAgICAgICAgICAgIGF1eC5ub21icmUgPSBkaXJlY3Rpdm8uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMubm9tYnJlICAgICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2by5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5hcGVsbGlkbzEgKyAnICcgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2by5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5hcGVsbGlkbzI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRydWUpO1xyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnTGlzdGFEaXJlY3Rpdm9zJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdSZW1vdmVEaXJlY3Rpdm8nLCBSZW1vdmVEaXJlY3Rpdm8pO1xyXG5cclxuICBmdW5jdGlvbiBSZW1vdmVEaXJlY3Rpdm8oJHN0YXRlLCAkbWREaWFsb2csIGRpcmVjdGl2b3NTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLnJlbW92ZURpcmVjdGl2byA9IHJlbW92ZURpcmVjdGl2bztcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlRGlyZWN0aXZvKGlkLCBldmVudCl7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB2YXIgcmVtb3ZlRGlhbG9nID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgLnRpdGxlKCdFbGltaW5hciBkaXJlY3Rpdm8nKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ8K/RXN0w6Egc2VndXJvIHF1ZSBkZXNlYSBlbGltaW5hciBlc3RlIGRpcmVjdGl2bz8nKVxyXG4gICAgICAgICAgLmFyaWFMYWJlbCgnRWxpbWluYXIgZGlyZWN0aXZvJylcclxuICAgICAgICAgIC50YXJnZXRFdmVudChldmVudClcclxuICAgICAgICAgIC5vaygnQWNlcHRhcicpXHJcbiAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAuY2xpY2tPdXRzaWRlVG9DbG9zZSh0cnVlKTtcclxuICAgICAgJG1kRGlhbG9nLnNob3cocmVtb3ZlRGlhbG9nKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJlbW92ZUVuZERpcmVjdGl2byhpZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUVuZERpcmVjdGl2byhpZCl7XHJcbiAgICAgIHZhciBkaXJlY3Rpdm8gPSBkaXJlY3Rpdm9zU2VydmljZS5kaXJlY3Rpdm9zUmVzdCgpLmdldCh7aWQ6IGlkfSwgZnVuY3Rpb24oKXtcclxuICAgICAgICBkaXJlY3Rpdm8uJGRlbGV0ZSh7aWQ6IGlkfSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgaWYoJHN0YXRlLmN1cnJlbnQubmFtZSA9PT0gJ2RpcmVjdGl2b3MnKXtcclxuICAgICAgICAgICAgJHN0YXRlLnRyYW5zaXRpb25Ubygkc3RhdGUuY3VycmVudCwgbnVsbCwge1xyXG4gICAgICAgICAgICAgIHJlbG9hZDogdHJ1ZSxcclxuICAgICAgICAgICAgICBpbmhlcml0OiBmYWxzZSxcclxuICAgICAgICAgICAgICBub3RpZnk6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2RpcmVjdGl2b3MnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ3JlbW92ZURpcmVjdGl2bycsIHJlbW92ZURpcmVjdGl2byk7XHJcblxyXG5cclxuICBmdW5jdGlvbiByZW1vdmVEaXJlY3Rpdm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvZGlyZWN0aXZvcy9yZW1vdmUvcmVtb3ZlRGlyZWN0aXZvLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBkaXJlY3Rpdm9JZDogJz1kaXJlY3Rpdm8nICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ1JlbW92ZURpcmVjdGl2bycsXHJcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignTGlzdGFQYXBlbGV0YXNTaXRpb3MnLCBMaXN0YVBhcGVsZXRhc1NpdGlvcyk7XHJcblxyXG4gIGZ1bmN0aW9uIExpc3RhUGFwZWxldGFzU2l0aW9zKCRzdGF0ZSwgcGFwZWxldGFzU2l0aW9zU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0uYW5pbyAgICAgID0gbnVsbDtcclxuXHJcbiAgICB2bS5nZXRBbmlvID0gZ2V0QW5pbztcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRBbmlvKCl7XHJcbiAgICAgIHBhcGVsZXRhc1NpdGlvc1NlcnZpY2UucGFwZWxldGFzU2l0aW9zUmVzdCgpLnF1ZXJ5KHthbmlvOiB2bS5hbmlvfSwgZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgIHZtLnBhcGVsZXRhc1NpdGlvID0gcmVzcG9uc2VbMF07XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdsaXN0YVBhcGVsZXRhc1NpdGlvcycsIGxpc3RhUGFwZWxldGFzU2l0aW9zKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIGxpc3RhUGFwZWxldGFzU2l0aW9zKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9kaXJlY3RpdmVzL3BhcGVsZXRhc1NpdGlvcy9saXN0L3BhcGVsZXRhc1NpdGlvcy5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgYW5pb3M6ICc9cGFwZWxldGFzJyAgICAgICAgXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbnRyb2xsZXI6ICdMaXN0YVBhcGVsZXRhc1NpdGlvcycsXHJcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignUmVtb3ZlUGFwZWxldGFTaXRpbycsIFJlbW92ZVBhcGVsZXRhU2l0aW8pO1xyXG5cclxuICBmdW5jdGlvbiBSZW1vdmVQYXBlbGV0YVNpdGlvKCRzdGF0ZSwgJG1kRGlhbG9nLCBwYXBlbGV0YXNTaXRpb3NTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLnJlbW92ZVBhcGVsZXRhU2l0aW8gPSByZW1vdmVQYXBlbGV0YVNpdGlvO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiByZW1vdmVQYXBlbGV0YVNpdGlvKGlkLCBldmVudCl7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB2YXIgcmVtb3ZlRGlhbG9nID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgLnRpdGxlKCdFbGltaW5hciBwYXBlbGV0YSBzaXRpbycpXHJcbiAgICAgICAgICAuY29udGVudCgnwr9Fc3TDoSBzZWd1cm8gcXVlIGRlc2VhIGVsaW1pbmFyIGVzdGEgcGFwZWxldGEgZGUgc2l0aW8/JylcclxuICAgICAgICAgIC5hcmlhTGFiZWwoJ0VsaW1pbmFyIHBhcGVsZXRhU2l0aW8nKVxyXG4gICAgICAgICAgLnRhcmdldEV2ZW50KGV2ZW50KVxyXG4gICAgICAgICAgLm9rKCdBY2VwdGFyJylcclxuICAgICAgICAgIC5jYW5jZWwoJ0NhbmNlbGFyJylcclxuICAgICAgICAgIC5jbGlja091dHNpZGVUb0Nsb3NlKHRydWUpO1xyXG4gICAgICAkbWREaWFsb2cuc2hvdyhyZW1vdmVEaWFsb2cpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmVtb3ZlRW5kUGFwZWxldGFTaXRpbyhpZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUVuZFBhcGVsZXRhU2l0aW8ocGFwZWxldGFPYmope1xyXG4gICAgICBwYXBlbGV0YXNTaXRpb3NTZXJ2aWNlLnBhcGVsZXRhc1NpdGlvc1Jlc3QoKS5zYXZlKHthbmlvOiBwYXBlbGV0YU9iai5hbmlvLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFwZWxldGFzOiBbcGFwZWxldGFPYmoucGFwZWxldGFdLCByZW1vdmU6IHRydWV9LCBmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKCRzdGF0ZS5jdXJyZW50Lm5hbWUgPT09ICdwYXBlbGV0YXNTaXRpb3MnKXtcclxuICAgICAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oJHN0YXRlLmN1cnJlbnQsIG51bGwsIHtcclxuICAgICAgICAgICAgcmVsb2FkOiB0cnVlLFxyXG4gICAgICAgICAgICBpbmhlcml0OiBmYWxzZSxcclxuICAgICAgICAgICAgbm90aWZ5OiB0cnVlXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICRzdGF0ZS5nbygncGFwZWxldGFzU2l0aW9zJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgncmVtb3ZlUGFwZWxldGFTaXRpbycsIHJlbW92ZVBhcGVsZXRhU2l0aW8pO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlUGFwZWxldGFTaXRpbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9wYXBlbGV0YXNTaXRpb3MvcmVtb3ZlL3JlbW92ZVBhcGVsZXRhU2l0aW8uZGlyZWN0aXZlLmh0bWwnLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIHBhcGVsZXRhU2l0aW86ICc9cGFwZWxldGEnICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ1JlbW92ZVBhcGVsZXRhU2l0aW8nLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0xpc3RhU2VjdG9yZXMnLCBMaXN0YVNlY3RvcmVzKTtcclxuXHJcbiAgZnVuY3Rpb24gTGlzdGFTZWN0b3Jlcygkc3RhdGUpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLm1vZGlmeVNlY3RvciA9IG1vZGlmeVNlY3RvcjtcclxuICAgIHZtLm1vZGlmeUNhbGxlICA9IG1vZGlmeUNhbGxlO1xyXG4gICAgdm0uYWRkQ2FsbGUgICAgID0gYWRkQ2FsbGU7XHJcbiAgICB2bS5zaG93Q2FsbGVzICAgPSBzaG93Q2FsbGVzO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNob3dDYWxsZXMoc2VjdG9yLCBldmVudCl7XHJcbiAgICAgIHNlY3RvciA9ICdjYWxsZXNTZWN0b3InK3NlY3RvcjtcclxuICAgICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlY3RvcikpLnRvZ2dsZUNsYXNzKCdvY3VsdGFyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbW9kaWZ5U2VjdG9yKGlkLCBldmVudCl7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAkc3RhdGUuZ28oJ3NlY3RvcmVzQ2FtYmlvcycsIHtzZWN0b3JJZDogaWR9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtb2RpZnlDYWxsZShpZCwgY2FsbGUsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICRzdGF0ZS5nbygnc2VjdG9yZXNDYW1iaW9zJywge3NlY3RvcklkOiBpZCwgY2FsbGU6IGNhbGxlfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkQ2FsbGUoaWQsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICRzdGF0ZS5nbygnc2VjdG9yZXNDYW1iaW9zJywge3NlY3RvcklkOiBpZCwgY2FsbGU6ICduZXcnfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ2xpc3RhU2VjdG9yZXMnLCBsaXN0YVNlY3RvcmVzKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIGxpc3RhU2VjdG9yZXMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvc2VjdG9yZXMvbGlzdC9zZWN0b3Jlcy5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgc2VjdG9yZXM6ICc9c2VjdG9yZXMnICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgc2NvcGUuJHdhdGNoKCd2bS5zZWN0b3JlcycsIGZ1bmN0aW9uKG5ld1ZhbCkge1xyXG4gICAgICAgICAgICBpZihuZXdWYWwpIHsgXHJcbiAgICAgICAgICAgICAgc2NvcGUudm0uc2VjdG9yZXNTaG9ydCA9IHNjb3BlLnZtLnNlY3RvcmVzLm1hcChmdW5jdGlvbihzZWN0b3Ipe1xyXG4gICAgICAgICAgICAgICAgdmFyIGF1eCA9IHtpZDogc2VjdG9yLmlkLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtZXJvU2VjdG9yOiBzZWN0b3IubnVtZXJvU2VjdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXM6IHNlY3Rvci5jYWxsZXN9O1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlY3Rvci5jb2ZyYWRlKXtcclxuICAgICAgICAgICAgICAgICAgYXV4Lm51bWVyb09yZGVuID0gc2VjdG9yLmNvZnJhZGUubnVtZXJvT3JkZW47XHJcbiAgICAgICAgICAgICAgICAgIGF1eC5ub21icmUgPSBzZWN0b3IuY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMubm9tYnJlICAgICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rvci5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5hcGVsbGlkbzEgKyAnICcgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rvci5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5hcGVsbGlkbzI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRydWUpO1xyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnTGlzdGFTZWN0b3JlcycsXHJcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignUmVtb3ZlU2VjdG9yJywgUmVtb3ZlU2VjdG9yKTtcclxuXHJcbiAgZnVuY3Rpb24gUmVtb3ZlU2VjdG9yKCRzdGF0ZSwgJG1kRGlhbG9nLCAkbWRUb2FzdCwgc2VjdG9yZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLnJlbW92ZVNlY3RvciA9IHJlbW92ZVNlY3RvcjtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlU2VjdG9yKGlkLCBldmVudCl7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB2YXIgcmVtb3ZlRGlhbG9nID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgLnRpdGxlKCdFbGltaW5hciBzZWN0b3InKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ8K/RXN0w6Egc2VndXJvIHF1ZSBkZXNlYSBlbGltaW5hciBlc3RlIHNlY3Rvcj8nKVxyXG4gICAgICAgICAgLmFyaWFMYWJlbCgnRWxpbWluYXIgc2VjdG9yJylcclxuICAgICAgICAgIC50YXJnZXRFdmVudChldmVudClcclxuICAgICAgICAgIC5vaygnQWNlcHRhcicpXHJcbiAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAuY2xpY2tPdXRzaWRlVG9DbG9zZSh0cnVlKTtcclxuICAgICAgJG1kRGlhbG9nLnNob3cocmVtb3ZlRGlhbG9nKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJlbW92ZUVuZFNlY3RvcihpZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUVuZFNlY3RvcihpZCl7XHJcbiAgICAgIHZhciBzZWN0b3IgPSBzZWN0b3Jlc1NlcnZpY2Uuc2VjdG9yZXNSZXN0KCkuZ2V0KHtpZDogaWR9LCBmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKHNlY3RvclswXS5jYWxsZXMubGVuZ3RoICE9PSAwKXtcclxuICAgICAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAgICAgLmNvbnRlbnQoJ05vIHNlIHB1ZWRlIGVsaW1pbmFyIHVuIHNlY3RvciBjb24gY2FsbGVzIGFzaWduYWRhcycpXHJcbiAgICAgICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICBzZWN0b3JbMF0uJGRlbGV0ZSh7aWQ6IGlkfSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZigkc3RhdGUuY3VycmVudC5uYW1lID09PSAnc2VjdG9yZXMnKXtcclxuICAgICAgICAgICAgICAkc3RhdGUudHJhbnNpdGlvblRvKCRzdGF0ZS5jdXJyZW50LCBudWxsLCB7XHJcbiAgICAgICAgICAgICAgICByZWxvYWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBpbmhlcml0OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG5vdGlmeTogdHJ1ZVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgJHN0YXRlLmdvKCdzZWN0b3JlcycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdyZW1vdmVTZWN0b3InLCByZW1vdmVTZWN0b3IpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlU2VjdG9yKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9kaXJlY3RpdmVzL3NlY3RvcmVzL3JlbW92ZS9yZW1vdmVTZWN0b3IuZGlyZWN0aXZlLmh0bWwnLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIHNlY3RvcklkOiAnPXNlY3RvcicgICAgICAgIFxyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnUmVtb3ZlU2VjdG9yJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdSZW1vdmVDb2ZyYWRlVG1wbCcsIFJlbW92ZUNvZnJhZGVUbXBsKTtcclxuXHJcbiAgZnVuY3Rpb24gUmVtb3ZlQ29mcmFkZVRtcGwoJHN0YXRlLCAkbWREaWFsb2csIGNvZnJhZGVzU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5jbG9zZURpYWxvZyA9IGNsb3NlRGlhbG9nO1xyXG4gICAgdm0ucmVtb3ZlRW5kQ29mcmFkZSA9IHJlbW92ZUVuZENvZnJhZGU7XHJcblxyXG4gICAgZnVuY3Rpb24gY2xvc2VEaWFsb2coKSB7XHJcbiAgICAgICRtZERpYWxvZy5jYW5jZWwoKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUVuZENvZnJhZGUoaWQpe1xyXG4gICAgICB2YXIgY29mcmFkZSA9IGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5nZXQoe2lkOiBpZH0sIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY29mcmFkZS5iYWphID0ge21vdGl2byA6IHZtLm1vdGl2b0JhamEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZlY2hhQmFqYTogbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKX07XHJcbiAgICAgICAgY29mcmFkZS5udW1lcm9Db2ZyYWRlID0gbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICBjb2ZyYWRlLiRzYXZlKHt1cGRhdGVOdW1lcm9Db2ZyYWRlOiB0cnVlfSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgdm0uY2xvc2VEaWFsb2coKTtcclxuICAgICAgICAgIGlmKCRzdGF0ZS5jdXJyZW50Lm5hbWUgPT09ICdjb2ZyYWRlcycpe1xyXG4gICAgICAgICAgICAkc3RhdGUudHJhbnNpdGlvblRvKCRzdGF0ZS5jdXJyZW50LCBudWxsLCB7XHJcbiAgICAgICAgICAgICAgcmVsb2FkOiB0cnVlLFxyXG4gICAgICAgICAgICAgIGluaGVyaXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgIG5vdGlmeTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnY29mcmFkZXMnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
