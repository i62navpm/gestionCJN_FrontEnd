!function(){"use strict";function e(e){e.defaults.xsrfCookieName="csrftoken",e.defaults.xsrfHeaderName="X-CSRFToken"}angular.module("app",["ui.router","ngResource","ngMaterial","uiGmapgoogle-maps","ngMessages"]).config(e),e.$inject=["$httpProvider"]}(),function(){"use strict";function e(e){e.interceptors.push("myHttpInterceptor")}function t(e,t){var o=angular.element(document.querySelector(".m-app-loading"));return{request:function(e){return"POST"===e.method&&o.css("display","block"),e},requestError:function(t){return e.reject(t)},response:function(e){return o.css("display","none"),e},responseError:function(r){return 401===r.status&&t.get("$state").go("login"),o.css("display","none"),e.reject(r)}}}angular.module("app").factory("myHttpInterceptor",t).config(e),e.$inject=["$httpProvider"],t.$inject=["$q","$injector"]}(),function(){"use strict";function e(e){e.configure({libraries:"weather,geometry,visualization"})}angular.module("app").config(e),e.$inject=["uiGmapGoogleMapApiProvider"]}(),function(){"use strict";function e(e){e.months=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],e.shortMonths=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],e.days=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"],e.shortDays=["lun","mar","mié","jue","vie","sáb","dom"],e.firstDayOfWeek=1,e.parseDate=function(e){return new Date(e)},e.formatDate=function(e){return new Date(e).toLocaleDateString()}}angular.module("app").config(e),e.$inject=["$mdDateLocaleProvider"]}(),function(){"use strict";function e(e,o){o.otherwise("/"),e.state("home",{url:"/",templateProvider:["$templateCache",function(e){return e.get("interfaz/home.html")}],resolve:{interfazPrepService:t}})}function t(e){return e.interfazRest()}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"],t.$inject=["interfazService"]}(),function(){"use strict";function e(e){}angular.module("app").config(e),e.$inject=["$mdThemingProvider"]}(),function(){"use strict";function e(e){e.state("aspirantes",{url:"/aspirantes",templateProvider:["$templateCache",function(e){return e.get("aspirantes/list/aspirantes.html")}],controller:"Aspirantes",controllerAs:"vm",resolve:{aspirantesPrepService:t}}).state("aspirantesDetalle",{url:"/aspirantes/:aspiranteId",templateProvider:["$templateCache",function(e){return e.get("aspirantes/detail/aspiranteDetalle.html")}],controller:"AspiranteDetalle",controllerAs:"vm",resolve:{getAspirantePrepService:o}}).state("aspirantesCambios",{url:"/aspirantes/cambios/:aspiranteId",templateProvider:["$templateCache",function(e){return e.get("aspirantes/addModify/aspiranteAddModify.html")}],controller:"AspiranteAddModify",controllerAs:"vm",resolve:{getAspirantePrepService:o}})}function t(e){return e.aspirantesRest().query()}function o(e,t){return t.aspiranteId?e.aspirantesRest().get({id:t.aspiranteId}):!1}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["aspirantesService"],o.$inject=["aspirantesService","$stateParams"]}(),function(){"use strict";function e(e){e.state("autoridades",{url:"/autoridades",templateProvider:["$templateCache",function(e){return e.get("autoridades/list/autoridades.html")}],controller:"Autoridades",controllerAs:"vm",resolve:{autoridadesPrepService:t}}).state("autoridadesDetalle",{url:"/autoridades/:autoridadId",templateProvider:["$templateCache",function(e){return e.get("autoridades/detail/autoridadDetalle.html")}],controller:"AutoridadDetalle",controllerAs:"vm",resolve:{getAutoridadPrepService:o,getMapsPrepService:r}}).state("autoridadesCambios",{url:"/autoridades/cambios/:autoridadId",templateProvider:["$templateCache",function(e){return e.get("autoridades/addModify/autoridadAddModify.html")}],controller:"AutoridadAddModify",controllerAs:"vm",resolve:{getAutoridadPrepService:o}})}function t(e){return e.autoridadesRest().query()}function o(e,t){return t.autoridadId?e.autoridadesRest().get({id:t.autoridadId}):!1}function r(e,t,o){return t.$promise.then(function(t){var r=t.direccion.calle+" "+t.direccion.numero+" "+t.direccion.municipio+" "+t.direccion.provincia+" "+t.direccion.cp;return o.geoCodingAPI(r).then(function(t){if(t.data.results.length){var o=t.data.results[0].geometry.location;return e.then(function(e){return{coord:{latitude:o.lat,longitude:o.lng},marker:{latitude:o.lat,longitude:o.lng},zoom:17}})}})})}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["autoridadesService"],o.$inject=["autoridadesService","$stateParams"],r.$inject=["uiGmapGoogleMapApi","getAutoridadPrepService","mapasService"]}(),function(){"use strict";function e(e){e.state("cofrades",{url:"/cofrades",templateProvider:["$templateCache",function(e){return e.get("cofrades/list/cofrades.html")}],controller:"Cofrades",controllerAs:"vm",resolve:{cofradesPrepService:t,cofradesBajasPrepService:o}}).state("cofradesDetalle",{url:"/cofrades/:cofradeId",templateProvider:["$templateCache",function(e){return e.get("cofrades/detail/cofradeDetalle.html")}],controller:"CofradeDetalle",controllerAs:"vm",resolve:{getCofradePrepService:r,getMapsPrepService:a,numerosLoteriaPrepService:n}}).state("cofradesCambios",{url:"/cofrades/cambios/:cofradeId",templateProvider:["$templateCache",function(e){return e.get("cofrades/addModify/cofradeAddModify.html")}],controller:"CofradeAddModify",controllerAs:"vm",resolve:{getCofradePrepService:r,numerosLoteriaPrepService:n}})}function t(e){return e.cofradesRest().query()}function o(e){return e.cofradesBajasRest().query()}function r(e,t){return t.cofradeId?e.cofradesRest().get({id:t.cofradeId}):!1}function n(e){return e.numerosLoteriaRest().query()}function a(e,t,o){return t.$promise.then(function(t){var r=t.datosPersonales.direccion.calle+" "+t.datosPersonales.direccion.numero+" "+t.datosPersonales.direccion.municipio+" "+t.datosPersonales.direccion.provincia+" "+t.datosPersonales.direccion.cp;return o.geoCodingAPI(r).then(function(t){if(t.data.results.length){var o=t.data.results[0].geometry.location;return e.then(function(e){return{coord:{latitude:o.lat,longitude:o.lng},marker:{latitude:o.lat,longitude:o.lng},zoom:17}})}})})}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["cofradesService"],o.$inject=["cofradesService"],r.$inject=["cofradesService","$stateParams"],n.$inject=["numerosLoteriaService"],a.$inject=["uiGmapGoogleMapApi","getCofradePrepService","mapasService"]}(),function(){"use strict";function e(e){e.state("costaleros",{url:"/costaleros",templateProvider:["$templateCache",function(e){return e.get("costaleros/list/costaleros.html")}],controller:"Costaleros",controllerAs:"vm",resolve:{costalerosPrepService:t}}).state("costalerosDetalle",{url:"/costaleros/:costaleroId",templateProvider:["$templateCache",function(e){return e.get("costaleros/detail/costaleroDetalle.html")}],controller:"CostaleroDetalle",controllerAs:"vm",resolve:{getCostaleroPrepService:o}}).state("costalerosCambios",{url:"/costaleros/cambios/:costaleroId",templateProvider:["$templateCache",function(e){return e.get("costaleros/addModify/costaleroAddModify.html")}],controller:"CostaleroAddModify",controllerAs:"vm",resolve:{getCostaleroPrepService:o}})}function t(e){return e.costalerosRest().query()}function o(e,t){return t.costaleroId?e.costalerosRest().get({id:t.costaleroId}):!1}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["costalerosService"],o.$inject=["costalerosService","$stateParams"]}(),function(){"use strict";function e(e){e.state("directivos",{url:"/directivos",templateProvider:["$templateCache",function(e){return e.get("directivos/list/directivos.html")}],controller:"Directivos",controllerAs:"vm",resolve:{directivosPrepService:t}}).state("directivosDetalle",{url:"/directivos/:directivoId",templateProvider:["$templateCache",function(e){return e.get("directivos/detail/directivoDetalle.html")}],controller:"DirectivoDetalle",controllerAs:"vm",resolve:{getDirectivoPrepService:o}}).state("directivosCambios",{url:"/directivos/cambios/:directivoId",templateProvider:["$templateCache",function(e){return e.get("directivos/addModify/directivoAddModify.html")}],controller:"DirectivoAddModify",controllerAs:"vm",resolve:{getDirectivoPrepService:o}})}function t(e){return e.directivosRest().query()}function o(e,t){return t.directivoId?e.directivosRest().get({id:t.directivoId}):!1}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["directivosService"],o.$inject=["directivosService","$stateParams"]}(),function(){"use strict";function e(e){e.state("gastosBancarios",{url:"/gastosBancarios",templateProvider:["$templateCache",function(e){return e.get("gastosBancarios/modify/gastoBancarioModify.html")}],controller:"GastosBancarios",controllerAs:"vm",resolve:{gastosBancariosPrepService:t}})}function t(e){return e.gastosBancariosRest().query()}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["gastosBancariosService"]}(),function(){"use strict";function e(e,t){function o(t){e(t).toggle()}function r(t){e(t).close()}function n(e,o){r(o),t.go(e)}var a=this;a.toggleSidenav=o,a.closeSidenav=r,a.navigateTo=n}angular.module("app").controller("AppCtrl",e),e.$inject=["$mdSidenav","$state"]}(),function(){"use strict";function e(e,t,o,r,n){function a(){t({method:"POST",url:"/login/",data:o({csrfmiddlewaretoken:loginForm.csrfmiddlewaretoken.value,username:loginForm.username.value,password:loginForm.password.value,next:loginForm.next.value}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){"Login"===t&&n.go("home");var o=angular.element(document.querySelector("md-content[ui-view]"));o[0].innerHTML=t,r(o.contents())(e)})}var i=this;i.processForm=a}angular.module("app").controller("Login",e),e.$inject=["$scope","$http","$httpParamSerializer","$compile","$state"]}(),function(){"use strict";function e(e){e.state("login",{url:"/login",templateProvider:["$http","$location",function(e,t){return e.get("http://127.0.0.1:"+t.port()+"/login").then(function(e){return e.data})}],controller:"Login",controllerAs:"vm"})}angular.module("app").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("numerosLoteria",{url:"/numerosLoteria",templateProvider:["$templateCache",function(e){return e.get("numerosLoteria/modify/numerosLoteriaModify.html")}],controller:"NumerosLoteria",controllerAs:"vm",resolve:{numerosLoteriaPrepService:t}})}function t(e){return e.numerosLoteriaRest().query()}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["numerosLoteriaService"]}(),function(){"use strict";function e(e){e.state("papeletasSitios",{url:"/papeletasSitios",templateProvider:["$templateCache",function(e){return e.get("papeletasSitios/list/papeletasSitios.html")}],controller:"PapeletasSitios",controllerAs:"vm",resolve:{papeletasSitiosPrepService:t}}).state("papeletasSitiosCambios",{url:"/papeletasSitios/cambios",templateProvider:["$templateCache",function(e){return e.get("papeletasSitios/addModify/papeletaSitioAddModify.html")}],controller:"PapeletaSitioAddModify",controllerAs:"vm"})}function t(e){return e.papeletasSitiosRest().query({anios:!0})}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["papeletasSitiosService"]}(),function(){"use strict";function e(e){e.state("sectores",{url:"/sectores",templateProvider:["$templateCache",function(e){return e.get("sectores/list/sectores.html")}],controller:"Sectores",controllerAs:"vm",resolve:{sectoresPrepService:t}}).state("sectoresCambios",{url:"/sectores/cambios/:sectorId/:calle",templateProvider:["$templateCache",function(e){return e.get("sectores/addModify/sectorAddModify.html")}],controller:"SectorAddModify",controllerAs:"vm",resolve:{getSectorPrepService:o}})}function t(e){return e.sectoresRest().query()}function o(e,t){return t.sectorId?e.sectoresRest().get({id:t.sectorId}):!1}angular.module("app").config(e),e.$inject=["$stateProvider"],t.$inject=["sectoresService"],o.$inject=["sectoresService","$stateParams"]}(),function(){"use strict";function e(e,t,o,r,n,a,i){function c(){n?n.$promise.then(s):l()}function s(e){return h.aspirante=e,!0}function l(){h.newCofrade=!0,h.aspirante={cofrade:null,fecha:(new Date).toLocaleDateString()}}function u(){window.history.back()}function d(e){var t={};return isNaN(e)?t.nombre=e:isNaN(e)||(t.numeroOrden=e),i.cofradesRest().query(t).$promise.then(function(e){return e.results})}function f(e){h.aspirante.cofrade=e?e.id:null}function p(t){t?h.aspirante.cofrade?(h.aspirante.cofrade=h.aspirante.cofrade.id?h.aspirante.cofrade.id:h.aspirante.cofrade,a.aspirantesRest().save(h.aspirante,m,v)):(e.aspiranteForm.cofrade.$error.required=!0,g()):g()}function m(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),r.go("aspirantes")}function v(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))}function g(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(t[0].querySelector("#toastBounds")).position("top right"))}var h=this;h.newCofrade=!1,h.backState=u,h.querySearch=d,h.selectedItemChange=f,h.guardar=p,c()}angular.module("app").controller("AspiranteAddModify",e),e.$inject=["$scope","$document","$mdToast","$state","getAspirantePrepService","aspirantesService","cofradesService"]}(),function(){"use strict";function e(e,t){function o(){return t.$promise.then(function(e){n.aspirante=e})}function r(t,o){e.go("aspirantesCambios",{aspiranteId:t})}var n=this;n.modifyAspirante=r,o()}angular.module("app").controller("AspiranteDetalle",e),e.$inject=["$state","getAspirantePrepService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.aspirantes=e})}var o=this;o.aspirantes=null,t()}angular.module("app").controller("Aspirantes",e),e.$inject=["aspirantesPrepService"]}(),function(){"use strict";function e(e,t,o,r,n,a,i){function c(){n?n.$promise.then(s):l()}function s(e){return h.autoridad=e,h.calleSelected={calle:h.autoridad.direccion.calle,cp:h.autoridad.direccion.cp,provincia:h.autoridad.direccion.provincia,municipio:h.autoridad.direccion.municipio},!0}function l(){h.newCofrade=!0,h.autoridad={direccion:{}}}function u(){window.history.back()}function d(e){return i.getCalles(e).then(function(e){return e.data})}function f(e){e?(h.autoridad.direccion.calle=e.calle,h.autoridad.direccion.municipio=e.municipio,h.autoridad.direccion.cp=e.cp,h.autoridad.direccion.provincia=e.provincia):(h.autoridad.direccion.calle=null,h.autoridad.direccion.municipio=null,h.autoridad.direccion.cp=null,h.autoridad.direccion.provincia=null)}function p(e){e?(h.autoridad.direccion.calle=h.autoridad.direccion.calle?h.autoridad.direccion.calle:h.searchText,a.autoridadesRest().save(h.autoridad,m,v)):g()}function m(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),r.go("autoridades")}function v(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))}function g(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(t[0].querySelector("#toastBounds")).position("top right"))}var h=this;h.newCofrade=!1,h.backState=u,h.querySearch=d,h.selectedItemChange=f,h.guardar=p,c()}angular.module("app").controller("AutoridadAddModify",e),e.$inject=["$scope","$document","$mdToast","$state","getAutoridadPrepService","autoridadesService","cofradesService"]}(),function(){"use strict";function e(e,t,o){function r(){return t.$promise.then(function(e){a.autoridad=e,a.maps=o})}function n(t,o){e.go("autoridadesCambios",{autoridadId:t})}var a=this;a.modifyAutoridad=n,r()}angular.module("app").controller("AutoridadDetalle",e),e.$inject=["$state","getAutoridadPrepService","getMapsPrepService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.autoridades=e})}var o=this;o.autoridades=null,t()}angular.module("app").controller("Autoridades",e),e.$inject=["autoridadesPrepService"]}(),function(){"use strict";function e(e,t,o,r,n,a,i,c){function s(){i.$promise.then(function(e){P.numerosLoteria=e[0]}),n?n.$promise.then(l):a.getRegistros().then(function(e){P.cofrade.numeroOrden=e.data.numeroOrden,P.cofrade.numeroCofrade=e.data.numeroCofrade})}function l(e){return P.cofrade=e,P.calleSelected={calle:P.cofrade.datosPersonales.direccion.calle,cp:P.cofrade.datosPersonales.direccion.cp,provincia:P.cofrade.datosPersonales.direccion.provincia,municipio:P.cofrade.datosPersonales.direccion.municipio},P.fechaNacimiento=P.cofrade.datosPersonales.fechaNacimiento,P.fechaInscripcion=P.cofrade.datosPersonales.fechaInscripcion,P.cofrade.datosFinancieros=P.cofrade.datosFinancieros||{cuenta:{},deuda:[]},P.cofrade.datosFinancieros.cuenta=P.cofrade.datosFinancieros.cuenta||{},P.cofrade.datosFinancieros.deuda=P.cofrade.datosFinancieros.deuda||[],!0}function u(){window.history.back()}function d(e){return a.getCalles(e).then(function(e){return e.data})}function f(e){e?(P.cofrade.datosPersonales.direccion.calle=e.calle,P.cofrade.datosPersonales.direccion.municipio=e.municipio,P.cofrade.datosPersonales.direccion.cp=e.cp,P.cofrade.datosPersonales.direccion.provincia=e.provincia,p(e.calle)):(P.cofrade.datosPersonales.direccion.calle=null,P.cofrade.datosPersonales.direccion.municipio=null,P.cofrade.datosPersonales.direccion.cp=null,P.cofrade.datosPersonales.direccion.provincia=null,P.sector=null,P.nuevaCalle=!0)}function p(e){c.sectoresRest().query({calle:e},function(e){P.sector=e[0].numeroSector,P.nuevaCalle=!1})}function m(){P.cofrade.datosFinancieros.cuenta.iban&&(P.cofrade.datosFinancieros.cuenta.cc=e("calcularCC")(P.cofrade.datosFinancieros.cuenta.iban))}function v(){P.cofrade.datosFinancieros.cuenta.cc&&(P.cofrade.datosFinancieros.cuenta.iban=e("calcularIban")(P.cofrade.datosFinancieros.cuenta.cc))}function g(e){function r(){s.save(P.cofrade,h,$)}function n(){c.sectoresRest().get({sector:P.sector},function(e){var n=e[0];n?(n.cofrade=n.cofrade.id,n.calles.push(P.searchText),n.$save(null,r,$)):o.show(o.simple().content("El sector "+P.sector+" no existe!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))})}if(e){var i={cuenta:{},deuda:[]};P.cofrade.datosPersonales.direccion.calle=P.searchText,JSON.stringify(P.cofrade.datosFinancieros)===JSON.stringify(i)&&delete P.cofrade.datosFinancieros;var s=a.cofradesRest();P.nuevaCalle?n():r()}else S()}function h(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),r.go("cofrades")}function $(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))}function S(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(t[0].querySelector("#toastBounds")).position("top right"))}var P=this;P.nuevaCalle=!0,P.searchText="calle",P.cofrade={datosFinancieros:{cuenta:{},deuda:[]},datosPersonales:{direccion:{},sexo:"Hombre",fechaInscripcion:(new Date).toLocaleDateString(),fechaNacimiento:(new Date).toLocaleDateString()}},P.backState=u,P.querySearch=d,P.selectedItemChange=f,P.calcularCC=m,P.calcularIban=v,P.guardar=g,s()}angular.module("app").controller("CofradeAddModify",e),e.$inject=["$filter","$document","$mdToast","$state","getCofradePrepService","cofradesService","numerosLoteriaPrepService","sectoresService"]}(),function(){"use strict";function e(e,t,o,r,n){function a(){return n.$promise.then(function(e){c.numerosLoteria=e[0]}),o.$promise.then(function(e){c.cofrade=e,c.cofrade.datosFinancieros&&c.cofrade.datosFinancieros.cuenta&&(c.iban=t("parseIban")(c.cofrade.datosFinancieros.cuenta.iban),c.cc=t("parseCC")(c.cofrade.datosFinancieros.cuenta.cc)),c.maps=r})}function i(t,o){e.go("cofradesCambios",{cofradeId:t})}var c=this;c.cofrade=null,c.maps=null,c.modifyCofrade=i,a()}angular.module("app").controller("CofradeDetalle",e),e.$inject=["$state","$filter","getCofradePrepService","getMapsPrepService","numerosLoteriaPrepService"]}(),function(){"use strict";function e(e,t){function o(){return e.$promise.then(function(e){r.nextPage=e.next,r.cofrades=e.results}),t.$promise.then(function(e){r.nextPageBajas=e.next,r.cofradesBajas=e.results})}var r=this;r.cofrades=null,r.nextPage=null,r.cofradesBajas=null,r.nextPageBajas=null,r.selectedTab=0,o()}angular.module("app").controller("Cofrades",e),e.$inject=["cofradesPrepService","cofradesBajasPrepService"]}(),function(){"use strict";function e(){return function(e){e.$last&&e.$eval("vm.completed = true;")}}angular.module("app").directive("loadRepeat",e)}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,t,o){var r=t[0];t.bind("scroll",function(){r.scrollTop+r.offsetHeight>=r.scrollHeight-5&&e.$emit("scrollDown")})}}}angular.module("app").directive("scrolly",e)}(),function(){"use strict";function e(){return function(e){e=e||"";for(var t="",o=0;o<e.length;o++)o>0&&o%4===0&&(t+=" "),t+=e[o];return t}}function t(){return function(e){e=e||"";var t="";return t=e.substr(0,4)+"-",t+=e.substr(4,4)+"-",t+=e.substr(8,2)+"-",t+=e.substr(10,10)}}function o(){return function(e){return e=e||"",e.substr(4,20)}}function r(){function e(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",o=[],r=0;r<e.length;r++){var n=t.indexOf(e[r]);o.push(0>n?"-":n)}return o.join("")}function t(e,t){for(var o=10,r=e.length,n=0,a=0;r>a;a+=o){var i=n+""+e.substr(a,o);n=i%t}return n}function o(e,t){for(e+="";e.length<t;)e="0"+e;return e}return function(r){var n="ES",a=r+e(n)+"00",i=t(a,97);return n+o(98-i,2)+r}}angular.module("app").filter("parseIban",e).filter("parseCC",t).filter("calcularIban",r).filter("calcularCC",o)}(),function(){"use strict";function e(){return function(e){return e.datosPersonales&&(e.datosPersonales.fechaNacimiento=new Date(e.datosPersonales.fechaNacimiento).toLocaleDateString(),e.datosPersonales.fechaInscripcion=new Date(e.datosPersonales.fechaInscripcion).toLocaleDateString()),e.fecha&&(e.fecha=new Date(e.fecha).toLocaleDateString()),e}}function t(){return function(e){var t=null;return e.datosPersonales?(t=e.datosPersonales.fechaNacimiento.split("/"),e.datosPersonales.fechaNacimiento=t[2]+"-"+t[1]+"-"+t[0],t=e.datosPersonales.fechaInscripcion.split("/"),e.datosPersonales.fechaInscripcion=t[2]+"-"+t[1]+"-"+t[0]):e.fecha?(t=e.fecha.split("/"),e.fecha=t[2]+"-"+t[1]+"-"+t[0]):e=new Date(e).toLocaleDateString(),e}}angular.module("app").filter("stringToDateFormat",e).filter("formatDates",t)}(),function(){"use strict";function e(){return function(t){var o=t instanceof Array;for(var r in t)null===t[r]?o?t.splice(r,1):delete t[r]:"object"==typeof t[r]&&e(t[r]);return t}}angular.module("app").filter("removeNulls",e)}(),function(){"use strict";function e(e,t,o){function r(){return e("http://127.0.0.1:"+t.port()+"/api/aspirantes/:id.json:json",null,{query:{method:"GET",isArray:!0},get:{method:"GET",transformResponse:function(e,t){return o("stringToDateFormat")(angular.fromJson(e))}},save:{method:"POST",transformRequest:function(e,t){return angular.toJson(o("formatDates")(o("removeNulls")(e)))}}})}return{aspirantesRest:r}}angular.module("app").factory("aspirantesService",e),e.$inject=["$resource","$location","$filter"]}(),function(){"use strict";function e(e,t,o){function r(){return e("http://127.0.0.1:"+t.port()+"/api/autoridades/:id.json:json",null,{query:{method:"GET",isArray:!0},save:{method:"POST",transformRequest:function(e,t){return angular.toJson(o("removeNulls")(e))}}})}return{autoridadesRest:r}}angular.module("app").factory("autoridadesService",e),e.$inject=["$resource","$location","$filter"]}(),function(){"use strict";function e(e,t,o,r){function n(){return e("http://127.0.0.1:"+t.port()+"/api/cofrades/:id.json:json",null,{query:{method:"GET",isArray:!1},get:{method:"GET",transformResponse:function(e,t){return r("stringToDateFormat")(angular.fromJson(e))}},save:{method:"POST",transformRequest:function(e,t){return angular.toJson(r("formatDates")(r("removeNulls")(e)))}}})}function a(){return e("http://127.0.0.1:"+t.port()+"/api/cofradesBajas/:id.json:json",null,{query:{method:"GET",isArray:!1}})}function i(e){return o.get("http://127.0.0.1:"+t.port()+"/api/calles/",{params:{calle:e}}).then(function(e){return angular.fromJson(e)})}function c(){return o.get("http://127.0.0.1:"+t.port()+"/api/registros/").then(function(e){return angular.fromJson(e)})}return{cofradesRest:n,cofradesBajasRest:a,getCalles:i,getRegistros:c}}angular.module("app").factory("cofradesService",e),e.$inject=["$resource","$location","$http","$filter"]}(),function(){"use strict";function e(e,t,o){function r(){return e("http://127.0.0.1:"+t.port()+"/api/costaleros/:id.json:json",null,{query:{method:"GET",isArray:!0},get:{method:"GET",transformResponse:function(e,t){return o("stringToDateFormat")(angular.fromJson(e))}},save:{method:"POST",transformRequest:function(e,t){return angular.toJson(o("formatDates")(o("removeNulls")(e)))}}})}return{costalerosRest:r}}angular.module("app").factory("costalerosService",e),e.$inject=["$resource","$location","$filter"]}(),function(){"use strict";function e(e,t,o){function r(){return e("http://127.0.0.1:"+t.port()+"/api/directivos/:id.json:json",null,{query:{method:"GET",isArray:!0},save:{method:"POST",transformRequest:function(e,t){return angular.toJson(o("removeNulls")(e))}}})}return{directivosRest:r}}angular.module("app").factory("directivosService",e),e.$inject=["$resource","$location","$filter"]}(),function(){"use strict";function e(e,t){function o(){return e("http://127.0.0.1:"+t.port()+"/api/gastosBancarios/:id.json:json")}return{gastosBancariosRest:o}}angular.module("app").factory("gastosBancariosService",e),e.$inject=["$resource","$location"]}(),function(){"use strict";function e(e,t){function o(){return e.get("http://127.0.0.1:"+t.port()+"/api/users.json")}return{interfazRest:o}}angular.module("app").factory("interfazService",e),e.$inject=["$http","$location"]}(),function(){"use strict";function e(e){function t(t){return e.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:t,key:"AIzaSyDC_OIDSl6curjCMCLyzn2yhMmg-er5knI"}}).then(function(e){return e})}return{geoCodingAPI:t}}angular.module("app").factory("mapasService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t){function o(){return e("http://127.0.0.1:"+t.port()+"/api/numerosLoteria/:id.json:json")}return{numerosLoteriaRest:o}}angular.module("app").factory("numerosLoteriaService",e),e.$inject=["$resource","$location"]}(),function(){"use strict";function e(e,t,o){function r(){return e("http://127.0.0.1:"+t.port()+"/api/papeletasSitios/:id.json:json",null,{query:{method:"GET",isArray:!0},save:{method:"POST",transformRequest:function(e,t){return angular.toJson(o("removeNulls")(e))}}})}return{papeletasSitiosRest:r}}angular.module("app").factory("papeletasSitiosService",e),e.$inject=["$resource","$location","$filter"]}(),function(){"use strict";function e(e,t){function o(){return e("http://127.0.0.1:"+t.port()+"/api/sectores/:id.json:json",null,{get:{method:"GET",isArray:!0}})}return{sectoresRest:o}}angular.module("app").factory("sectoresService",e),e.$inject=["$resource","$location"]}(),function(){"use strict";function e(e,t,o,r,n,a,i,c){function s(){a&&a.$promise.then(l)}function l(e){return h.costalero=e,h.cofradeSelected=h.costalero.cofrade,!0}function u(){window.history.back()}function d(e){var t={};return isNaN(e)?t.nombre=e:isNaN(e)||(t.numeroOrden=e),c.cofradesRest().query(t).$promise.then(function(e){return e.results})}function f(e){h.costalero.cofrade=e?e.id:null}function p(t){t?(h.costalero.fecha=""===h.costalero.fecha?null:h.costalero.fecha,h.costalero.cofrade?i.costalerosRest().save(h.costalero,m,v):(e.costaleroForm.cofrade.$error.required=!0,g())):g()}function m(e){r.show(r.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),n.go("costaleros")}function v(e){r.show(r.simple().content("Error al guardar!!").position("top right").parent(o[0].querySelector("#toastBounds")).hideDelay(3e3))}function g(){r.show(r.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(o[0].querySelector("#toastBounds")).position("top right"))}var h=this;h.backState=u,h.querySearch=d,h.selectedItemChange=f,h.guardar=p,s()}angular.module("app").controller("CostaleroAddModify",e),e.$inject=["$scope","$filter","$document","$mdToast","$state","getCostaleroPrepService","costalerosService","cofradesService"]}(),function(){"use strict";function e(e,t){function o(){return t.$promise.then(function(e){n.costalero=e})}function r(t,o){e.go("costalerosCambios",{costaleroId:t})}var n=this;n.modifyCostalero=r,o()}angular.module("app").controller("CostaleroDetalle",e),e.$inject=["$state","getCostaleroPrepService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.costaleros=e})}var o=this;o.costaleros=null,t()}angular.module("app").controller("Costaleros",e),e.$inject=["costalerosPrepService"]}(),function(){"use strict";function e(e,t,o,r,n,a,i){function c(){n?n.$promise.then(s):l()}function s(e){return h.directivo=e,!0}function l(){h.newCofrade=!0,h.directivo={cofrade:null,fecha:(new Date).toLocaleDateString()}}function u(){window.history.back()}function d(e){var t={};return isNaN(e)?t.nombre=e:isNaN(e)||(t.numeroOrden=e),i.cofradesRest().query(t).$promise.then(function(e){return e.results})}function f(e){h.directivo.cofrade=e?e.id:null}function p(t){t?h.directivo.cofrade?(h.directivo.cofrade=h.directivo.cofrade.id?h.directivo.cofrade.id:h.directivo.cofrade,a.directivosRest().save(h.directivo,m,v)):(e.directivoForm.cofrade.$error.required=!0,g()):g()}function m(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),r.go("directivos")}function v(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))}function g(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(t[0].querySelector("#toastBounds")).position("top right"))}var h=this;h.newCofrade=!1,h.backState=u,h.querySearch=d,h.selectedItemChange=f,h.guardar=p,c()}angular.module("app").controller("DirectivoAddModify",e),e.$inject=["$scope","$document","$mdToast","$state","getDirectivoPrepService","directivosService","cofradesService"]}(),function(){"use strict";function e(e,t){function o(){return t.$promise.then(function(e){n.directivo=e})}function r(t,o){e.go("directivosCambios",{directivoId:t})}var n=this;n.modifyDirectivo=r,o()}angular.module("app").controller("DirectivoDetalle",e),e.$inject=["$state","getDirectivoPrepService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.directivos=e})}var o=this;o.directivos=null,t()}angular.module("app").controller("Directivos",e),e.$inject=["directivosPrepService"]}(),function(){"use strict";function e(e,t,o,r,n,a){function i(){n.$promise.then(c)}function c(e){return f.gastoBancario=e[0],!0}function s(e){e?a.gastosBancariosRest().save(f.gastoBancario,l,u):d()}function l(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),r.go("gastosBancarios")}function u(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))}function d(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(t[0].querySelector("#toastBounds")).position("top right"))}var f=this;f.newCofrade=!1,f.guardar=s,i()}angular.module("app").controller("GastosBancarios",e),e.$inject=["$scope","$document","$mdToast","$state","gastosBancariosPrepService","gastosBancariosService"]}(),function(){"use strict";function e(e,t,o,r,n,a){function i(){n.$promise.then(c)}function c(e){return f.numerosLoteria=e[0],!0}
function s(e){e?a.numerosLoteriaRest().save(f.numerosLoteria,l,u):d()}function l(e){o.show(o.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),r.go("numerosLoteria")}function u(e){o.show(o.simple().content("Error al guardar!!").position("top right").parent(t[0].querySelector("#toastBounds")).hideDelay(3e3))}function d(){o.show(o.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(t[0].querySelector("#toastBounds")).position("top right"))}var f=this;f.newCofrade=!1,f.guardar=s,i()}angular.module("app").controller("NumerosLoteria",e),e.$inject=["$scope","$document","$mdToast","$state","numerosLoteriaPrepService","numerosLoteriaService"]}(),function(){"use strict";function e(e,t,o,r,n,a,i){function c(){v.newCofrade=!0,v.fecha=(new Date).toLocaleDateString(),v.papeletaSitio={cofrade:null}}function s(){window.history.back()}function l(e){var t={};return isNaN(e)?t.nombre=e:isNaN(e)||(t.numeroOrden=e),i.cofradesRest().query(t).$promise.then(function(e){return e.results})}function u(e){v.papeletaSitio.cofrade=e?e.id:null}function d(o){o?v.papeletaSitio.cofrade?(v.papeletaSitio.fecha=v.fecha,t("formatDates")(v.papeletaSitio),a.papeletasSitiosRest().save({anio:new Date(v.papeletaSitio.fecha).getFullYear(),papeletas:[v.papeletaSitio]},f,p)):(e.papeletaSitioForm.cofrade.$error.required=!0,m()):m()}function f(e){r.show(r.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),n.go("papeletasSitios")}function p(e){r.show(r.simple().content("Error al guardar!!").position("top right").parent(o[0].querySelector("#toastBounds")).hideDelay(3e3))}function m(){r.show(r.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(o[0].querySelector("#toastBounds")).position("top right"))}var v=this;v.newCofrade=!1,v.backState=s,v.querySearch=l,v.selectedItemChange=u,v.guardar=d,c()}angular.module("app").controller("PapeletaSitioAddModify",e),e.$inject=["$scope","$filter","$document","$mdToast","$state","papeletasSitiosService","cofradesService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.papeletasSitios=e})}var o=this;o.papeletasSitios=null,t()}angular.module("app").controller("PapeletasSitios",e),e.$inject=["papeletasSitiosPrepService"]}(),function(){"use strict";function e(e,t,o,r,n,a,i,c,s){function l(){i?i.$promise.then(u):d()}function u(e){return C.sector=e[0],C.cofradeSelected=C.sector.cofrade,C.originSector=C.sector.numeroSector,"new"===a.calle?(C.newCalle=!0,C.indexCalle=C.sector.calles.length):C.indexCalle=C.sector.calles.indexOf(a.calle)>-1?C.sector.calles.indexOf(a.calle):null,!0}function d(){C.newEncargado=!0,C.sector={cofrade:null}}function f(){window.history.back()}function p(e){var t={};return isNaN(e)?t.nombre=e:isNaN(e)||(t.numeroOrden=e),s.cofradesRest().query(t).$promise.then(function(e){return e.results})}function m(e){C.sector.cofrade=e?e.id:null}function v(t){t?C.sector.cofrade?C.sector.numeroSector===C.originSector||C.newEncargado?g():h():(e.sectorForm.cofrade.$error.required=!0,P()):P()}function g(){c.sectoresRest().save(C.sector,$,S)}function h(){c.sectoresRest().get({sector:C.sector.numeroSector}).$promise.then(function(e){return e[0]?(e[0].cofrade=e[0].cofrade.id,e[0].calles.push(C.sector.calles[C.indexCalle]),void e[0].$save(null,function(){C.sector.calles.splice(C.indexCalle,1),C.sector.numeroSector=C.originSector,g()},S)):void r.show(r.simple().content("No existe ese sector").position("top right").parent(o[0].querySelector("#toastBounds")).hideDelay(3e3))})}function $(e){r.show(r.simple().content("Guardado con éxito!!").position("top right").hideDelay(3e3)),n.go("sectores")}function S(e){r.show(r.simple().content("Error al guardar!!").position("top right").parent(o[0].querySelector("#toastBounds")).hideDelay(3e3))}function P(){r.show(r.simple().content("Existen errores en el formulario").action("OK").highlightAction(!1).parent(o[0].querySelector("#toastBounds")).position("top right"))}var C=this;C.newEncargado=!1,C.newCalle=!1,C.indexCalle=null,C.backState=f,C.querySearch=p,C.selectedItemChange=m,C.guardar=v,l()}angular.module("app").controller("SectorAddModify",e),e.$inject=["$scope","$filter","$document","$mdToast","$state","$stateParams","getSectorPrepService","sectoresService","cofradesService"]}(),function(){"use strict";function e(e){function t(){return e.$promise.then(function(e){o.sectores=e})}var o=this;o.sectores=null,t()}angular.module("app").controller("Sectores",e),e.$inject=["sectoresPrepService"]}(),function(){"use strict";function e(e){function t(t,o){e.go("aspirantesDetalle",{aspiranteId:t})}function o(t,o){o.stopPropagation(),e.go("aspirantesCambios",{aspiranteId:t})}var r=this;r.modifyAspirante=o,r.goToAspirante=t}angular.module("app").controller("ListaAspirantes",e),e.$inject=["$state"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/aspirantes/list/aspirantes.directive.html",scope:{aspirantes:"=aspirantes"},link:function(e,t){e.$watch("vm.aspirantes",function(t){t&&(e.vm.aspirantesShort=e.vm.aspirantes.map(function(e){var t={id:e.id,fecha:e.fecha};return e.cofrade&&(t.numeroOrden=e.cofrade.numeroOrden,t.nombre=e.cofrade.datosPersonales.nombre+" "+e.cofrade.datosPersonales.apellido1+" "+e.cofrade.datosPersonales.apellido2),t}))},!0)},controller:"ListaAspirantes",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaAspirantes",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar aspirante").content("¿Está seguro que desea eliminar este aspirante?<br>Perderá su antiguedad.").ariaLabel("Eliminar aspirante").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){n(e)})}function n(t){var r=o.aspirantesRest().get({id:t},function(){r.$delete({id:t}).then(function(){"aspirantes"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("aspirantes")})})}var a=this;a.removeAspirante=r}angular.module("app").controller("RemoveAspirante",e),e.$inject=["$state","$mdDialog","aspirantesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/aspirantes/remove/removeAspirante.directive.html",scope:{aspiranteId:"=aspirante"},controller:"RemoveAspirante",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeAspirante",e)}(),function(){"use strict";function e(e){function t(t,o){e.go("autoridadesDetalle",{autoridadId:t})}function o(t,o){o.stopPropagation(),e.go("autoridadesCambios",{autoridadId:t})}var r=this;r.modifyAutoridad=o,r.goToAutoridad=t}angular.module("app").controller("ListaAutoridades",e),e.$inject=["$state"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/autoridades/list/autoridades.directive.html",scope:{autoridades:"=autoridades"},controller:"ListaAutoridades",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaAutoridades",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar autoridad").content("¿Está seguro que desea eliminar este autoridad?").ariaLabel("Eliminar autoridad").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){n(e)})}function n(t){var r=o.autoridadesRest().get({id:t},function(){r.$delete({id:t}).then(function(){"autoridades"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("autoridades")})})}var a=this;a.removeAutoridad=r}angular.module("app").controller("RemoveAutoridad",e),e.$inject=["$state","$mdDialog","autoridadesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/autoridades/remove/removeAutoridad.directive.html",scope:{autoridadId:"=autoridad"},controller:"RemoveAutoridad",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeAutoridad",e)}(),function(){"use strict";function e(e,t,o,r){function n(){p.bajas?i():a()}function a(){if(p.nextPage){var e={page:p.nextPage};p.buscar&&(e[p.filtro]=p.buscar),r.cofradesRest().query(e,function(e){p.nextPage=e.next,p.cofrades=p.cofrades.concat(e.results)})}}function i(){if(p.nextPageBajas){var e={page:p.nextPageBajas};p.buscar&&(e[p.filtro]=p.buscar),r.cofradesBajasRest().query(e,function(e){p.nextPageBajas=e.next,p.cofradesBajas=p.cofradesBajas.concat(e.results)})}}function c(){p.filtro=isNaN(p.buscar)?"nombre":"numeroOrden",p.bajas?l():s()}function s(){var e={};e[p.filtro]=p.buscar,r.cofradesRest().query(e,function(e){p.nextPage=e.next,p.cofrades=e.results})}function l(){var e={};e[p.filtro]=p.buscar,r.cofradesBajasRest().query(e,function(e){p.nextPageBajas=e.next,p.cofradesBajas=e.results})}function u(e,t){o.go("cofradesDetalle",{cofradeId:e})}function d(e,t){t.stopPropagation(),o.go("cofradesCambios",{cofradeId:e})}function f(){p.search()}var p=this;p.filtro="nombre",p.buscar=null,p.search=c,p.goToCofrade=u,p.modifyCofrade=d,p.changeTab=f;var m=e.$on("scrollDown",n);t.$on("$destroy",function(){m(),m=null})}angular.module("app").controller("ListaCofrades",e),e.$inject=["$rootScope","$scope","$state","cofradesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/cofrades/list/cofrades.directive.html",scope:{cofrades:"=cofrades",nextPage:"=page",cofradesBajas:"=cofradesBajas",nextPageBajas:"=pageBajas"},controller:"ListaCofrades",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaCofrades",e)}(),function(){"use strict";function e(e,t){function o(e,o){o.stopPropagation(),t.show({templateUrl:"./templates/directives/cofrades/remove/dialogTmpl/removeCofrade.tmpl.html",locals:{id:e},controller:"RemoveCofradeTmpl",controllerAs:"vm",bindToController:!0,targetEvent:o,clickOutsideToClose:!0}).then(function(){})}var r=this;r.removeCofrade=o}angular.module("app").controller("RemoveCofrade",e),e.$inject=["$state","$mdDialog"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/cofrades/remove/removeCofrade.directive.html",scope:{cofradeId:"=cofrade"},controller:"RemoveCofrade",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeCofrade",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Restaurar cofrade").content("¿Está seguro que desea restaurar este cofrade?<br>Su número de Cofrade se calculará de nuevo.").ariaLabel("Restaurar cofrade").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){n(e)})}function n(t){var r=o.cofradesRest().get({id:t},function(){r.baja=null,r.$save({updateNumeroCofrade:!0}).then(function(){"cofrades"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("cofrades")})})}var a=this;a.restoreCofrade=r}angular.module("app").controller("RestoreCofrade",e),e.$inject=["$state","$mdDialog","cofradesService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/cofrades/restore/restoreCofrade.directive.html",scope:{cofradeId:"=cofrade"},controller:"RestoreCofrade",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("restoreCofrade",e)}(),function(){"use strict";function e(e){function t(t,o){e.go("costalerosDetalle",{costaleroId:t})}function o(t,o){o.stopPropagation(),e.go("costalerosCambios",{costaleroId:t})}var r=this;r.modifyCostalero=o,r.goToCostalero=t}angular.module("app").controller("ListaCostaleros",e),e.$inject=["$state"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/costaleros/list/costaleros.directive.html",scope:{costaleros:"=costaleros"},link:function(e,t){e.$watch("vm.costaleros",function(t){t&&(e.vm.costalerosShort=e.vm.costaleros.map(function(e){var t={id:e.id,sitio:e.sitio};return e.cofrade&&(t.numeroOrden=e.cofrade.numeroOrden,t.nombre=e.cofrade.datosPersonales.nombre+" "+e.cofrade.datosPersonales.apellido1+" "+e.cofrade.datosPersonales.apellido2),t}))},!0)},controller:"ListaCostaleros",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaCostaleros",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar costalero").content("¿Está seguro que desea eliminar este costalero?<br>Dejará su sitio libre.").ariaLabel("Eliminar costalero").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){n(e)})}function n(t){var r=o.costalerosRest().get({id:t},function(){r.cofrade=null,r.talla=null,r.fecha=null,r.$save().then(function(){"costaleros"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("costaleros")})})}var a=this;a.removeCostalero=r}angular.module("app").controller("RemoveCostalero",e),e.$inject=["$state","$mdDialog","costalerosService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/costaleros/remove/removeCostalero.directive.html",scope:{costaleroId:"=costalero"},controller:"RemoveCostalero",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeCostalero",e)}(),function(){"use strict";function e(e){function t(t,o){e.go("directivosDetalle",{directivoId:t})}function o(t,o){o.stopPropagation(),e.go("directivosCambios",{directivoId:t})}var r=this;r.modifyDirectivo=o,r.goToDirectivo=t}angular.module("app").controller("ListaDirectivos",e),e.$inject=["$state"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/directivos/list/directivos.directive.html",scope:{directivos:"=directivos"},link:function(e,t){e.$watch("vm.directivos",function(t){t&&(e.vm.directivosShort=e.vm.directivos.map(function(e){var t={id:e.id,posicion:e.posicion};return e.cofrade&&(t.numeroOrden=e.cofrade.numeroOrden,t.nombre=e.cofrade.datosPersonales.nombre+" "+e.cofrade.datosPersonales.apellido1+" "+e.cofrade.datosPersonales.apellido2),t}))},!0)},controller:"ListaDirectivos",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaDirectivos",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar directivo").content("¿Está seguro que desea eliminar este directivo?").ariaLabel("Eliminar directivo").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){n(e)})}function n(t){var r=o.directivosRest().get({id:t},function(){r.$delete({id:t}).then(function(){"directivos"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("directivos")})})}var a=this;a.removeDirectivo=r}angular.module("app").controller("RemoveDirectivo",e),e.$inject=["$state","$mdDialog","directivosService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/directivos/remove/removeDirectivo.directive.html",scope:{directivoId:"=directivo"},controller:"RemoveDirectivo",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeDirectivo",e)}(),function(){"use strict";function e(e,t){function o(){t.papeletasSitiosRest().query({anio:r.anio},function(e){r.papeletasSitio=e[0]})}var r=this;r.anio=null,r.getAnio=o}angular.module("app").controller("ListaPapeletasSitios",e),e.$inject=["$state","papeletasSitiosService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/papeletasSitios/list/papeletasSitios.directive.html",scope:{anios:"=papeletas"},controller:"ListaPapeletasSitios",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaPapeletasSitios",e)}(),function(){"use strict";function e(e,t,o){function r(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar papeleta sitio").content("¿Está seguro que desea eliminar esta papeleta de sitio?").ariaLabel("Eliminar papeletaSitio").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){n(e)})}function n(t){o.papeletasSitiosRest().save({anio:t.anio,papeletas:[t.papeleta],remove:!0},function(){"papeletasSitios"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("papeletasSitios")})}var a=this;a.removePapeletaSitio=r}angular.module("app").controller("RemovePapeletaSitio",e),e.$inject=["$state","$mdDialog","papeletasSitiosService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/papeletasSitios/remove/removePapeletaSitio.directive.html",scope:{papeletaSitio:"=papeleta"},controller:"RemovePapeletaSitio",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removePapeletaSitio",e)}(),function(){"use strict";function e(e){function t(e,t){e="callesSector"+e,angular.element(document.getElementById(e)).toggleClass("ocultar")}function o(t,o){o.stopPropagation(),e.go("sectoresCambios",{sectorId:t})}function r(t,o,r){r.stopPropagation(),e.go("sectoresCambios",{sectorId:t,calle:o})}function n(t,o){o.stopPropagation(),e.go("sectoresCambios",{sectorId:t,calle:"new"})}var a=this;a.modifySector=o,a.modifyCalle=r,a.addCalle=n,a.showCalles=t}angular.module("app").controller("ListaSectores",e),e.$inject=["$state"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/sectores/list/sectores.directive.html",scope:{sectores:"=sectores"},link:function(e,t){e.$watch("vm.sectores",function(t){t&&(e.vm.sectoresShort=e.vm.sectores.map(function(e){var t={id:e.id,numeroSector:e.numeroSector,calles:e.calles};return e.cofrade&&(t.numeroOrden=e.cofrade.numeroOrden,t.nombre=e.cofrade.datosPersonales.nombre+" "+e.cofrade.datosPersonales.apellido1+" "+e.cofrade.datosPersonales.apellido2),t}))},!0)},controller:"ListaSectores",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("listaSectores",e)}(),function(){"use strict";function e(e,t,o,r){function n(e,o){o.stopPropagation();var r=t.confirm().title("Eliminar sector").content("¿Está seguro que desea eliminar este sector?").ariaLabel("Eliminar sector").targetEvent(o).ok("Aceptar").cancel("Cancelar").clickOutsideToClose(!0);t.show(r).then(function(){a(e)})}function a(t){var n=r.sectoresRest().get({id:t},function(){0!==n[0].calles.length?o.show(o.simple().content("No se puede eliminar un sector con calles asignadas").position("top right").hideDelay(3e3)):n[0].$delete({id:t}).then(function(){"sectores"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("sectores")})})}var i=this;i.removeSector=n}angular.module("app").controller("RemoveSector",e),e.$inject=["$state","$mdDialog","$mdToast","sectoresService"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/sectores/remove/removeSector.directive.html",scope:{sectorId:"=sector"},controller:"RemoveSector",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("removeSector",e)}(),function(){"use strict";function e(e,t,o){function r(){t.cancel()}function n(t){var r=o.cofradesRest().get({id:t},function(){r.baja={motivo:a.motivoBaja,fechaBaja:(new Date).toLocaleDateString()},r.numeroCofrade=null,r.$save({updateNumeroCofrade:!0}).then(function(){a.closeDialog(),"cofrades"===e.current.name?e.transitionTo(e.current,null,{reload:!0,inherit:!1,notify:!0}):e.go("cofrades")})})}var a=this;a.closeDialog=r,a.removeEndCofrade=n}angular.module("app").controller("RemoveCofradeTmpl",e),e.$inject=["$state","$mdDialog","cofradesService"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5pbml0Lm1vZHVsZS5qcyIsImFsbC5taW4uanMiLCJhcHAubG9hZGluZy5qcyIsImFwcC5tYXAuanMiLCJhcHAucGlja2VyRGF0ZS5qcyIsImFwcC5yb3V0ZXMuanMiLCJhcHAudGhlbWUuanMiLCJhc3BpcmFudGVzL2FzcGlyYW50ZXMucm91dGVzLmpzIiwiYXV0b3JpZGFkZXMvYXV0b3JpZGFkZXMucm91dGVzLmpzIiwiY29mcmFkZXMvY29mcmFkZXMucm91dGVzLmpzIiwiY29zdGFsZXJvcy9jb3N0YWxlcm9zLnJvdXRlcy5qcyIsImRpcmVjdGl2b3MvZGlyZWN0aXZvcy5yb3V0ZXMuanMiLCJnYXN0b3NCYW5jYXJpb3MvZ2FzdG9zQmFuY2FyaW9zLnJvdXRlcy5qcyIsImludGVyZmF6L2FwcC5jb250cm9sbGVyLmpzIiwibG9naW4vbG9naW4uY29udHJvbGxlci5qcyIsImxvZ2luL2xvZ2luLnJvdXRlcy5qcyIsIm51bWVyb3NMb3RlcmlhL251bWVyb3NMb3RlcmlhLnJvdXRlcy5qcyIsInBhcGVsZXRhc1NpdGlvcy9wYXBlbGV0YXNTaXRpb3Mucm91dGVzLmpzIiwic2VjdG9yZXMvc2VjdG9yZXMucm91dGVzLmpzIiwiYXNwaXJhbnRlcy9hZGRNb2RpZnkvYXNwaXJhbnRlQWRkTW9kaWZ5LmNvbnRyb2xsZXIuanMiLCJhc3BpcmFudGVzL2RldGFpbC9hc3BpcmFudGVEZXRhbGxlLmNvbnRyb2xsZXIuanMiLCJhc3BpcmFudGVzL2xpc3QvYXNwaXJhbnRlcy5jb250cm9sbGVyLmpzIiwiYXV0b3JpZGFkZXMvYWRkTW9kaWZ5L2F1dG9yaWRhZEFkZE1vZGlmeS5jb250cm9sbGVyLmpzIiwiYXV0b3JpZGFkZXMvZGV0YWlsL2F1dG9yaWRhZERldGFsbGUuY29udHJvbGxlci5qcyIsImF1dG9yaWRhZGVzL2xpc3QvYXV0b3JpZGFkZXMuY29udHJvbGxlci5qcyIsImNvZnJhZGVzL2FkZE1vZGlmeS9jb2ZyYWRlQWRkTW9kaWZ5LmNvbnRyb2xsZXIuanMiLCJjb2ZyYWRlcy9kZXRhaWwvY29mcmFkZURldGFsbGUuY29udHJvbGxlci5qcyIsImNvZnJhZGVzL2xpc3QvY29mcmFkZXMuY29udHJvbGxlci5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9sb2FkUmVwZWF0LmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9zY3JvbGx5LmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZmlsdGVycy9wYXJzZUN1ZW50YS5maWx0ZXIuanMiLCJjb21tb25zL2ZpbHRlcnMvcGFyc2VEYXRlLmZpbHRlci5qcyIsImNvbW1vbnMvZmlsdGVycy9yZW1vdmVOdWxscy5maWx0ZXIuanMiLCJjb21tb25zL3NlcnZpY2VzL2FzcGlyYW50ZXMuc2VydmljZS5qcyIsImNvbW1vbnMvc2VydmljZXMvYXV0b3JpZGFkZXMuc2VydmljZS5qcyIsImNvbW1vbnMvc2VydmljZXMvY29mcmFkZXMuc2VydmljZS5qcyIsImNvbW1vbnMvc2VydmljZXMvY29zdGFsZXJvcy5zZXJ2aWNlLmpzIiwiY29tbW9ucy9zZXJ2aWNlcy9kaXJlY3Rpdm9zLnNlcnZpY2UuanMiLCJjb21tb25zL3NlcnZpY2VzL2dhc3Rvc0JhbmNhcmlvcy5zZXJ2aWNlLmpzIiwiY29tbW9ucy9zZXJ2aWNlcy9pbnRlcmZhei5zZXJ2aWNlLmpzIiwiY29tbW9ucy9zZXJ2aWNlcy9tYXBhcy5zZXJ2aWNlLmpzIiwiY29tbW9ucy9zZXJ2aWNlcy9udW1lcm9zTG90ZXJpYS5zZXJ2aWNlLmpzIiwiY29tbW9ucy9zZXJ2aWNlcy9wYXBlbGV0YXNTaXRpb3Muc2VydmljZS5qcyIsImNvbW1vbnMvc2VydmljZXMvc2VjdG9yZXMuc2VydmljZS5qcyIsImNvc3RhbGVyb3MvYWRkTW9kaWZ5L2Nvc3RhbGVyb0FkZE1vZGlmeS5jb250cm9sbGVyLmpzIiwiY29zdGFsZXJvcy9kZXRhaWwvY29zdGFsZXJvRGV0YWxsZS5jb250cm9sbGVyLmpzIiwiY29zdGFsZXJvcy9saXN0L2Nvc3RhbGVyb3MuY29udHJvbGxlci5qcyIsImRpcmVjdGl2b3MvYWRkTW9kaWZ5L2RpcmVjdGl2b0FkZE1vZGlmeS5jb250cm9sbGVyLmpzIiwiZGlyZWN0aXZvcy9kZXRhaWwvZGlyZWN0aXZvRGV0YWxsZS5jb250cm9sbGVyLmpzIiwiZGlyZWN0aXZvcy9saXN0L2RpcmVjdGl2b3MuY29udHJvbGxlci5qcyIsImdhc3Rvc0JhbmNhcmlvcy9tb2RpZnkvZ2FzdG9CYW5jYXJpb01vZGlmeS5jb250cm9sbGVyLmpzIiwibnVtZXJvc0xvdGVyaWEvbW9kaWZ5L251bWVyb3NMb3RlcmlhTW9kaWZ5LmNvbnRyb2xsZXIuanMiLCJwYXBlbGV0YXNTaXRpb3MvYWRkTW9kaWZ5L3BhcGVsZXRhU2l0aW9BZGRNb2RpZnkuY29udHJvbGxlci5qcyIsInBhcGVsZXRhc1NpdGlvcy9saXN0L3BhcGVsZXRhc1NpdGlvcy5jb250cm9sbGVyLmpzIiwic2VjdG9yZXMvYWRkTW9kaWZ5L3NlY3RvckFkZE1vZGlmeS5jb250cm9sbGVyLmpzIiwic2VjdG9yZXMvbGlzdC9zZWN0b3Jlcy5jb250cm9sbGVyLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2FzcGlyYW50ZXMvbGlzdC9hc3BpcmFudGVzLmNvbnRyb2xsZXIuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2FzcGlyYW50ZXMvbGlzdC9hc3BpcmFudGVzLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9hc3BpcmFudGVzL3JlbW92ZS9yZW1vdmVBc3BpcmFudGUuY29udHJvbGxlci5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvYXNwaXJhbnRlcy9yZW1vdmUvcmVtb3ZlQXNwaXJhbnRlLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9hdXRvcmlkYWRlcy9saXN0L2F1dG9yaWRhZGVzLmNvbnRyb2xsZXIuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2F1dG9yaWRhZGVzL2xpc3QvYXV0b3JpZGFkZXMuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2F1dG9yaWRhZGVzL3JlbW92ZS9yZW1vdmVBdXRvcmlkYWQuY29udHJvbGxlci5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvYXV0b3JpZGFkZXMvcmVtb3ZlL3JlbW92ZUF1dG9yaWRhZC5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvY29mcmFkZXMvbGlzdC9jb2ZyYWRlcy5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9saXN0L2NvZnJhZGVzLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZW1vdmUvcmVtb3ZlQ29mcmFkZS5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZW1vdmUvcmVtb3ZlQ29mcmFkZS5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvY29mcmFkZXMvcmVzdG9yZS9yZXN0b3JlQ29mcmFkZS5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZXN0b3JlL3Jlc3RvcmVDb2ZyYWRlLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb3N0YWxlcm9zL2xpc3QvY29zdGFsZXJvcy5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb3N0YWxlcm9zL2xpc3QvY29zdGFsZXJvcy5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvY29zdGFsZXJvcy9yZW1vdmUvcmVtb3ZlQ29zdGFsZXJvLmNvbnRyb2xsZXIuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2Nvc3RhbGVyb3MvcmVtb3ZlL3JlbW92ZUNvc3RhbGVyby5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvZGlyZWN0aXZvcy9saXN0L2RpcmVjdGl2b3MuY29udHJvbGxlci5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvZGlyZWN0aXZvcy9saXN0L2RpcmVjdGl2b3MuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL2RpcmVjdGl2b3MvcmVtb3ZlL3JlbW92ZURpcmVjdGl2by5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9kaXJlY3Rpdm9zL3JlbW92ZS9yZW1vdmVEaXJlY3Rpdm8uZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL3BhcGVsZXRhc1NpdGlvcy9saXN0L3BhcGVsZXRhc1NpdGlvcy5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9wYXBlbGV0YXNTaXRpb3MvbGlzdC9wYXBlbGV0YXNTaXRpb3MuZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL3BhcGVsZXRhc1NpdGlvcy9yZW1vdmUvcmVtb3ZlUGFwZWxldGFTaXRpby5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9wYXBlbGV0YXNTaXRpb3MvcmVtb3ZlL3JlbW92ZVBhcGVsZXRhU2l0aW8uZGlyZWN0aXZlLmpzIiwiY29tbW9ucy9kaXJlY3RpdmVzL3NlY3RvcmVzL2xpc3Qvc2VjdG9yZXMuY29udHJvbGxlci5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvc2VjdG9yZXMvbGlzdC9zZWN0b3Jlcy5kaXJlY3RpdmUuanMiLCJjb21tb25zL2RpcmVjdGl2ZXMvc2VjdG9yZXMvcmVtb3ZlL3JlbW92ZVNlY3Rvci5jb250cm9sbGVyLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9zZWN0b3Jlcy9yZW1vdmUvcmVtb3ZlU2VjdG9yLmRpcmVjdGl2ZS5qcyIsImNvbW1vbnMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZW1vdmUvZGlhbG9nVG1wbC9yZW1vdmVDb2ZyYWRlLmNvbnRyb2xsZXIudG1wbC5qcyJdLCJuYW1lcyI6WyJjc3JmVG9rZW4iLCIkaHR0cFByb3ZpZGVyIiwiZGVmYXVsdHMiLCJ4c3JmQ29va2llTmFtZSIsInhzcmZIZWFkZXJOYW1lIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRpbmplY3QiLCJsb2FkaW5nU3Bpbm5lciIsImludGVyY2VwdG9ycyIsInB1c2giLCJteUh0dHBJbnRlcmNlcHRvciIsIiRxIiwiJGluamVjdG9yIiwibG9hZFNjcmVlbiIsImVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJyZXF1ZXN0IiwibWV0aG9kIiwiY3NzIiwicmVxdWVzdEVycm9yIiwicmVqZWN0aW9uIiwicmVqZWN0IiwicmVzcG9uc2UiLCJyZXNwb25zZUVycm9yIiwic3RhdHVzIiwiZ2V0IiwiZ28iLCJmYWN0b3J5IiwiZ29vZ2xlTWFwQVBJIiwidWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIiLCJjb25maWd1cmUiLCJsaWJyYXJpZXMiLCJkYXRlUGlja2VyQ29uZmlnIiwiJG1kRGF0ZUxvY2FsZVByb3ZpZGVyIiwibW9udGhzIiwic2hvcnRNb250aHMiLCJkYXlzIiwic2hvcnREYXlzIiwiZmlyc3REYXlPZldlZWsiLCJwYXJzZURhdGUiLCJkYXRlU3RyaW5nIiwiRGF0ZSIsImZvcm1hdERhdGUiLCJkYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlUHJvdmlkZXIiLCIkdGVtcGxhdGVDYWNoZSIsInJlc29sdmUiLCJpbnRlcmZhelByZXBTZXJ2aWNlIiwiaW50ZXJmYXpTZXJ2aWNlIiwiaW50ZXJmYXpSZXN0IiwidGhlbWVBbmd1bGFyTWF0ZXJpYWwiLCIkbWRUaGVtaW5nUHJvdmlkZXIiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwiYXNwaXJhbnRlc1ByZXBTZXJ2aWNlIiwiZ2V0QXNwaXJhbnRlUHJlcFNlcnZpY2UiLCJhc3BpcmFudGVzU2VydmljZSIsImFzcGlyYW50ZXNSZXN0IiwicXVlcnkiLCIkc3RhdGVQYXJhbXMiLCJpZCIsImFzcGlyYW50ZUlkIiwiYXV0b3JpZGFkZXNQcmVwU2VydmljZSIsImdldEF1dG9yaWRhZFByZXBTZXJ2aWNlIiwiZ2V0TWFwc1ByZXBTZXJ2aWNlIiwiYXV0b3JpZGFkZXNTZXJ2aWNlIiwiYXV0b3JpZGFkZXNSZXN0IiwiYXV0b3JpZGFkSWQiLCJ1aUdtYXBHb29nbGVNYXBBcGkiLCJtYXBhc1NlcnZpY2UiLCIkcHJvbWlzZSIsInRoZW4iLCJkYXRhIiwiYWRkcmVzcyIsImRpcmVjY2lvbiIsImNhbGxlIiwibnVtZXJvIiwibXVuaWNpcGlvIiwicHJvdmluY2lhIiwiY3AiLCJnZW9Db2RpbmdBUEkiLCJyZXN1bHRzIiwibGVuZ3RoIiwiY29vcmRpbmF0ZXMiLCJnZW9tZXRyeSIsImxvY2F0aW9uIiwibWFwcyIsImNvb3JkIiwibGF0aXR1ZGUiLCJsYXQiLCJsb25naXR1ZGUiLCJsbmciLCJtYXJrZXIiLCJ6b29tIiwiY29mcmFkZXNQcmVwU2VydmljZSIsImNvZnJhZGVzQmFqYXNQcmVwU2VydmljZSIsImdldENvZnJhZGVQcmVwU2VydmljZSIsIm51bWVyb3NMb3RlcmlhUHJlcFNlcnZpY2UiLCJjb2ZyYWRlc1NlcnZpY2UiLCJjb2ZyYWRlc1Jlc3QiLCJjb2ZyYWRlc0JhamFzUmVzdCIsImNvZnJhZGVJZCIsIm51bWVyb3NMb3RlcmlhU2VydmljZSIsIm51bWVyb3NMb3RlcmlhUmVzdCIsImRhdG9zUGVyc29uYWxlcyIsImNvc3RhbGVyb3NQcmVwU2VydmljZSIsImdldENvc3RhbGVyb1ByZXBTZXJ2aWNlIiwiY29zdGFsZXJvc1NlcnZpY2UiLCJjb3N0YWxlcm9zUmVzdCIsImNvc3RhbGVyb0lkIiwiZGlyZWN0aXZvc1ByZXBTZXJ2aWNlIiwiZ2V0RGlyZWN0aXZvUHJlcFNlcnZpY2UiLCJkaXJlY3Rpdm9zU2VydmljZSIsImRpcmVjdGl2b3NSZXN0IiwiZGlyZWN0aXZvSWQiLCJnYXN0b3NCYW5jYXJpb3NQcmVwU2VydmljZSIsImdhc3Rvc0JhbmNhcmlvc1NlcnZpY2UiLCJnYXN0b3NCYW5jYXJpb3NSZXN0IiwiQXBwQ3RybCIsIiRtZFNpZGVuYXYiLCIkc3RhdGUiLCJ0b2dnbGVTaWRlbmF2IiwibWVudUlkIiwidG9nZ2xlIiwiY2xvc2VTaWRlbmF2IiwiY2xvc2UiLCJuYXZpZ2F0ZVRvIiwidG8iLCJ2bSIsInRoaXMiLCJMb2dpbiIsIiRzY29wZSIsIiRodHRwIiwiJGh0dHBQYXJhbVNlcmlhbGl6ZXIiLCIkY29tcGlsZSIsInByb2Nlc3NGb3JtIiwiY3NyZm1pZGRsZXdhcmV0b2tlbiIsImxvZ2luRm9ybSIsInZhbHVlIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIm5leHQiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwic3VjY2VzcyIsImlubmVySFRNTCIsImNvbnRlbnRzIiwiJGxvY2F0aW9uIiwicG9ydCIsInBhcGVsZXRhc1NpdGlvc1ByZXBTZXJ2aWNlIiwicGFwZWxldGFzU2l0aW9zU2VydmljZSIsInBhcGVsZXRhc1NpdGlvc1Jlc3QiLCJhbmlvcyIsInNlY3RvcmVzUHJlcFNlcnZpY2UiLCJnZXRTZWN0b3JQcmVwU2VydmljZSIsInNlY3RvcmVzU2VydmljZSIsInNlY3RvcmVzUmVzdCIsInNlY3RvcklkIiwiQXNwaXJhbnRlQWRkTW9kaWZ5IiwiJGRvY3VtZW50IiwiJG1kVG9hc3QiLCJhY3RpdmF0ZSIsImluaXRBc3BpcmFudGUiLCJuZXdBc3BpcmFudGUiLCJhc3BpcmFudGUiLCJuZXdDb2ZyYWRlIiwiY29mcmFkZSIsImZlY2hhIiwiYmFja1N0YXRlIiwid2luZG93IiwiaGlzdG9yeSIsImJhY2siLCJxdWVyeVNlYXJjaCIsImZpbHRybyIsImlzTmFOIiwibm9tYnJlIiwibnVtZXJvT3JkZW4iLCJzZWxlY3RlZEl0ZW1DaGFuZ2UiLCJpdGVtIiwiZ3VhcmRhciIsImlzVmFsaWQiLCJzYXZlIiwiZ3VhcmRhclN1Y2Nlc3MiLCJndWFyZGFyRXJyb3IiLCJhc3BpcmFudGVGb3JtIiwiJGVycm9yIiwicmVxdWlyZWQiLCJzaG93QWN0aW9uVG9hc3QiLCJzaG93Iiwic2ltcGxlIiwiY29udGVudCIsInBvc2l0aW9uIiwiaGlkZURlbGF5IiwicGFyZW50IiwiYWN0aW9uIiwiaGlnaGxpZ2h0QWN0aW9uIiwiQXNwaXJhbnRlRGV0YWxsZSIsIm1vZGlmeUFzcGlyYW50ZSIsImV2ZW50IiwiQXNwaXJhbnRlcyIsImFzcGlyYW50ZXMiLCJBdXRvcmlkYWRBZGRNb2RpZnkiLCJpbml0QXV0b3JpZGFkIiwibmV3QXV0b3JpZGFkIiwiYXV0b3JpZGFkIiwiY2FsbGVTZWxlY3RlZCIsImdldENhbGxlcyIsInNlYXJjaFRleHQiLCJBdXRvcmlkYWREZXRhbGxlIiwibW9kaWZ5QXV0b3JpZGFkIiwiQXV0b3JpZGFkZXMiLCJhdXRvcmlkYWRlcyIsIkNvZnJhZGVBZGRNb2RpZnkiLCIkZmlsdGVyIiwibnVtZXJvc0xvdGVyaWEiLCJpbml0Q29mcmFkZSIsImdldFJlZ2lzdHJvcyIsIm51bWVyb0NvZnJhZGUiLCJmZWNoYU5hY2ltaWVudG8iLCJmZWNoYUluc2NyaXBjaW9uIiwiZGF0b3NGaW5hbmNpZXJvcyIsImN1ZW50YSIsImRldWRhIiwic2VhcmNoU2VjdG9yIiwic2VjdG9yIiwibnVldmFDYWxsZSIsIm51bWVyb1NlY3RvciIsImNhbGN1bGFyQ0MiLCJpYmFuIiwiY2MiLCJjYWxjdWxhckliYW4iLCJndWFyZGFyQ29mcmFkZSIsIkNvZnJhZGVSZXNvdXJjZSIsImd1YXJkYXJDYWxsZSIsInNlY3RvclJlc291cmNlIiwiY2FsbGVzIiwiJHNhdmUiLCJKU09OIiwic3RyaW5naWZ5Iiwic2V4byIsIkNvZnJhZGVEZXRhbGxlIiwibW9kaWZ5Q29mcmFkZSIsIkNvZnJhZGVzIiwibmV4dFBhZ2UiLCJjb2ZyYWRlcyIsIm5leHRQYWdlQmFqYXMiLCJjb2ZyYWRlc0JhamFzIiwic2VsZWN0ZWRUYWIiLCJsb2FkUmVwZWF0Iiwic2NvcGUiLCIkbGFzdCIsIiRldmFsIiwiZGlyZWN0aXZlIiwic2Nyb2xseSIsInJlc3RyaWN0IiwibGluayIsIiRyb290U2NvcGUiLCJhdHRycyIsInJhdyIsImJpbmQiLCJzY3JvbGxUb3AiLCJvZmZzZXRIZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCIkZW1pdCIsInBhcnNlSWJhbiIsImZvcm1hdHRlZEliYW4iLCJpIiwicGFyc2VDQyIsImZvcm1hdHRlZENDIiwic3Vic3RyIiwidmFsb3JDaWZyYXMiLCJjaWZyYXMiLCJMRVRSQVMiLCJpdGVtcyIsInBvc2ljaW9uIiwiaW5kZXhPZiIsImpvaW4iLCJtb2R1bG8iLCJkaXZpc29yIiwiQ1VFTlRBIiwibGFyZ28iLCJyZXN0byIsImRpdmlkZW5kbyIsImNlcm9zSXpxdWllcmRhIiwiY2NjIiwicGFpcyIsImZpbHRlciIsInN0cmluZ1RvRGF0ZUZvcm1hdCIsImZvcm1hdERhdGVzIiwic3BsaXQiLCJyZW1vdmVOdWxscyIsIm9iaiIsImlzQXJyYXkiLCJBcnJheSIsImsiLCJzcGxpY2UiLCIkcmVzb3VyY2UiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsImhlYWRlcnNHZXR0ZXIiLCJmcm9tSnNvbiIsInRyYW5zZm9ybVJlcXVlc3QiLCJ0b0pzb24iLCJwYXJhbXMiLCJrZXkiLCJDb3N0YWxlcm9BZGRNb2RpZnkiLCJpbml0Q29zdGFsZXJvIiwiY29zdGFsZXJvIiwiY29mcmFkZVNlbGVjdGVkIiwiY29zdGFsZXJvRm9ybSIsIkNvc3RhbGVyb0RldGFsbGUiLCJtb2RpZnlDb3N0YWxlcm8iLCJDb3N0YWxlcm9zIiwiY29zdGFsZXJvcyIsIkRpcmVjdGl2b0FkZE1vZGlmeSIsImluaXREaXJlY3Rpdm8iLCJuZXdEaXJlY3Rpdm8iLCJkaXJlY3Rpdm8iLCJkaXJlY3Rpdm9Gb3JtIiwiRGlyZWN0aXZvRGV0YWxsZSIsIm1vZGlmeURpcmVjdGl2byIsIkRpcmVjdGl2b3MiLCJkaXJlY3Rpdm9zIiwiR2FzdG9zQmFuY2FyaW9zIiwiaW5pdEdhc3RvQmFuY2FyaW8iLCJnYXN0b0JhbmNhcmlvIiwiTnVtZXJvc0xvdGVyaWEiLCJpbml0TnVtZXJvc0xvdGVyaWEiLCJQYXBlbGV0YVNpdGlvQWRkTW9kaWZ5IiwibmV3cGFwZWxldGFTaXRpbyIsInBhcGVsZXRhU2l0aW8iLCJhbmlvIiwiZ2V0RnVsbFllYXIiLCJwYXBlbGV0YXMiLCJwYXBlbGV0YVNpdGlvRm9ybSIsIlBhcGVsZXRhc1NpdGlvcyIsInBhcGVsZXRhc1NpdGlvcyIsIlNlY3RvckFkZE1vZGlmeSIsImluaXRTZWN0b3IiLCJuZXdFbmNhcmdhZG8iLCJvcmlnaW5TZWN0b3IiLCJuZXdDYWxsZSIsImluZGV4Q2FsbGUiLCJndWFyZGFyU2VjdG9yIiwiZ3VhcmRhckNhbWJpb1NlY3RvciIsInNlY3RvckZvcm0iLCJTZWN0b3JlcyIsInNlY3RvcmVzIiwiTGlzdGFBc3BpcmFudGVzIiwiZ29Ub0FzcGlyYW50ZSIsInN0b3BQcm9wYWdhdGlvbiIsImxpc3RhQXNwaXJhbnRlcyIsInRlbXBsYXRlVXJsIiwiJHdhdGNoIiwibmV3VmFsIiwiYXNwaXJhbnRlc1Nob3J0IiwibWFwIiwiYXV4IiwiYXBlbGxpZG8xIiwiYXBlbGxpZG8yIiwiYmluZFRvQ29udHJvbGxlciIsIlJlbW92ZUFzcGlyYW50ZSIsIiRtZERpYWxvZyIsInJlbW92ZUFzcGlyYW50ZSIsInJlbW92ZURpYWxvZyIsImNvbmZpcm0iLCJ0aXRsZSIsImFyaWFMYWJlbCIsInRhcmdldEV2ZW50Iiwib2siLCJjYW5jZWwiLCJjbGlja091dHNpZGVUb0Nsb3NlIiwicmVtb3ZlRW5kQXNwaXJhbnRlIiwiJGRlbGV0ZSIsImN1cnJlbnQiLCJuYW1lIiwidHJhbnNpdGlvblRvIiwicmVsb2FkIiwiaW5oZXJpdCIsIm5vdGlmeSIsIkxpc3RhQXV0b3JpZGFkZXMiLCJnb1RvQXV0b3JpZGFkIiwibGlzdGFBdXRvcmlkYWRlcyIsIlJlbW92ZUF1dG9yaWRhZCIsInJlbW92ZUF1dG9yaWRhZCIsInJlbW92ZUVuZEF1dG9yaWRhZCIsIkxpc3RhQ29mcmFkZXMiLCJnZXROZXh0UGFnZSIsImJhamFzIiwiZ2V0TmV4dFBhZ2VCYWphcyIsImdldE5leHRQYWdlQWx0YXMiLCJwYXJhbWV0ZXJzIiwicGFnZSIsImJ1c2NhciIsImNvbmNhdCIsInNlYXJjaCIsInNlYXJjaEJhamFzIiwic2VhcmNoQWx0YXMiLCJnb1RvQ29mcmFkZSIsImNoYW5nZVRhYiIsImhhbmRsZXIiLCIkb24iLCJsaXN0YUNvZnJhZGVzIiwiUmVtb3ZlQ29mcmFkZSIsInJlbW92ZUNvZnJhZGUiLCJsb2NhbHMiLCJSZXN0b3JlQ29mcmFkZSIsInJlc3RvcmVDb2ZyYWRlIiwicmVzdGF1cmFyRGlhbG9nIiwicmVzdG9yZUVuZENvZnJhZGUiLCJiYWphIiwidXBkYXRlTnVtZXJvQ29mcmFkZSIsIkxpc3RhQ29zdGFsZXJvcyIsImdvVG9Db3N0YWxlcm8iLCJsaXN0YUNvc3RhbGVyb3MiLCJjb3N0YWxlcm9zU2hvcnQiLCJzaXRpbyIsIlJlbW92ZUNvc3RhbGVybyIsInJlbW92ZUNvc3RhbGVybyIsInJlbW92ZUVuZENvc3RhbGVybyIsInRhbGxhIiwiTGlzdGFEaXJlY3Rpdm9zIiwiZ29Ub0RpcmVjdGl2byIsImxpc3RhRGlyZWN0aXZvcyIsImRpcmVjdGl2b3NTaG9ydCIsIlJlbW92ZURpcmVjdGl2byIsInJlbW92ZURpcmVjdGl2byIsInJlbW92ZUVuZERpcmVjdGl2byIsIkxpc3RhUGFwZWxldGFzU2l0aW9zIiwiZ2V0QW5pbyIsInBhcGVsZXRhc1NpdGlvIiwibGlzdGFQYXBlbGV0YXNTaXRpb3MiLCJSZW1vdmVQYXBlbGV0YVNpdGlvIiwicmVtb3ZlUGFwZWxldGFTaXRpbyIsInJlbW92ZUVuZFBhcGVsZXRhU2l0aW8iLCJwYXBlbGV0YU9iaiIsInBhcGVsZXRhIiwicmVtb3ZlIiwiTGlzdGFTZWN0b3JlcyIsInNob3dDYWxsZXMiLCJnZXRFbGVtZW50QnlJZCIsInRvZ2dsZUNsYXNzIiwibW9kaWZ5U2VjdG9yIiwibW9kaWZ5Q2FsbGUiLCJhZGRDYWxsZSIsImxpc3RhU2VjdG9yZXMiLCJzZWN0b3Jlc1Nob3J0IiwiUmVtb3ZlU2VjdG9yIiwicmVtb3ZlU2VjdG9yIiwicmVtb3ZlRW5kU2VjdG9yIiwiUmVtb3ZlQ29mcmFkZVRtcGwiLCJjbG9zZURpYWxvZyIsInJlbW92ZUVuZENvZnJhZGUiLCJtb3Rpdm8iLCJtb3Rpdm9CYWphIiwiZmVjaGFCYWphIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLFlBWUEsU0FBQUEsR0FBQUMsR0FDQUEsRUFBQUMsU0FBQUMsZUFBQSxZQUNBRixFQUFBQyxTQUFBRSxlQUFBLGNBWkFDLFFBQ0FDLE9BQUEsT0FDQSxZQUNBLGFBQ0EsYUFDQSxvQkFDQSxlQUVBQyxPQUFBUCxHQ01FQSxFQUFVUSxTQUFXLG9CQ2pCdkIsV0FDQSxZQU9BLFNBQUFDLEdBQUFSLEdBQ0FBLEVBQUFTLGFBQUFDLEtBQUEscUJBR0EsUUFBQUMsR0FBQUMsRUFBQUMsR0FDQSxHQUFBQyxHQUFBVixRQUFBVyxRQUFBQyxTQUFBQyxjQUFBLGtCQUNBLFFBRUFDLFFBQUEsU0FBQVosR0FJQSxNQUZBLFNBQUFBLEVBQUFhLFFBQ0FMLEVBQUFNLElBQUEsVUFBQSxTQUNBZCxHQUlBZSxhQUFBLFNBQUFDLEdBRUEsTUFBQVYsR0FBQVcsT0FBQUQsSUFJQUUsU0FBQSxTQUFBQSxHQUdBLE1BREFWLEdBQUFNLElBQUEsVUFBQSxRQUNBSSxHQUlBQyxjQUFBLFNBQUFILEdBT0EsTUFMQSxPQUFBQSxFQUFBSSxRQUNBYixFQUFBYyxJQUFBLFVBQUFDLEdBQUEsU0FHQWQsRUFBQU0sSUFBQSxVQUFBLFFBQ0FSLEVBQUFXLE9BQUFELEtBekNBbEIsUUFDQUMsT0FBQSxPQUNBd0IsUUFBQSxvQkFBQWxCLEdBQ0FMLE9BQUFFLEdEd0JFQSxFQUFlRCxTQUFXLGlCQXNDMUJJLEVBQWtCSixTQUFXLEtBQU0sZ0JFcEVyQyxXQUNBLFlBTUEsU0FBQXVCLEdBQUFDLEdBQ0FBLEVBQUFDLFdBQ0FDLFVBQUEsbUNBTkE3QixRQUNBQyxPQUFBLE9BQ0FDLE9BQUF3QixHRitFRUEsRUFBYXZCLFNBQVcsaUNHcEYxQixXQUNBLFlBTUEsU0FBQTJCLEdBQUFDLEdBRUFBLEVBQUFDLFFBQUEsUUFBQSxVQUFBLFFBQUEsUUFBQSxPQUFBLFFBQUEs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RUFDQUMsU0FBQSxFQUNBQyxRQUFBLElBSUFsUSxFQUFBcEcsR0FBQSxnQkF4QkEsR0FBQTRHLEdBQUFDLElBRUFELEdBQUFrVSxZQUFBQSxFQUNBbFUsRUFBQW1VLGlCQUFBQSxFQVJBdmMsUUFDQUMsT0FBQSxPQUNBdUQsV0FBQSxvQkFBQTZZLEdyRjZnSEVBLEVBQWtCbGMsU0FBVyxTQUFVLFlBQWEiLCJmaWxlIjoiYWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcsIFtcclxuICAgICAgJ3VpLnJvdXRlcicsXHJcbiAgICAgICduZ1Jlc291cmNlJyxcclxuICAgICAgJ25nTWF0ZXJpYWwnLFxyXG4gICAgICAndWlHbWFwZ29vZ2xlLW1hcHMnLFxyXG4gICAgICAnbmdNZXNzYWdlcydcclxuICAgIF0pXHJcbiAgICAuY29uZmlnKGNzcmZUb2tlbik7XHJcblxyXG4gIGZ1bmN0aW9uIGNzcmZUb2tlbigkaHR0cFByb3ZpZGVyKXtcclxuICAgICRodHRwUHJvdmlkZXIuZGVmYXVsdHMueHNyZkNvb2tpZU5hbWUgPSAnY3NyZnRva2VuJztcclxuICAgICRodHRwUHJvdmlkZXIuZGVmYXVsdHMueHNyZkhlYWRlck5hbWUgPSAnWC1DU1JGVG9rZW4nO1xyXG4gIH1cclxufSkoKTsiLG51bGwsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgnbXlIdHRwSW50ZXJjZXB0b3InLCBteUh0dHBJbnRlcmNlcHRvcilcclxuICAgIC5jb25maWcobG9hZGluZ1NwaW5uZXIpO1xyXG5cclxuICBmdW5jdGlvbiBsb2FkaW5nU3Bpbm5lcigkaHR0cFByb3ZpZGVyKSB7XHJcbiAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdteUh0dHBJbnRlcmNlcHRvcicpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gbXlIdHRwSW50ZXJjZXB0b3IoJHEsICRpbmplY3Rvcikge1xyXG4gICAgdmFyIGxvYWRTY3JlZW4gPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm0tYXBwLWxvYWRpbmcnKSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAvLyBvcHRpb25hbCBtZXRob2RcclxuICAgICAgJ3JlcXVlc3QnOiBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gc3VjY2Vzc1xyXG4gICAgICAgIGlmIChjb25maWcubWV0aG9kID09PSAnUE9TVCcpXHJcbiAgICAgICAgICBsb2FkU2NyZWVuLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgIHJldHVybiBjb25maWc7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvLyBvcHRpb25hbCBtZXRob2RcclxuICAgICAncmVxdWVzdEVycm9yJzogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XHJcbiAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIGVycm9yXHJcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXHJcbiAgICAgICdyZXNwb25zZSc6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIHN1Y2Nlc3NcclxuICAgICAgICBsb2FkU2NyZWVuLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXHJcbiAgICAgJ3Jlc3BvbnNlRXJyb3InOiBmdW5jdGlvbihyZWplY3Rpb24pIHtcclxuICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gZXJyb3JcclxuICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAxKXtcclxuICAgICAgICAgICRpbmplY3Rvci5nZXQoJyRzdGF0ZScpLmdvKCdsb2dpbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBsb2FkU2NyZWVuLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGdvb2dsZU1hcEFQSSk7XHJcblxyXG4gIGZ1bmN0aW9uIGdvb2dsZU1hcEFQSSh1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlcil7XHJcbiAgICB1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlci5jb25maWd1cmUoe1xyXG4gICAgICAgIGxpYnJhcmllczogJ3dlYXRoZXIsZ2VvbWV0cnksdmlzdWFsaXphdGlvbidcclxuICAgIH0pOyAgICBcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGRhdGVQaWNrZXJDb25maWcpO1xyXG5cclxuICBmdW5jdGlvbiBkYXRlUGlja2VyQ29uZmlnKCRtZERhdGVMb2NhbGVQcm92aWRlcikge1xyXG5cclxuICAgICRtZERhdGVMb2NhbGVQcm92aWRlci5tb250aHMgPSBbJ2VuZXJvJywgJ2ZlYnJlcm8nLCAnbWFyem8nLCAnYWJyaWwnLCAnbWF5bycsICdqdW5pbycsICdqdWxpbycsICdhZ29zdG8nLCAnc2VwdGllbWJyZScsICdvY3R1YnJlJywgJ25vdmllbWJyZScsICdkaWNpZW1icmUnXTtcclxuICAgICRtZERhdGVMb2NhbGVQcm92aWRlci5zaG9ydE1vbnRocyA9IFsnZW5lJywgJ2ZlYicsICdtYXInLCAnYWJyJywgJ21heScsICdqdW4nLCAnanVsJywgJ2FnbycsICdzZXAnLCAnb2N0JywgJ25vdicsICdkaWMnXTtcclxuICAgICRtZERhdGVMb2NhbGVQcm92aWRlci5kYXlzID0gWydsdW5lcycsICdtYXJ0ZXMnLCAnbWnDqXJjb2xlcycsICdqdWV2ZXMnLCAndmllcm5lcycsICdzw6FiYWRvJywgJ2RvbWluZ28nXTtcclxuICAgICRtZERhdGVMb2NhbGVQcm92aWRlci5zaG9ydERheXMgPSBbJ2x1bicsICdtYXInLCAnbWnDqScsICdqdWUnLCAndmllJywgJ3PDoWInLCAnZG9tJ107XHJcblxyXG4gICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLmZpcnN0RGF5T2ZXZWVrID0gMTtcclxuICAgIFxyXG4gICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLnBhcnNlRGF0ZSA9IGZ1bmN0aW9uKGRhdGVTdHJpbmcpIHtcclxuICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGVTdHJpbmcpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLmZvcm1hdERhdGUgPSBmdW5jdGlvbihkYXRlKSB7XHJcbiAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoKTtcclxuICAgIH07XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGNvbmZpZyk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XHJcblxyXG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZShcIi9cIik7XHJcblxyXG4gICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgLnN0YXRlKFwiaG9tZVwiLCB7XHJcbiAgICAgICAgdXJsOiBcIi9cIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2ludGVyZmF6L2hvbWUuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgaW50ZXJmYXpQcmVwU2VydmljZTogaW50ZXJmYXpQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGludGVyZmF6UHJlcFNlcnZpY2UoaW50ZXJmYXpTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gaW50ZXJmYXpTZXJ2aWNlLmludGVyZmF6UmVzdCgpO1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcodGhlbWVBbmd1bGFyTWF0ZXJpYWwpO1xyXG5cclxuICBmdW5jdGlvbiB0aGVtZUFuZ3VsYXJNYXRlcmlhbCgkbWRUaGVtaW5nUHJvdmlkZXIpe1xyXG4gICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcclxuICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgIC5zdGF0ZSgnYXNwaXJhbnRlcycsIHtcclxuICAgICAgICB1cmw6IFwiL2FzcGlyYW50ZXNcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2FzcGlyYW50ZXMvbGlzdC9hc3BpcmFudGVzLmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnQXNwaXJhbnRlcycsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgYXNwaXJhbnRlc1ByZXBTZXJ2aWNlOiBhc3BpcmFudGVzUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5zdGF0ZSgnYXNwaXJhbnRlc0RldGFsbGUnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9hc3BpcmFudGVzLzphc3BpcmFudGVJZFwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXNwaXJhbnRlcy9kZXRhaWwvYXNwaXJhbnRlRGV0YWxsZS5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0FzcGlyYW50ZURldGFsbGUnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIGdldEFzcGlyYW50ZVByZXBTZXJ2aWNlOiBnZXRBc3BpcmFudGVQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSkuXHJcbiAgICAgIHN0YXRlKCdhc3BpcmFudGVzQ2FtYmlvcycsIHtcclxuICAgICAgICB1cmw6IFwiL2FzcGlyYW50ZXMvY2FtYmlvcy86YXNwaXJhbnRlSWRcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2FzcGlyYW50ZXMvYWRkTW9kaWZ5L2FzcGlyYW50ZUFkZE1vZGlmeS5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0FzcGlyYW50ZUFkZE1vZGlmeScsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZ2V0QXNwaXJhbnRlUHJlcFNlcnZpY2U6IGdldEFzcGlyYW50ZVByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGFzcGlyYW50ZXNQcmVwU2VydmljZShhc3BpcmFudGVzU2VydmljZSkge1xyXG4gICAgcmV0dXJuIGFzcGlyYW50ZXNTZXJ2aWNlLmFzcGlyYW50ZXNSZXN0KCkucXVlcnkoKTtcclxuICB9XHJcblxyXG4gIFxyXG4gIGZ1bmN0aW9uIGdldEFzcGlyYW50ZVByZXBTZXJ2aWNlKGFzcGlyYW50ZXNTZXJ2aWNlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgIHJldHVybiAoJHN0YXRlUGFyYW1zLmFzcGlyYW50ZUlkKSA/IGFzcGlyYW50ZXNTZXJ2aWNlLmFzcGlyYW50ZXNSZXN0KCkuZ2V0KHtpZDogJHN0YXRlUGFyYW1zLmFzcGlyYW50ZUlkfSkgOiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoY29uZmlnKTtcclxuXHJcbiAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAuc3RhdGUoJ2F1dG9yaWRhZGVzJywge1xyXG4gICAgICAgIHVybDogXCIvYXV0b3JpZGFkZXNcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2F1dG9yaWRhZGVzL2xpc3QvYXV0b3JpZGFkZXMuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdBdXRvcmlkYWRlcycsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgYXV0b3JpZGFkZXNQcmVwU2VydmljZTogYXV0b3JpZGFkZXNQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLnN0YXRlKCdhdXRvcmlkYWRlc0RldGFsbGUnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9hdXRvcmlkYWRlcy86YXV0b3JpZGFkSWRcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2F1dG9yaWRhZGVzL2RldGFpbC9hdXRvcmlkYWREZXRhbGxlLmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnQXV0b3JpZGFkRGV0YWxsZScsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZ2V0QXV0b3JpZGFkUHJlcFNlcnZpY2U6IGdldEF1dG9yaWRhZFByZXBTZXJ2aWNlLFxyXG4gICAgICAgICAgICBnZXRNYXBzUHJlcFNlcnZpY2U6IGdldE1hcHNQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSkuXHJcbiAgICAgIHN0YXRlKCdhdXRvcmlkYWRlc0NhbWJpb3MnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9hdXRvcmlkYWRlcy9jYW1iaW9zLzphdXRvcmlkYWRJZFwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXV0b3JpZGFkZXMvYWRkTW9kaWZ5L2F1dG9yaWRhZEFkZE1vZGlmeS5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0F1dG9yaWRhZEFkZE1vZGlmeScsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZ2V0QXV0b3JpZGFkUHJlcFNlcnZpY2U6IGdldEF1dG9yaWRhZFByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGF1dG9yaWRhZGVzUHJlcFNlcnZpY2UoYXV0b3JpZGFkZXNTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gYXV0b3JpZGFkZXNTZXJ2aWNlLmF1dG9yaWRhZGVzUmVzdCgpLnF1ZXJ5KCk7XHJcbiAgfVxyXG5cclxuICBcclxuICBmdW5jdGlvbiBnZXRBdXRvcmlkYWRQcmVwU2VydmljZShhdXRvcmlkYWRlc1NlcnZpY2UsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgcmV0dXJuICgkc3RhdGVQYXJhbXMuYXV0b3JpZGFkSWQpID8gYXV0b3JpZGFkZXNTZXJ2aWNlLmF1dG9yaWRhZGVzUmVzdCgpLmdldCh7aWQ6ICRzdGF0ZVBhcmFtcy5hdXRvcmlkYWRJZH0pIDogZmFsc2U7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRNYXBzUHJlcFNlcnZpY2UodWlHbWFwR29vZ2xlTWFwQXBpLCBnZXRBdXRvcmlkYWRQcmVwU2VydmljZSwgbWFwYXNTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gZ2V0QXV0b3JpZGFkUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgXHJcbiAgICAgIHZhciBhZGRyZXNzID0gZGF0YS5kaXJlY2Npb24uY2FsbGUgICAgICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRpcmVjY2lvbi5udW1lcm8gICAgKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGlyZWNjaW9uLm11bmljaXBpbyArICcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5kaXJlY2Npb24ucHJvdmluY2lhICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRpcmVjY2lvbi5jcDtcclxuXHJcbiAgICAgIHJldHVybiBtYXBhc1NlcnZpY2UuZ2VvQ29kaW5nQVBJKGFkZHJlc3MpLlxyXG4gICAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucmVzdWx0cy5sZW5ndGgpe1xyXG4gICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSByZXNwb25zZS5kYXRhLnJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb247XHJcbiAgICAgICAgICAgIHJldHVybiB1aUdtYXBHb29nbGVNYXBBcGkudGhlbihmdW5jdGlvbihtYXBzKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuICB7Y29vcmQ6ICB7IGxhdGl0dWRlOiBjb29yZGluYXRlcy5sYXQsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogY29vcmRpbmF0ZXMubG5nIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyOiB7IGxhdGl0dWRlOiBjb29yZGluYXRlcy5sYXQsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogY29vcmRpbmF0ZXMubG5nIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxNyB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcclxuICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgIC5zdGF0ZSgnY29mcmFkZXMnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9jb2ZyYWRlc1wiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnY29mcmFkZXMvbGlzdC9jb2ZyYWRlcy5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0NvZnJhZGVzJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBjb2ZyYWRlc1ByZXBTZXJ2aWNlOiBjb2ZyYWRlc1ByZXBTZXJ2aWNlLFxyXG4gICAgICAgICAgICBjb2ZyYWRlc0JhamFzUHJlcFNlcnZpY2U6IGNvZnJhZGVzQmFqYXNQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLnN0YXRlKCdjb2ZyYWRlc0RldGFsbGUnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9jb2ZyYWRlcy86Y29mcmFkZUlkXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdjb2ZyYWRlcy9kZXRhaWwvY29mcmFkZURldGFsbGUuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb2ZyYWRlRGV0YWxsZScsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZ2V0Q29mcmFkZVByZXBTZXJ2aWNlOiBnZXRDb2ZyYWRlUHJlcFNlcnZpY2UsXHJcbiAgICAgICAgICAgIGdldE1hcHNQcmVwU2VydmljZTogZ2V0TWFwc1ByZXBTZXJ2aWNlLFxyXG4gICAgICAgICAgICBudW1lcm9zTG90ZXJpYVByZXBTZXJ2aWNlOiBudW1lcm9zTG90ZXJpYVByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KS5cclxuICAgICAgc3RhdGUoJ2NvZnJhZGVzQ2FtYmlvcycsIHtcclxuICAgICAgICB1cmw6IFwiL2NvZnJhZGVzL2NhbWJpb3MvOmNvZnJhZGVJZFwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnY29mcmFkZXMvYWRkTW9kaWZ5L2NvZnJhZGVBZGRNb2RpZnkuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb2ZyYWRlQWRkTW9kaWZ5JyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBnZXRDb2ZyYWRlUHJlcFNlcnZpY2U6IGdldENvZnJhZGVQcmVwU2VydmljZSxcclxuICAgICAgICAgICAgbnVtZXJvc0xvdGVyaWFQcmVwU2VydmljZTogbnVtZXJvc0xvdGVyaWFQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjb2ZyYWRlc1ByZXBTZXJ2aWNlKGNvZnJhZGVzU2VydmljZSkge1xyXG4gICAgcmV0dXJuIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5xdWVyeSgpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY29mcmFkZXNCYWphc1ByZXBTZXJ2aWNlKGNvZnJhZGVzU2VydmljZSkge1xyXG4gICAgcmV0dXJuIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc0JhamFzUmVzdCgpLnF1ZXJ5KCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRDb2ZyYWRlUHJlcFNlcnZpY2UoY29mcmFkZXNTZXJ2aWNlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgIHJldHVybiAoJHN0YXRlUGFyYW1zLmNvZnJhZGVJZCkgPyBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkuZ2V0KHtpZDogJHN0YXRlUGFyYW1zLmNvZnJhZGVJZH0pIDogZmFsc2U7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBudW1lcm9zTG90ZXJpYVByZXBTZXJ2aWNlKG51bWVyb3NMb3RlcmlhU2VydmljZSkge1xyXG4gICAgcmV0dXJuIG51bWVyb3NMb3RlcmlhU2VydmljZS5udW1lcm9zTG90ZXJpYVJlc3QoKS5xdWVyeSgpO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBnZXRNYXBzUHJlcFNlcnZpY2UodWlHbWFwR29vZ2xlTWFwQXBpLCBnZXRDb2ZyYWRlUHJlcFNlcnZpY2UsIG1hcGFzU2VydmljZSkge1xyXG4gICAgcmV0dXJuIGdldENvZnJhZGVQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBcclxuICAgICAgdmFyIGFkZHJlc3MgPSBkYXRhLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY2FsbGUgICAgICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ubnVtZXJvICAgICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ubXVuaWNpcGlvICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ucHJvdmluY2lhICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY3A7XHJcblxyXG4gICAgICByZXR1cm4gbWFwYXNTZXJ2aWNlLmdlb0NvZGluZ0FQSShhZGRyZXNzKS5cclxuICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJlc3VsdHMubGVuZ3RoKXtcclxuICAgICAgICAgICAgdmFyIGNvb3JkaW5hdGVzID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uO1xyXG4gICAgICAgICAgICByZXR1cm4gdWlHbWFwR29vZ2xlTWFwQXBpLnRoZW4oZnVuY3Rpb24obWFwcykge1xyXG4gICAgICAgICAgICAgIHJldHVybiAge2Nvb3JkOiAgeyBsYXRpdHVkZTogY29vcmRpbmF0ZXMubGF0LCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGU6IGNvb3JkaW5hdGVzLmxuZyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcjogeyBsYXRpdHVkZTogY29vcmRpbmF0ZXMubGF0LCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGU6IGNvb3JkaW5hdGVzLmxuZyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgem9vbTogMTcgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGNvbmZpZyk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xyXG4gICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgLnN0YXRlKCdjb3N0YWxlcm9zJywge1xyXG4gICAgICAgIHVybDogXCIvY29zdGFsZXJvc1wiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnY29zdGFsZXJvcy9saXN0L2Nvc3RhbGVyb3MuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb3N0YWxlcm9zJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBjb3N0YWxlcm9zUHJlcFNlcnZpY2U6IGNvc3RhbGVyb3NQcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLnN0YXRlKCdjb3N0YWxlcm9zRGV0YWxsZScsIHtcclxuICAgICAgICB1cmw6IFwiL2Nvc3RhbGVyb3MvOmNvc3RhbGVyb0lkXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdjb3N0YWxlcm9zL2RldGFpbC9jb3N0YWxlcm9EZXRhbGxlLmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnQ29zdGFsZXJvRGV0YWxsZScsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZ2V0Q29zdGFsZXJvUHJlcFNlcnZpY2U6IGdldENvc3RhbGVyb1ByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KS5cclxuICAgICAgc3RhdGUoJ2Nvc3RhbGVyb3NDYW1iaW9zJywge1xyXG4gICAgICAgIHVybDogXCIvY29zdGFsZXJvcy9jYW1iaW9zLzpjb3N0YWxlcm9JZFwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnY29zdGFsZXJvcy9hZGRNb2RpZnkvY29zdGFsZXJvQWRkTW9kaWZ5Lmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnQ29zdGFsZXJvQWRkTW9kaWZ5JyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBnZXRDb3N0YWxlcm9QcmVwU2VydmljZTogZ2V0Q29zdGFsZXJvUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY29zdGFsZXJvc1ByZXBTZXJ2aWNlKGNvc3RhbGVyb3NTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gY29zdGFsZXJvc1NlcnZpY2UuY29zdGFsZXJvc1Jlc3QoKS5xdWVyeSgpO1xyXG4gIH1cclxuXHJcbiAgXHJcbiAgZnVuY3Rpb24gZ2V0Q29zdGFsZXJvUHJlcFNlcnZpY2UoY29zdGFsZXJvc1NlcnZpY2UsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgcmV0dXJuICgkc3RhdGVQYXJhbXMuY29zdGFsZXJvSWQpID8gY29zdGFsZXJvc1NlcnZpY2UuY29zdGFsZXJvc1Jlc3QoKS5nZXQoe2lkOiAkc3RhdGVQYXJhbXMuY29zdGFsZXJvSWR9KSA6IGZhbHNlO1xyXG4gIH1cclxuICBcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcclxuICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgIC5zdGF0ZSgnZGlyZWN0aXZvcycsIHtcclxuICAgICAgICB1cmw6IFwiL2RpcmVjdGl2b3NcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2RpcmVjdGl2b3MvbGlzdC9kaXJlY3Rpdm9zLmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnRGlyZWN0aXZvcycsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZGlyZWN0aXZvc1ByZXBTZXJ2aWNlOiBkaXJlY3Rpdm9zUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5zdGF0ZSgnZGlyZWN0aXZvc0RldGFsbGUnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9kaXJlY3Rpdm9zLzpkaXJlY3Rpdm9JZFwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnZGlyZWN0aXZvcy9kZXRhaWwvZGlyZWN0aXZvRGV0YWxsZS5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0RpcmVjdGl2b0RldGFsbGUnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIGdldERpcmVjdGl2b1ByZXBTZXJ2aWNlOiBnZXREaXJlY3Rpdm9QcmVwU2VydmljZVxyXG4gICAgICAgIH1cclxuICAgICAgfSkuXHJcbiAgICAgIHN0YXRlKCdkaXJlY3Rpdm9zQ2FtYmlvcycsIHtcclxuICAgICAgICB1cmw6IFwiL2RpcmVjdGl2b3MvY2FtYmlvcy86ZGlyZWN0aXZvSWRcIixcclxuICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7ICBcclxuICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2RpcmVjdGl2b3MvYWRkTW9kaWZ5L2RpcmVjdGl2b0FkZE1vZGlmeS5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0RpcmVjdGl2b0FkZE1vZGlmeScsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZ2V0RGlyZWN0aXZvUHJlcFNlcnZpY2U6IGdldERpcmVjdGl2b1ByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGRpcmVjdGl2b3NQcmVwU2VydmljZShkaXJlY3Rpdm9zU2VydmljZSkge1xyXG4gICAgcmV0dXJuIGRpcmVjdGl2b3NTZXJ2aWNlLmRpcmVjdGl2b3NSZXN0KCkucXVlcnkoKTtcclxuICB9XHJcblxyXG4gIFxyXG4gIGZ1bmN0aW9uIGdldERpcmVjdGl2b1ByZXBTZXJ2aWNlKGRpcmVjdGl2b3NTZXJ2aWNlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgIHJldHVybiAoJHN0YXRlUGFyYW1zLmRpcmVjdGl2b0lkKSA/IGRpcmVjdGl2b3NTZXJ2aWNlLmRpcmVjdGl2b3NSZXN0KCkuZ2V0KHtpZDogJHN0YXRlUGFyYW1zLmRpcmVjdGl2b0lkfSkgOiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoY29uZmlnKTtcclxuXHJcbiAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAuc3RhdGUoJ2dhc3Rvc0JhbmNhcmlvcycsIHtcclxuICAgICAgICB1cmw6IFwiL2dhc3Rvc0JhbmNhcmlvc1wiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnZ2FzdG9zQmFuY2FyaW9zL21vZGlmeS9nYXN0b0JhbmNhcmlvTW9kaWZ5Lmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnR2FzdG9zQmFuY2FyaW9zJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBnYXN0b3NCYW5jYXJpb3NQcmVwU2VydmljZTogZ2FzdG9zQmFuY2FyaW9zUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2FzdG9zQmFuY2FyaW9zUHJlcFNlcnZpY2UoZ2FzdG9zQmFuY2FyaW9zU2VydmljZSkge1xyXG4gICAgcmV0dXJuIGdhc3Rvc0JhbmNhcmlvc1NlcnZpY2UuZ2FzdG9zQmFuY2FyaW9zUmVzdCgpLnF1ZXJ5KCk7XHJcbiAgfVxyXG4gIFxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdBcHBDdHJsJywgQXBwQ3RybCk7XHJcblxyXG5cclxuICBmdW5jdGlvbiBBcHBDdHJsKCRtZFNpZGVuYXYsICRzdGF0ZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIHZtLnRvZ2dsZVNpZGVuYXYgPSB0b2dnbGVTaWRlbmF2O1xyXG4gICAgdm0uY2xvc2VTaWRlbmF2ID0gY2xvc2VTaWRlbmF2O1xyXG4gICAgdm0ubmF2aWdhdGVUbyAgICA9IG5hdmlnYXRlVG87XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHRvZ2dsZVNpZGVuYXYobWVudUlkKSB7XHJcbiAgICAgICRtZFNpZGVuYXYobWVudUlkKS50b2dnbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbG9zZVNpZGVuYXYobWVudUlkKSB7XHJcbiAgICAgICRtZFNpZGVuYXYobWVudUlkKS5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG5hdmlnYXRlVG8odG8sIG1lbnVJZCl7XHJcbiAgICAgIGNsb3NlU2lkZW5hdihtZW51SWQpO1xyXG4gICAgICAkc3RhdGUuZ28odG8pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gIC8qIGdsb2JhbHMgbG9naW5Gb3JtOiBmYWxzZSAqL1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdMb2dpbicsIExvZ2luKTtcclxuXHJcbiAgZnVuY3Rpb24gTG9naW4oJHNjb3BlLCAkaHR0cCwgJGh0dHBQYXJhbVNlcmlhbGl6ZXIsICRjb21waWxlLCAkc3RhdGUpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLnByb2Nlc3NGb3JtID0gcHJvY2Vzc0Zvcm07XHJcblxyXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0Zvcm0oKSB7XHJcbiAgICAgICRodHRwKHtcclxuICAgICAgICBtZXRob2QgIDogJ1BPU1QnLFxyXG4gICAgICAgIHVybCAgICAgOiAnL2xvZ2luLycsXHJcbiAgICAgICAgZGF0YSAgICA6ICRodHRwUGFyYW1TZXJpYWxpemVyKHtjc3JmbWlkZGxld2FyZXRva2VuOiBsb2dpbkZvcm0uY3NyZm1pZGRsZXdhcmV0b2tlbi52YWx1ZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogbG9naW5Gb3JtLnVzZXJuYW1lLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IGxvZ2luRm9ybS5wYXNzd29yZC52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ6IGxvZ2luRm9ybS5uZXh0LnZhbHVlfSksXHJcbiAgICAgICAgaGVhZGVycyA6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnIH0gXHJcbiAgICAgIH0pXHJcbiAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICBpZiAoZGF0YSA9PT0gJ0xvZ2luJykge1xyXG4gICAgICAgICAgJHN0YXRlLmdvKCdob21lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBlbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21kLWNvbnRlbnRbdWktdmlld10nKSk7XHJcbiAgICAgICAgZWxlbWVudFswXS5pbm5lckhUTUwgPSBkYXRhO1xyXG4gICAgICAgICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkoJHNjb3BlKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcclxuICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgIC5zdGF0ZSgnbG9naW4nLCB7XHJcbiAgICAgICAgdXJsOiBcIi9sb2dpblwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCRodHRwLCAkbG9jYXRpb24peyAgXHJcbiAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCdodHRwOi8vMTI3LjAuMC4xOicrJGxvY2F0aW9uLnBvcnQoKSsnL2xvZ2luJykudGhlbihmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlLmRhdGE7fSk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0xvZ2luJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIH0pO1xyXG4gIH1cclxuICBcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcclxuICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgIC5zdGF0ZSgnbnVtZXJvc0xvdGVyaWEnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9udW1lcm9zTG90ZXJpYVwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnbnVtZXJvc0xvdGVyaWEvbW9kaWZ5L251bWVyb3NMb3RlcmlhTW9kaWZ5Lmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnTnVtZXJvc0xvdGVyaWEnLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgIG51bWVyb3NMb3RlcmlhUHJlcFNlcnZpY2U6IG51bWVyb3NMb3RlcmlhUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gbnVtZXJvc0xvdGVyaWFQcmVwU2VydmljZShudW1lcm9zTG90ZXJpYVNlcnZpY2UpIHtcclxuICAgIHJldHVybiBudW1lcm9zTG90ZXJpYVNlcnZpY2UubnVtZXJvc0xvdGVyaWFSZXN0KCkucXVlcnkoKTtcclxuICB9XHJcbiAgXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb25maWcoY29uZmlnKTtcclxuXHJcbiAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAuc3RhdGUoJ3BhcGVsZXRhc1NpdGlvcycsIHtcclxuICAgICAgICB1cmw6IFwiL3BhcGVsZXRhc1NpdGlvc1wiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgncGFwZWxldGFzU2l0aW9zL2xpc3QvcGFwZWxldGFzU2l0aW9zLmh0bWwnKTsgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiAnUGFwZWxldGFzU2l0aW9zJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBwYXBlbGV0YXNTaXRpb3NQcmVwU2VydmljZTogcGFwZWxldGFzU2l0aW9zUHJlcFNlcnZpY2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pLlxyXG4gICAgICBzdGF0ZSgncGFwZWxldGFzU2l0aW9zQ2FtYmlvcycsIHtcclxuICAgICAgICB1cmw6IFwiL3BhcGVsZXRhc1NpdGlvcy9jYW1iaW9zXCIsXHJcbiAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyAgXHJcbiAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdwYXBlbGV0YXNTaXRpb3MvYWRkTW9kaWZ5L3BhcGVsZXRhU2l0aW9BZGRNb2RpZnkuaHRtbCcpOyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdQYXBlbGV0YVNpdGlvQWRkTW9kaWZ5JyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcGFwZWxldGFzU2l0aW9zUHJlcFNlcnZpY2UocGFwZWxldGFzU2l0aW9zU2VydmljZSkge1xyXG4gICAgcmV0dXJuIHBhcGVsZXRhc1NpdGlvc1NlcnZpY2UucGFwZWxldGFzU2l0aW9zUmVzdCgpLnF1ZXJ5KHthbmlvczogdHJ1ZX0pO1xyXG4gIH1cclxuICBcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcclxuICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgIC5zdGF0ZSgnc2VjdG9yZXMnLCB7XHJcbiAgICAgICAgdXJsOiBcIi9zZWN0b3Jlc1wiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnc2VjdG9yZXMvbGlzdC9zZWN0b3Jlcy5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ1NlY3RvcmVzJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICBzZWN0b3Jlc1ByZXBTZXJ2aWNlOiBzZWN0b3Jlc1ByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KS5cclxuICAgICAgc3RhdGUoJ3NlY3RvcmVzQ2FtYmlvcycsIHtcclxuICAgICAgICB1cmw6IFwiL3NlY3RvcmVzL2NhbWJpb3MvOnNlY3RvcklkLzpjYWxsZVwiLFxyXG4gICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXsgIFxyXG4gICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnc2VjdG9yZXMvYWRkTW9kaWZ5L3NlY3RvckFkZE1vZGlmeS5odG1sJyk7IFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ1NlY3RvckFkZE1vZGlmeScsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgZ2V0U2VjdG9yUHJlcFNlcnZpY2U6IGdldFNlY3RvclByZXBTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNlY3RvcmVzUHJlcFNlcnZpY2Uoc2VjdG9yZXNTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gc2VjdG9yZXNTZXJ2aWNlLnNlY3RvcmVzUmVzdCgpLnF1ZXJ5KCk7XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGdldFNlY3RvclByZXBTZXJ2aWNlKHNlY3RvcmVzU2VydmljZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICByZXR1cm4gKCRzdGF0ZVBhcmFtcy5zZWN0b3JJZCkgPyBzZWN0b3Jlc1NlcnZpY2Uuc2VjdG9yZXNSZXN0KCkuZ2V0KHtpZDogJHN0YXRlUGFyYW1zLnNlY3RvcklkfSkgOiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0FzcGlyYW50ZUFkZE1vZGlmeScsIEFzcGlyYW50ZUFkZE1vZGlmeSk7XHJcblxyXG4gIGZ1bmN0aW9uIEFzcGlyYW50ZUFkZE1vZGlmeSgkc2NvcGUsICRkb2N1bWVudCwgJG1kVG9hc3QsICRzdGF0ZSwgZ2V0QXNwaXJhbnRlUHJlcFNlcnZpY2UsIGFzcGlyYW50ZXNTZXJ2aWNlLCBjb2ZyYWRlc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLm5ld0NvZnJhZGUgPSBmYWxzZTtcclxuXHJcbiAgICB2bS5iYWNrU3RhdGUgICAgICAgICAgPSBiYWNrU3RhdGU7XHJcbiAgICB2bS5xdWVyeVNlYXJjaCAgICAgICAgPSBxdWVyeVNlYXJjaDtcclxuICAgIHZtLnNlbGVjdGVkSXRlbUNoYW5nZSA9IHNlbGVjdGVkSXRlbUNoYW5nZTtcclxuICAgIHZtLmd1YXJkYXIgICAgICAgICAgICA9IGd1YXJkYXI7XHJcblxyXG4gICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgaWYgKGdldEFzcGlyYW50ZVByZXBTZXJ2aWNlKXtcclxuICAgICAgICBnZXRBc3BpcmFudGVQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGluaXRBc3BpcmFudGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgbmV3QXNwaXJhbnRlKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdEFzcGlyYW50ZShkYXRhKSB7XHJcbiAgICAgIHZtLmFzcGlyYW50ZSA9IGRhdGE7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG5ld0FzcGlyYW50ZSgpIHtcclxuICAgICAgdm0ubmV3Q29mcmFkZSA9IHRydWU7XHJcbiAgICAgIHZtLmFzcGlyYW50ZSA9IHtjb2ZyYWRlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZmVjaGE6IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGJhY2tTdGF0ZSgpIHtcclxuICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHF1ZXJ5U2VhcmNoKHF1ZXJ5KSB7XHJcbiAgICAgIHZhciBmaWx0cm8gPSB7fTtcclxuICAgICAgaWYgKGlzTmFOKHF1ZXJ5KSlcclxuICAgICAgICBmaWx0cm8ubm9tYnJlID0gcXVlcnk7XHJcbiAgICAgIGVsc2UgaWYoIWlzTmFOKHF1ZXJ5KSlcclxuICAgICAgICBmaWx0cm8ubnVtZXJvT3JkZW4gPSBxdWVyeTtcclxuXHJcbiAgICAgIHJldHVybiBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkucXVlcnkoZmlsdHJvKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZS5yZXN1bHRzO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWxlY3RlZEl0ZW1DaGFuZ2UoaXRlbSkge1xyXG4gICAgICB2bS5hc3BpcmFudGUuY29mcmFkZSA9ICBpdGVtID8gaXRlbS5pZCA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhcihpc1ZhbGlkKSB7XHJcbiAgICAgIGlmKGlzVmFsaWQpe1xyXG4gICAgICAgIGlmICghdm0uYXNwaXJhbnRlLmNvZnJhZGUpe1xyXG4gICAgICAgICAgJHNjb3BlLmFzcGlyYW50ZUZvcm0uY29mcmFkZS4kZXJyb3IucmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgc2hvd0FjdGlvblRvYXN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICB2bS5hc3BpcmFudGUuY29mcmFkZSA9IHZtLmFzcGlyYW50ZS5jb2ZyYWRlLmlkID8gdm0uYXNwaXJhbnRlLmNvZnJhZGUuaWQgOiB2bS5hc3BpcmFudGUuY29mcmFkZTtcclxuICAgICAgICAgIGFzcGlyYW50ZXNTZXJ2aWNlLmFzcGlyYW50ZXNSZXN0KCkuc2F2ZSh2bS5hc3BpcmFudGUsIGd1YXJkYXJTdWNjZXNzLCBndWFyZGFyRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlXHJcbiAgICAgICAgc2hvd0FjdGlvblRvYXN0KCk7XHJcbiAgICB9XHJcbiAgICAgIFxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhclN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0d1YXJkYWRvIGNvbiDDqXhpdG8hIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICk7XHJcbiAgICAgICRzdGF0ZS5nbygnYXNwaXJhbnRlcycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJFcnJvcihyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXJyb3IgYWwgZ3VhcmRhciEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzaG93QWN0aW9uVG9hc3QoKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFeGlzdGVuIGVycm9yZXMgZW4gZWwgZm9ybXVsYXJpbycpXHJcbiAgICAgICAgICAuYWN0aW9uKCdPSycpXHJcbiAgICAgICAgICAuaGlnaGxpZ2h0QWN0aW9uKGZhbHNlKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQXNwaXJhbnRlRGV0YWxsZScsIEFzcGlyYW50ZURldGFsbGUpO1xyXG5cclxuICBmdW5jdGlvbiBBc3BpcmFudGVEZXRhbGxlKCRzdGF0ZSwgZ2V0QXNwaXJhbnRlUHJlcFNlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgdm0ubW9kaWZ5QXNwaXJhbnRlID0gbW9kaWZ5QXNwaXJhbnRlO1xyXG4gICAgXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICByZXR1cm4gZ2V0QXNwaXJhbnRlUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5hc3BpcmFudGUgPSBkYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtb2RpZnlBc3BpcmFudGUoaWQsIGV2ZW50KXtcclxuICAgICAgJHN0YXRlLmdvKCdhc3BpcmFudGVzQ2FtYmlvcycsIHthc3BpcmFudGVJZDogaWR9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdBc3BpcmFudGVzJywgQXNwaXJhbnRlcyk7XHJcblxyXG4gIGZ1bmN0aW9uIEFzcGlyYW50ZXMoYXNwaXJhbnRlc1ByZXBTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5hc3BpcmFudGVzID0gbnVsbDtcclxuICAgIGFjdGl2YXRlKCk7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICByZXR1cm4gYXNwaXJhbnRlc1ByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0uYXNwaXJhbnRlcyA9IGRhdGE7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdBdXRvcmlkYWRBZGRNb2RpZnknLCBBdXRvcmlkYWRBZGRNb2RpZnkpO1xyXG5cclxuICBmdW5jdGlvbiBBdXRvcmlkYWRBZGRNb2RpZnkoJHNjb3BlLCAkZG9jdW1lbnQsICRtZFRvYXN0LCAkc3RhdGUsIGdldEF1dG9yaWRhZFByZXBTZXJ2aWNlLCBhdXRvcmlkYWRlc1NlcnZpY2UsIGNvZnJhZGVzU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0ubmV3Q29mcmFkZSA9IGZhbHNlO1xyXG5cclxuICAgIHZtLmJhY2tTdGF0ZSAgICAgICAgICA9IGJhY2tTdGF0ZTtcclxuICAgIHZtLnF1ZXJ5U2VhcmNoICAgICAgICA9IHF1ZXJ5U2VhcmNoO1xyXG4gICAgdm0uc2VsZWN0ZWRJdGVtQ2hhbmdlID0gc2VsZWN0ZWRJdGVtQ2hhbmdlO1xyXG4gICAgdm0uZ3VhcmRhciAgICAgICAgICAgID0gZ3VhcmRhcjtcclxuXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICBpZiAoZ2V0QXV0b3JpZGFkUHJlcFNlcnZpY2Upe1xyXG4gICAgICAgIGdldEF1dG9yaWRhZFByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oaW5pdEF1dG9yaWRhZCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICBuZXdBdXRvcmlkYWQoKTtcclxuICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbml0QXV0b3JpZGFkKGRhdGEpIHtcclxuICAgICAgdm0uYXV0b3JpZGFkID0gZGF0YTtcclxuICAgICAgdm0uY2FsbGVTZWxlY3RlZCA9IHtjYWxsZTogdm0uYXV0b3JpZGFkLmRpcmVjY2lvbi5jYWxsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjcDogdm0uYXV0b3JpZGFkLmRpcmVjY2lvbi5jcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aW5jaWE6IHZtLmF1dG9yaWRhZC5kaXJlY2Npb24ucHJvdmluY2lhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG11bmljaXBpbzogdm0uYXV0b3JpZGFkLmRpcmVjY2lvbi5tdW5pY2lwaW99O1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBuZXdBdXRvcmlkYWQoKSB7XHJcbiAgICAgIHZtLm5ld0NvZnJhZGUgPSB0cnVlO1xyXG4gICAgICB2bS5hdXRvcmlkYWQgPSB7ZGlyZWNjaW9uOiB7fX07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYmFja1N0YXRlKCkge1xyXG4gICAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcXVlcnlTZWFyY2gocXVlcnkpIHtcclxuICAgICAgcmV0dXJuIGNvZnJhZGVzU2VydmljZS5nZXRDYWxsZXMocXVlcnkpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZS5kYXRhO30pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdGVkSXRlbUNoYW5nZShpdGVtKSB7XHJcbiAgICAgIGlmIChpdGVtKXtcclxuICAgICAgICB2bS5hdXRvcmlkYWQuZGlyZWNjaW9uLmNhbGxlID0gaXRlbS5jYWxsZTtcclxuICAgICAgICB2bS5hdXRvcmlkYWQuZGlyZWNjaW9uLm11bmljaXBpbyA9IGl0ZW0ubXVuaWNpcGlvO1xyXG4gICAgICAgIHZtLmF1dG9yaWRhZC5kaXJlY2Npb24uY3AgPSBpdGVtLmNwO1xyXG4gICAgICAgIHZtLmF1dG9yaWRhZC5kaXJlY2Npb24ucHJvdmluY2lhID0gaXRlbS5wcm92aW5jaWE7XHJcbiAgICAgIH1lbHNle1xyXG4gICAgICAgIHZtLmF1dG9yaWRhZC5kaXJlY2Npb24uY2FsbGUgPSBudWxsO1xyXG4gICAgICAgIHZtLmF1dG9yaWRhZC5kaXJlY2Npb24ubXVuaWNpcGlvID0gbnVsbDtcclxuICAgICAgICB2bS5hdXRvcmlkYWQuZGlyZWNjaW9uLmNwID0gbnVsbDtcclxuICAgICAgICB2bS5hdXRvcmlkYWQuZGlyZWNjaW9uLnByb3ZpbmNpYSA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyKGlzVmFsaWQpIHtcclxuICAgICAgaWYoaXNWYWxpZCl7XHJcbiAgICAgICAgdm0uYXV0b3JpZGFkLmRpcmVjY2lvbi5jYWxsZSA9IHZtLmF1dG9yaWRhZC5kaXJlY2Npb24uY2FsbGUgPyB2bS5hdXRvcmlkYWQuZGlyZWNjaW9uLmNhbGxlIDogdm0uc2VhcmNoVGV4dDtcclxuICAgICAgICBhdXRvcmlkYWRlc1NlcnZpY2UuYXV0b3JpZGFkZXNSZXN0KCkuc2F2ZSh2bS5hdXRvcmlkYWQsIGd1YXJkYXJTdWNjZXNzLCBndWFyZGFyRXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2VcclxuICAgICAgICBzaG93QWN0aW9uVG9hc3QoKTtcclxuICAgIH1cclxuICAgICAgXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyU3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnR3VhcmRhZG8gY29uIMOpeGl0byEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgICAgJHN0YXRlLmdvKCdhdXRvcmlkYWRlcycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJFcnJvcihyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXJyb3IgYWwgZ3VhcmRhciEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzaG93QWN0aW9uVG9hc3QoKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFeGlzdGVuIGVycm9yZXMgZW4gZWwgZm9ybXVsYXJpbycpXHJcbiAgICAgICAgICAuYWN0aW9uKCdPSycpXHJcbiAgICAgICAgICAuaGlnaGxpZ2h0QWN0aW9uKGZhbHNlKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQXV0b3JpZGFkRGV0YWxsZScsIEF1dG9yaWRhZERldGFsbGUpO1xyXG5cclxuICBmdW5jdGlvbiBBdXRvcmlkYWREZXRhbGxlKCRzdGF0ZSwgZ2V0QXV0b3JpZGFkUHJlcFNlcnZpY2UsIGdldE1hcHNQcmVwU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5tb2RpZnlBdXRvcmlkYWQgPSBtb2RpZnlBdXRvcmlkYWQ7XHJcbiAgICBcclxuICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIHJldHVybiBnZXRBdXRvcmlkYWRQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLmF1dG9yaWRhZCA9IGRhdGE7XHJcbiAgICAgICAgdm0ubWFwcyA9IGdldE1hcHNQcmVwU2VydmljZTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbW9kaWZ5QXV0b3JpZGFkKGlkLCBldmVudCl7XHJcbiAgICAgICRzdGF0ZS5nbygnYXV0b3JpZGFkZXNDYW1iaW9zJywge2F1dG9yaWRhZElkOiBpZH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0F1dG9yaWRhZGVzJywgQXV0b3JpZGFkZXMpO1xyXG5cclxuICBmdW5jdGlvbiBBdXRvcmlkYWRlcyhhdXRvcmlkYWRlc1ByZXBTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5hdXRvcmlkYWRlcyA9IG51bGw7XHJcbiAgICBhY3RpdmF0ZSgpO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgcmV0dXJuIGF1dG9yaWRhZGVzUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5hdXRvcmlkYWRlcyA9IGRhdGE7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdDb2ZyYWRlQWRkTW9kaWZ5JywgQ29mcmFkZUFkZE1vZGlmeSk7XHJcblxyXG4gIGZ1bmN0aW9uIENvZnJhZGVBZGRNb2RpZnkoJGZpbHRlciwgJGRvY3VtZW50LCAkbWRUb2FzdCwgJHN0YXRlLCBnZXRDb2ZyYWRlUHJlcFNlcnZpY2UsIGNvZnJhZGVzU2VydmljZSwgbnVtZXJvc0xvdGVyaWFQcmVwU2VydmljZSwgc2VjdG9yZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5udWV2YUNhbGxlID0gdHJ1ZTtcclxuICAgIHZtLnNlYXJjaFRleHQgPSAnY2FsbGUnO1xyXG4gICAgdm0uY29mcmFkZSA9IHtkYXRvc0ZpbmFuY2llcm9zOiB7Y3VlbnRhOiB7fSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXVkYTogW119LFxyXG4gICAgICAgICAgICAgICAgICBkYXRvc1BlcnNvbmFsZXM6ICB7ZGlyZWNjaW9uOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNleG86IFwiSG9tYnJlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWNoYUluc2NyaXBjaW9uOiBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVjaGFOYWNpbWllbnRvOiBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpfVxyXG4gICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgdm0uYmFja1N0YXRlICAgICAgICAgID0gYmFja1N0YXRlO1xyXG4gICAgdm0ucXVlcnlTZWFyY2ggICAgICAgID0gcXVlcnlTZWFyY2g7XHJcbiAgICB2bS5zZWxlY3RlZEl0ZW1DaGFuZ2UgPSBzZWxlY3RlZEl0ZW1DaGFuZ2U7XHJcbiAgICB2bS5jYWxjdWxhckNDICAgICAgICAgPSBjYWxjdWxhckNDO1xyXG4gICAgdm0uY2FsY3VsYXJJYmFuICAgICAgID0gY2FsY3VsYXJJYmFuO1xyXG4gICAgdm0uZ3VhcmRhciAgICAgICAgICAgID0gZ3VhcmRhcjtcclxuXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICBudW1lcm9zTG90ZXJpYVByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0ubnVtZXJvc0xvdGVyaWEgPSBkYXRhWzBdO1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGlmIChnZXRDb2ZyYWRlUHJlcFNlcnZpY2Upe1xyXG4gICAgICAgIGdldENvZnJhZGVQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGluaXRDb2ZyYWRlKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNle1xyXG4gICAgICAgIGNvZnJhZGVzU2VydmljZS5nZXRSZWdpc3Ryb3MoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmNvZnJhZGUubnVtZXJvT3JkZW4gPSByZXNwb25zZS5kYXRhLm51bWVyb09yZGVuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uY29mcmFkZS5udW1lcm9Db2ZyYWRlID0gcmVzcG9uc2UuZGF0YS5udW1lcm9Db2ZyYWRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRDb2ZyYWRlKGRhdGEpIHtcclxuICAgICAgdm0uY29mcmFkZSA9IGRhdGE7XHJcbiAgICAgIHZtLmNhbGxlU2VsZWN0ZWQgPSB7Y2FsbGU6IHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jYWxsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjcDogdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLmNwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpbmNpYTogdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLnByb3ZpbmNpYSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBtdW5pY2lwaW86IHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5tdW5pY2lwaW99O1xyXG5cclxuICAgICAgdm0uZmVjaGFOYWNpbWllbnRvID0gdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFOYWNpbWllbnRvO1xyXG4gICAgICB2bS5mZWNoYUluc2NyaXBjaW9uID0gdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZmVjaGFJbnNjcmlwY2lvbjtcclxuICAgICAgdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zID0gdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zIHx8IHtjdWVudGE6IHt9LCBkZXVkYTogW119O1xyXG4gICAgICB2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhID0gdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YSB8fCB7fTtcclxuICAgICAgdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmRldWRhID0gdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmRldWRhIHx8IFtdO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBiYWNrU3RhdGUoKSB7XHJcbiAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBxdWVyeVNlYXJjaChxdWVyeSkge1xyXG4gICAgICByZXR1cm4gY29mcmFkZXNTZXJ2aWNlLmdldENhbGxlcyhxdWVyeSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlLmRhdGE7fSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0ZWRJdGVtQ2hhbmdlKGl0ZW0pIHtcclxuICAgICAgaWYgKGl0ZW0pe1xyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jYWxsZSA9IGl0ZW0uY2FsbGU7XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLm11bmljaXBpbyA9IGl0ZW0ubXVuaWNpcGlvO1xyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5jcCA9IGl0ZW0uY3A7XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLnByb3ZpbmNpYSA9IGl0ZW0ucHJvdmluY2lhO1xyXG4gICAgICAgIHNlYXJjaFNlY3RvcihpdGVtLmNhbGxlKTtcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgdm0uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuZGlyZWNjaW9uLmNhbGxlID0gbnVsbDtcclxuICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24ubXVuaWNpcGlvID0gbnVsbDtcclxuICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY3AgPSBudWxsO1xyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmRpcmVjY2lvbi5wcm92aW5jaWEgPSBudWxsO1xyXG4gICAgICAgIHZtLnNlY3RvciA9IG51bGw7XHJcbiAgICAgICAgdm0ubnVldmFDYWxsZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2VhcmNoU2VjdG9yKGNhbGxlKSB7XHJcbiAgICAgIHNlY3RvcmVzU2VydmljZS5zZWN0b3Jlc1Jlc3QoKS5xdWVyeSh7Y2FsbGU6IGNhbGxlfSwgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0uc2VjdG9yID0gZGF0YVswXS5udW1lcm9TZWN0b3I7XHJcbiAgICAgICAgdm0ubnVldmFDYWxsZSA9IGZhbHNlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjYWxjdWxhckNDKCkge1xyXG4gICAgICBpZiAodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5pYmFuKVxyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuY2MgPSAkZmlsdGVyKCdjYWxjdWxhckNDJykodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zLmN1ZW50YS5pYmFuKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjYWxjdWxhckliYW4oKSB7XHJcbiAgICAgIGlmICh2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhLmNjKVxyXG4gICAgICAgIHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuaWJhbiA9ICRmaWx0ZXIoJ2NhbGN1bGFySWJhbicpKHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuY2MpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXIoaXNWYWxpZCkge1xyXG4gICAgICBpZihpc1ZhbGlkKXtcclxuICAgICAgICB2YXIgZGF0b3NGaW5hbmNpZXJvcyA9IHtjdWVudGE6IHt9LCBkZXVkYTogW119O1xyXG5cclxuICAgICAgICB2bS5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5kaXJlY2Npb24uY2FsbGUgPSB2bS5zZWFyY2hUZXh0O1xyXG5cclxuICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkodm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zKSA9PT0gSlNPTi5zdHJpbmdpZnkoZGF0b3NGaW5hbmNpZXJvcykpXHJcbiAgICAgICAgICBkZWxldGUgdm0uY29mcmFkZS5kYXRvc0ZpbmFuY2llcm9zO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBDb2ZyYWRlUmVzb3VyY2UgPSBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCk7XHJcbiAgICAgICAgaWYodm0ubnVldmFDYWxsZSl7XHJcbiAgICAgICAgICBndWFyZGFyQ2FsbGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgIGd1YXJkYXJDb2ZyYWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2VcclxuICAgICAgICBzaG93QWN0aW9uVG9hc3QoKTtcclxuICAgICAgXHJcbiAgICAgIGZ1bmN0aW9uIGd1YXJkYXJDb2ZyYWRlKCl7XHJcbiAgICAgICAgQ29mcmFkZVJlc291cmNlLnNhdmUodm0uY29mcmFkZSwgZ3VhcmRhclN1Y2Nlc3MsIGd1YXJkYXJFcnJvcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGd1YXJkYXJDYWxsZSgpIHtcclxuICAgICAgICBzZWN0b3Jlc1NlcnZpY2Uuc2VjdG9yZXNSZXN0KCkuZ2V0KHtzZWN0b3I6IHZtLnNlY3Rvcn0sIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgdmFyIHNlY3RvclJlc291cmNlID0gIGRhdGFbMF07XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmKHNlY3RvclJlc291cmNlKXtcclxuICAgICAgICAgICAgc2VjdG9yUmVzb3VyY2UuY29mcmFkZSA9IHNlY3RvclJlc291cmNlLmNvZnJhZGUuaWQ7XHJcbiAgICAgICAgICAgIHNlY3RvclJlc291cmNlLmNhbGxlcy5wdXNoKHZtLnNlYXJjaFRleHQpO1xyXG4gICAgICAgICAgICBzZWN0b3JSZXNvdXJjZS4kc2F2ZShudWxsLCBndWFyZGFyQ29mcmFkZSwgZ3VhcmRhckVycm9yKTsgICAgICAgICAgICBcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgICAgICAgIC5jb250ZW50KCdFbCBzZWN0b3IgJyArdm0uc2VjdG9yKyAnIG5vIGV4aXN0ZSEhJylcclxuICAgICAgICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhclN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0d1YXJkYWRvIGNvbiDDqXhpdG8hIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICk7XHJcbiAgICAgICRzdGF0ZS5nbygnY29mcmFkZXMnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyRXJyb3IocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0Vycm9yIGFsIGd1YXJkYXIhIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2hvd0FjdGlvblRvYXN0KCkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXhpc3RlbiBlcnJvcmVzIGVuIGVsIGZvcm11bGFyaW8nKVxyXG4gICAgICAgICAgLmFjdGlvbignT0snKVxyXG4gICAgICAgICAgLmhpZ2hsaWdodEFjdGlvbihmYWxzZSlcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0NvZnJhZGVEZXRhbGxlJywgQ29mcmFkZURldGFsbGUpO1xyXG5cclxuICBmdW5jdGlvbiBDb2ZyYWRlRGV0YWxsZSgkc3RhdGUsICRmaWx0ZXIsIGdldENvZnJhZGVQcmVwU2VydmljZSwgZ2V0TWFwc1ByZXBTZXJ2aWNlLCBudW1lcm9zTG90ZXJpYVByZXBTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLmNvZnJhZGUgPSBudWxsO1xyXG4gICAgdm0ubWFwcyA9IG51bGw7XHJcbiAgICBcclxuICAgIHZtLm1vZGlmeUNvZnJhZGUgPSBtb2RpZnlDb2ZyYWRlO1xyXG4gICAgXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICBudW1lcm9zTG90ZXJpYVByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0ubnVtZXJvc0xvdGVyaWEgPSBkYXRhWzBdO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBnZXRDb2ZyYWRlUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5jb2ZyYWRlID0gZGF0YTtcclxuICAgICAgICBpZih2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MpXHJcbiAgICAgICAgICBpZih2bS5jb2ZyYWRlLmRhdG9zRmluYW5jaWVyb3MuY3VlbnRhKXtcclxuICAgICAgICAgICAgdm0uaWJhbiA9ICRmaWx0ZXIoJ3BhcnNlSWJhbicpKHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuaWJhbik7XHJcbiAgICAgICAgICAgIHZtLmNjID0gJGZpbHRlcigncGFyc2VDQycpKHZtLmNvZnJhZGUuZGF0b3NGaW5hbmNpZXJvcy5jdWVudGEuY2MpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIHZtLm1hcHMgPSBnZXRNYXBzUHJlcFNlcnZpY2U7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUNvZnJhZGUoaWQsIGV2ZW50KXtcclxuICAgICAgJHN0YXRlLmdvKCdjb2ZyYWRlc0NhbWJpb3MnLCB7Y29mcmFkZUlkOiBpZH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0NvZnJhZGVzJywgQ29mcmFkZXMpO1xyXG5cclxuICBmdW5jdGlvbiBDb2ZyYWRlcyhjb2ZyYWRlc1ByZXBTZXJ2aWNlLCBjb2ZyYWRlc0JhamFzUHJlcFNlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLmNvZnJhZGVzID0gbnVsbDtcclxuICAgIHZtLm5leHRQYWdlID0gbnVsbDtcclxuICAgIHZtLmNvZnJhZGVzQmFqYXMgPSBudWxsO1xyXG4gICAgdm0ubmV4dFBhZ2VCYWphcyA9IG51bGw7XHJcbiAgICB2bS5zZWxlY3RlZFRhYiA9IDA7XHJcbiAgICBhY3RpdmF0ZSgpO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgY29mcmFkZXNQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLm5leHRQYWdlID0gZGF0YS5uZXh0O1xyXG4gICAgICAgIHZtLmNvZnJhZGVzID0gZGF0YS5yZXN1bHRzO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBjb2ZyYWRlc0JhamFzUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5uZXh0UGFnZUJhamFzID0gZGF0YS5uZXh0O1xyXG4gICAgICAgIHZtLmNvZnJhZGVzQmFqYXMgPSBkYXRhLnJlc3VsdHM7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdsb2FkUmVwZWF0JywgbG9hZFJlcGVhdCk7XHJcblxyXG4gIGZ1bmN0aW9uIGxvYWRSZXBlYXQoKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUpIHtcclxuICAgICAgaWYgKHNjb3BlLiRsYXN0KSB7XHJcbiAgICAgICAgc2NvcGUuJGV2YWwoJ3ZtLmNvbXBsZXRlZCA9IHRydWU7Jyk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ3Njcm9sbHknLCBzY3JvbGx5KTtcclxuXHJcbiAgZnVuY3Rpb24gc2Nyb2xseSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uICgkcm9vdFNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgIHZhciByYXcgPSBlbGVtZW50WzBdO1xyXG4gICAgICAgIGVsZW1lbnQuYmluZCgnc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgaWYgKHJhdy5zY3JvbGxUb3AgKyByYXcub2Zmc2V0SGVpZ2h0ID49IHJhdy5zY3JvbGxIZWlnaHQtNSkge1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KFwic2Nyb2xsRG93blwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZpbHRlcigncGFyc2VJYmFuJywgcGFyc2VJYmFuKVxyXG4gICAgLmZpbHRlcigncGFyc2VDQycsIHBhcnNlQ0MpXHJcbiAgICAuZmlsdGVyKCdjYWxjdWxhckliYW4nLCBjYWxjdWxhckliYW4pXHJcbiAgICAuZmlsdGVyKCdjYWxjdWxhckNDJywgY2FsY3VsYXJDQyk7XHJcblxyXG4gIGZ1bmN0aW9uIHBhcnNlSWJhbigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoaWJhbikge1xyXG4gICAgICBpYmFuID0gaWJhbiB8fCAnJztcclxuICAgICAgdmFyIGZvcm1hdHRlZEliYW4gPSAnJztcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWJhbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChpID4gMCAmJiBpICUgNCA9PT0gMCkge1xyXG4gICAgICAgICAgZm9ybWF0dGVkSWJhbiArPSAnICc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvcm1hdHRlZEliYW4gKz0gaWJhbltpXTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZm9ybWF0dGVkSWJhbjtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBwYXJzZUNDKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChjYykge1xyXG4gICAgICBjYyA9IGNjIHx8ICcnO1xyXG4gICAgICB2YXIgZm9ybWF0dGVkQ0MgPSAnJztcclxuXHJcbiAgICAgIGZvcm1hdHRlZENDID0gY2Muc3Vic3RyKDAsIDQpICsgJy0nO1xyXG4gICAgICBmb3JtYXR0ZWRDQyArPSBjYy5zdWJzdHIoNCwgNCkgKyAnLSc7XHJcbiAgICAgIGZvcm1hdHRlZENDICs9IGNjLnN1YnN0cig4LCAyKSArICctJztcclxuICAgICAgZm9ybWF0dGVkQ0MgKz0gY2Muc3Vic3RyKDEwLCAxMCk7XHJcblxyXG4gICAgICByZXR1cm4gZm9ybWF0dGVkQ0M7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2FsY3VsYXJDQygpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoaWJhbikge1xyXG4gICAgICBpYmFuID0gaWJhbiB8fCAnJztcclxuICAgICAgcmV0dXJuIGliYW4uc3Vic3RyKDQsIDIwKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjYWxjdWxhckliYW4oKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNjYykge1xyXG4gICAgICB2YXIgcGFpcyA9IFwiRVNcIjtcclxuICAgICAgdmFyIGNpZnJhcyA9IGNjYyArIHZhbG9yQ2lmcmFzKHBhaXMpICsgXCIwMFwiO1xyXG4gICAgICB2YXIgcmVzdG8gPSBtb2R1bG8oY2lmcmFzLCA5Nyk7XHJcbiAgICAgIHJldHVybiBwYWlzICsgY2Vyb3NJenF1aWVyZGEoOTgtcmVzdG8sIDIpICsgY2NjO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiB2YWxvckNpZnJhcyhjaWZyYXMpIHtcclxuICAgICAgdmFyIExFVFJBUyA9IFwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCI7XHJcbiAgICAgIHZhciBpdGVtcyA9IFtdO1xyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8Y2lmcmFzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHBvc2ljaW9uID0gTEVUUkFTLmluZGV4T2YoY2lmcmFzW2ldKTtcclxuICAgICAgICBpdGVtcy5wdXNoKHBvc2ljaW9uIDwgMD8gXCItXCI6IHBvc2ljaW9uKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gaXRlbXMuam9pbihcIlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtb2R1bG8oY2lmcmFzLCBkaXZpc29yKSB7XHJcbiAgICAgIHZhciBDVUVOVEEgPSAxMDtcclxuICAgICAgdmFyIGxhcmdvID0gY2lmcmFzLmxlbmd0aDtcclxuICAgICAgdmFyIHJlc3RvID0gMDtcclxuICAgICAgZm9yICh2YXIgaT0wOyBpPGxhcmdvOyBpKz1DVUVOVEEpIHtcclxuICAgICAgICB2YXIgZGl2aWRlbmRvID0gcmVzdG8gKyBcIlwiICsgY2lmcmFzLnN1YnN0cihpLCBDVUVOVEEpO1xyXG4gICAgICAgIHJlc3RvID0gZGl2aWRlbmRvICUgZGl2aXNvcjtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdG87XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2Vyb3NJenF1aWVyZGEoY2lmcmFzLCBsYXJnbykge1xyXG4gICAgICBjaWZyYXMgKz0gJyc7XHJcbiAgICAgIHdoaWxlKGNpZnJhcy5sZW5ndGggPCBsYXJnbykgeyBjaWZyYXMgPSAnMCcrY2lmcmFzOyB9XHJcbiAgICAgIHJldHVybiBjaWZyYXM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZpbHRlcignc3RyaW5nVG9EYXRlRm9ybWF0Jywgc3RyaW5nVG9EYXRlRm9ybWF0KVxyXG4gICAgLmZpbHRlcignZm9ybWF0RGF0ZXMnLCBmb3JtYXREYXRlcyk7XHJcblxyXG4gIGZ1bmN0aW9uIHN0cmluZ1RvRGF0ZUZvcm1hdCgpe1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZiAoZGF0YS5kYXRvc1BlcnNvbmFsZXMpe1xyXG4gICAgICAgIGRhdGEuZGF0b3NQZXJzb25hbGVzLmZlY2hhTmFjaW1pZW50byAgPSBuZXcgRGF0ZShkYXRhLmRhdG9zUGVyc29uYWxlcy5mZWNoYU5hY2ltaWVudG8pLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gICAgICAgIGRhdGEuZGF0b3NQZXJzb25hbGVzLmZlY2hhSW5zY3JpcGNpb24gPSBuZXcgRGF0ZShkYXRhLmRhdG9zUGVyc29uYWxlcy5mZWNoYUluc2NyaXBjaW9uKS50b0xvY2FsZURhdGVTdHJpbmcoKTtcclxuICAgICAgfVxyXG4gICAgICBpZihkYXRhLmZlY2hhKVxyXG4gICAgICAgIGRhdGEuZmVjaGEgID0gbmV3IERhdGUoZGF0YS5mZWNoYSkudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XHJcblxyXG4gICAgICByZXR1cm4gZGF0YTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBmb3JtYXREYXRlcygpe1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBcclxuICAgICAgdmFyIGRhdGUgPSBudWxsO1xyXG4gICAgICBpZiAoZGF0YS5kYXRvc1BlcnNvbmFsZXMpe1xyXG4gICAgICAgIGRhdGUgPSBkYXRhLmRhdG9zUGVyc29uYWxlcy5mZWNoYU5hY2ltaWVudG8uc3BsaXQoXCIvXCIpO1xyXG4gICAgICAgIGRhdGEuZGF0b3NQZXJzb25hbGVzLmZlY2hhTmFjaW1pZW50byAgPSBkYXRlWzJdICsgJy0nICsgZGF0ZVsxXSArICctJyArIGRhdGVbMF07XHJcbiAgICAgICAgZGF0ZSA9IGRhdGEuZGF0b3NQZXJzb25hbGVzLmZlY2hhSW5zY3JpcGNpb24uc3BsaXQoXCIvXCIpO1xyXG4gICAgICAgIGRhdGEuZGF0b3NQZXJzb25hbGVzLmZlY2hhSW5zY3JpcGNpb24gPSBkYXRlWzJdICsgJy0nICsgZGF0ZVsxXSArICctJyArIGRhdGVbMF07XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoZGF0YS5mZWNoYSl7XHJcbiAgICAgICAgZGF0ZSA9IGRhdGEuZmVjaGEuc3BsaXQoXCIvXCIpO1xyXG4gICAgICAgIGRhdGEuZmVjaGEgID0gZGF0ZVsyXSArICctJyArIGRhdGVbMV0gKyAnLScgKyBkYXRlWzBdO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgZGF0YSA9IG5ldyBEYXRlKGRhdGEpLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZGF0YTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5maWx0ZXIoJ3JlbW92ZU51bGxzJywgcmVtb3ZlTnVsbHMpO1xyXG5cclxuICBmdW5jdGlvbiByZW1vdmVOdWxscygpe1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iail7XHJcbiAgICAgIHZhciBpc0FycmF5ID0gb2JqIGluc3RhbmNlb2YgQXJyYXk7XHJcbiAgICAgIGZvciAodmFyIGsgaW4gb2JqKXtcclxuICAgICAgICBpZiAob2JqW2tdPT09bnVsbCkgaXNBcnJheSA/IG9iai5zcGxpY2UoaywxKSA6IGRlbGV0ZSBvYmpba107XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9ialtrXT09XCJvYmplY3RcIikgcmVtb3ZlTnVsbHMob2JqW2tdKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gb2JqO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ2FzcGlyYW50ZXNTZXJ2aWNlJywgYXNwaXJhbnRlc1NlcnZpY2UpO1xyXG5cclxuICBmdW5jdGlvbiBhc3BpcmFudGVzU2VydmljZSgkcmVzb3VyY2UsICRsb2NhdGlvbiwgJGZpbHRlcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYXNwaXJhbnRlc1Jlc3Q6IGFzcGlyYW50ZXNSZXN0XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGFzcGlyYW50ZXNSZXN0KCkge1xyXG4gICAgICByZXR1cm4gJHJlc291cmNlKCdodHRwOi8vMTI3LjAuMC4xOicrJGxvY2F0aW9uLnBvcnQoKSsnL2FwaS9hc3BpcmFudGVzLzppZC5qc29uOmpzb24nLCBudWxsLCB7XHJcbiAgICAgICAgJ3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6IHRydWV9LFxyXG4gICAgICAgICdnZXQnOiAgICB7bWV0aG9kOidHRVQnLCB0cmFuc2Zvcm1SZXNwb25zZTogZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGZpbHRlcignc3RyaW5nVG9EYXRlRm9ybWF0JykoYW5ndWxhci5mcm9tSnNvbihkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgJ3NhdmUnOiAgIHttZXRob2Q6J1BPU1QnLCB0cmFuc2Zvcm1SZXF1ZXN0OiBmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLnRvSnNvbigkZmlsdGVyKCdmb3JtYXREYXRlcycpKCRmaWx0ZXIoJ3JlbW92ZU51bGxzJykoZGF0YSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdhdXRvcmlkYWRlc1NlcnZpY2UnLCBhdXRvcmlkYWRlc1NlcnZpY2UpO1xyXG5cclxuICBmdW5jdGlvbiBhdXRvcmlkYWRlc1NlcnZpY2UoJHJlc291cmNlLCAkbG9jYXRpb24sICRmaWx0ZXIpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGF1dG9yaWRhZGVzUmVzdDogYXV0b3JpZGFkZXNSZXN0XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGF1dG9yaWRhZGVzUmVzdCgpIHtcclxuICAgICAgcmV0dXJuICRyZXNvdXJjZSgnaHR0cDovLzEyNy4wLjAuMTonKyRsb2NhdGlvbi5wb3J0KCkrJy9hcGkvYXV0b3JpZGFkZXMvOmlkLmpzb246anNvbicsIG51bGwsIHtcclxuICAgICAgICAncXVlcnknOiAge21ldGhvZDonR0VUJywgaXNBcnJheTogdHJ1ZX0sXHJcbiAgICAgICAgJ3NhdmUnOiAgIHttZXRob2Q6J1BPU1QnLCB0cmFuc2Zvcm1SZXF1ZXN0OiBmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLnRvSnNvbigkZmlsdGVyKCdyZW1vdmVOdWxscycpKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdjb2ZyYWRlc1NlcnZpY2UnLCBjb2ZyYWRlc1NlcnZpY2UpO1xyXG5cclxuICBmdW5jdGlvbiBjb2ZyYWRlc1NlcnZpY2UoJHJlc291cmNlLCAkbG9jYXRpb24sICRodHRwLCAkZmlsdGVyKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjb2ZyYWRlc1Jlc3Q6IGNvZnJhZGVzUmVzdCxcclxuICAgICAgY29mcmFkZXNCYWphc1Jlc3Q6IGNvZnJhZGVzQmFqYXNSZXN0LFxyXG4gICAgICBnZXRDYWxsZXM6IGdldENhbGxlcyxcclxuICAgICAgZ2V0UmVnaXN0cm9zOiBnZXRSZWdpc3Ryb3NcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gY29mcmFkZXNSZXN0KCkge1xyXG4gICAgICByZXR1cm4gJHJlc291cmNlKCdodHRwOi8vMTI3LjAuMC4xOicrJGxvY2F0aW9uLnBvcnQoKSsnL2FwaS9jb2ZyYWRlcy86aWQuanNvbjpqc29uJywgbnVsbCwge1xyXG4gICAgICAgICdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OiBmYWxzZX0sXHJcbiAgICAgICAgJ2dldCc6ICAgIHttZXRob2Q6J0dFVCcsIHRyYW5zZm9ybVJlc3BvbnNlOiBmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkZmlsdGVyKCdzdHJpbmdUb0RhdGVGb3JtYXQnKShhbmd1bGFyLmZyb21Kc29uKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAnc2F2ZSc6ICAge21ldGhvZDonUE9TVCcsIHRyYW5zZm9ybVJlcXVlc3Q6IGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIudG9Kc29uKCRmaWx0ZXIoJ2Zvcm1hdERhdGVzJykoJGZpbHRlcigncmVtb3ZlTnVsbHMnKShkYXRhKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb2ZyYWRlc0JhamFzUmVzdCgpIHtcclxuICAgICAgcmV0dXJuICRyZXNvdXJjZSgnaHR0cDovLzEyNy4wLjAuMTonKyRsb2NhdGlvbi5wb3J0KCkrJy9hcGkvY29mcmFkZXNCYWphcy86aWQuanNvbjpqc29uJywgbnVsbCwgeydxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OmZhbHNlfX0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldENhbGxlcyhjYWxsZSkge1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KCdodHRwOi8vMTI3LjAuMC4xOicrJGxvY2F0aW9uLnBvcnQoKSsnL2FwaS9jYWxsZXMvJywge3BhcmFtczoge2NhbGxlOiBjYWxsZX19KS5cclxuICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLmZyb21Kc29uKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRSZWdpc3Ryb3MoKSB7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6JyskbG9jYXRpb24ucG9ydCgpKycvYXBpL3JlZ2lzdHJvcy8nKS5cclxuICAgICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLmZyb21Kc29uKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdjb3N0YWxlcm9zU2VydmljZScsIGNvc3RhbGVyb3NTZXJ2aWNlKTtcclxuXHJcbiAgZnVuY3Rpb24gY29zdGFsZXJvc1NlcnZpY2UoJHJlc291cmNlLCAkbG9jYXRpb24sICRmaWx0ZXIpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNvc3RhbGVyb3NSZXN0OiBjb3N0YWxlcm9zUmVzdFxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb3N0YWxlcm9zUmVzdCgpIHtcclxuICAgICAgcmV0dXJuICRyZXNvdXJjZSgnaHR0cDovLzEyNy4wLjAuMTonKyRsb2NhdGlvbi5wb3J0KCkrJy9hcGkvY29zdGFsZXJvcy86aWQuanNvbjpqc29uJywgbnVsbCwge1xyXG4gICAgICAgICdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OiB0cnVlfSxcclxuICAgICAgICAnZ2V0JzogICAge21ldGhvZDonR0VUJywgdHJhbnNmb3JtUmVzcG9uc2U6IGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRmaWx0ZXIoJ3N0cmluZ1RvRGF0ZUZvcm1hdCcpKGFuZ3VsYXIuZnJvbUpzb24oZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICdzYXZlJzogICB7bWV0aG9kOidQT1NUJywgdHJhbnNmb3JtUmVxdWVzdDogZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci50b0pzb24oJGZpbHRlcignZm9ybWF0RGF0ZXMnKSgkZmlsdGVyKCdyZW1vdmVOdWxscycpKGRhdGEpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICBcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgnZGlyZWN0aXZvc1NlcnZpY2UnLCBkaXJlY3Rpdm9zU2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIGRpcmVjdGl2b3NTZXJ2aWNlKCRyZXNvdXJjZSwgJGxvY2F0aW9uLCAkZmlsdGVyKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkaXJlY3Rpdm9zUmVzdDogZGlyZWN0aXZvc1Jlc3RcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gZGlyZWN0aXZvc1Jlc3QoKSB7XHJcbiAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2h0dHA6Ly8xMjcuMC4wLjE6JyskbG9jYXRpb24ucG9ydCgpKycvYXBpL2RpcmVjdGl2b3MvOmlkLmpzb246anNvbicsIG51bGwsIHtcclxuICAgICAgICAncXVlcnknOiAge21ldGhvZDonR0VUJywgaXNBcnJheTogdHJ1ZX0sXHJcbiAgICAgICAgJ3NhdmUnOiAgIHttZXRob2Q6J1BPU1QnLCB0cmFuc2Zvcm1SZXF1ZXN0OiBmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLnRvSnNvbigkZmlsdGVyKCdyZW1vdmVOdWxscycpKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdnYXN0b3NCYW5jYXJpb3NTZXJ2aWNlJywgZ2FzdG9zQmFuY2FyaW9zU2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIGdhc3Rvc0JhbmNhcmlvc1NlcnZpY2UoJHJlc291cmNlLCAkbG9jYXRpb24pIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGdhc3Rvc0JhbmNhcmlvc1Jlc3Q6IGdhc3Rvc0JhbmNhcmlvc1Jlc3RcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gZ2FzdG9zQmFuY2FyaW9zUmVzdCgpIHtcclxuICAgICAgcmV0dXJuICRyZXNvdXJjZSgnaHR0cDovLzEyNy4wLjAuMTonKyRsb2NhdGlvbi5wb3J0KCkrJy9hcGkvZ2FzdG9zQmFuY2FyaW9zLzppZC5qc29uOmpzb24nKTtcclxuICAgIH1cclxuICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ2ludGVyZmF6U2VydmljZScsIGludGVyZmF6U2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIGludGVyZmF6U2VydmljZSgkaHR0cCwgJGxvY2F0aW9uKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpbnRlcmZhelJlc3Q6IGludGVyZmF6UmVzdFxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBpbnRlcmZhelJlc3QoKSB7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6JyskbG9jYXRpb24ucG9ydCgpKycvYXBpL3VzZXJzLmpzb24nKTtcclxuICAgIH1cclxuICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ21hcGFzU2VydmljZScsIG1hcGFzU2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIG1hcGFzU2VydmljZSgkaHR0cCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZ2VvQ29kaW5nQVBJOiBnZW9Db2RpbmdBUElcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gZ2VvQ29kaW5nQVBJKGFkZHJlc3MpIHtcclxuICAgICAgcmV0dXJuICRodHRwLmdldCgnaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2dlb2NvZGUvanNvbicsIHtwYXJhbXM6IHthZGRyZXNzOiBhZGRyZXNzLCBrZXk6IFwiQUl6YVN5RENfT0lEU2w2Y3VyakNNQ0x5em4yeWhNbWctZXI1a25JXCJ9fSkuXHJcbiAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgfSk7XHJcbiAgICB9ICAgIFxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5mYWN0b3J5KCdudW1lcm9zTG90ZXJpYVNlcnZpY2UnLCBudW1lcm9zTG90ZXJpYVNlcnZpY2UpO1xyXG5cclxuICBmdW5jdGlvbiBudW1lcm9zTG90ZXJpYVNlcnZpY2UoJHJlc291cmNlLCAkbG9jYXRpb24pIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG51bWVyb3NMb3RlcmlhUmVzdDogbnVtZXJvc0xvdGVyaWFSZXN0XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIG51bWVyb3NMb3RlcmlhUmVzdCgpIHtcclxuICAgICAgcmV0dXJuICRyZXNvdXJjZSgnaHR0cDovLzEyNy4wLjAuMTonKyRsb2NhdGlvbi5wb3J0KCkrJy9hcGkvbnVtZXJvc0xvdGVyaWEvOmlkLmpzb246anNvbicpO1xyXG4gICAgfVxyXG4gICBcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZmFjdG9yeSgncGFwZWxldGFzU2l0aW9zU2VydmljZScsIHBhcGVsZXRhc1NpdGlvc1NlcnZpY2UpO1xyXG5cclxuICBmdW5jdGlvbiBwYXBlbGV0YXNTaXRpb3NTZXJ2aWNlKCRyZXNvdXJjZSwgJGxvY2F0aW9uLCAkZmlsdGVyKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwYXBlbGV0YXNTaXRpb3NSZXN0OiBwYXBlbGV0YXNTaXRpb3NSZXN0XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHBhcGVsZXRhc1NpdGlvc1Jlc3QoKSB7XHJcbiAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2h0dHA6Ly8xMjcuMC4wLjE6JyskbG9jYXRpb24ucG9ydCgpKycvYXBpL3BhcGVsZXRhc1NpdGlvcy86aWQuanNvbjpqc29uJywgbnVsbCwge1xyXG4gICAgICAgICdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OiB0cnVlfSxcclxuICAgICAgICAnc2F2ZSc6ICAge21ldGhvZDonUE9TVCcsIHRyYW5zZm9ybVJlcXVlc3Q6IGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIudG9Kc29uKCRmaWx0ZXIoJ3JlbW92ZU51bGxzJykoZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmZhY3RvcnkoJ3NlY3RvcmVzU2VydmljZScsIHNlY3RvcmVzU2VydmljZSk7XHJcblxyXG4gIGZ1bmN0aW9uIHNlY3RvcmVzU2VydmljZSgkcmVzb3VyY2UsICRsb2NhdGlvbikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc2VjdG9yZXNSZXN0OiBzZWN0b3Jlc1Jlc3RcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gc2VjdG9yZXNSZXN0KCkge1xyXG4gICAgICByZXR1cm4gJHJlc291cmNlKCdodHRwOi8vMTI3LjAuMC4xOicrJGxvY2F0aW9uLnBvcnQoKSsnL2FwaS9zZWN0b3Jlcy86aWQuanNvbjpqc29uJywgbnVsbCwge1xyXG4gICAgICAgICdnZXQnOiAge21ldGhvZDonR0VUJywgaXNBcnJheTogdHJ1ZX0sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICBcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdDb3N0YWxlcm9BZGRNb2RpZnknLCBDb3N0YWxlcm9BZGRNb2RpZnkpO1xyXG5cclxuICBmdW5jdGlvbiBDb3N0YWxlcm9BZGRNb2RpZnkoJHNjb3BlLCAkZmlsdGVyLCAkZG9jdW1lbnQsICRtZFRvYXN0LCAkc3RhdGUsIGdldENvc3RhbGVyb1ByZXBTZXJ2aWNlLCBjb3N0YWxlcm9zU2VydmljZSwgY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5iYWNrU3RhdGUgICAgICAgICAgPSBiYWNrU3RhdGU7XHJcbiAgICB2bS5xdWVyeVNlYXJjaCAgICAgICAgPSBxdWVyeVNlYXJjaDtcclxuICAgIHZtLnNlbGVjdGVkSXRlbUNoYW5nZSA9IHNlbGVjdGVkSXRlbUNoYW5nZTtcclxuICAgIHZtLmd1YXJkYXIgICAgICAgICAgICA9IGd1YXJkYXI7XHJcblxyXG4gICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgaWYgKGdldENvc3RhbGVyb1ByZXBTZXJ2aWNlKXtcclxuICAgICAgICBnZXRDb3N0YWxlcm9QcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGluaXRDb3N0YWxlcm8pO1xyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRDb3N0YWxlcm8oZGF0YSkge1xyXG4gICAgICB2bS5jb3N0YWxlcm8gPSBkYXRhO1xyXG4gICAgICB2bS5jb2ZyYWRlU2VsZWN0ZWQgPSB2bS5jb3N0YWxlcm8uY29mcmFkZTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYmFja1N0YXRlKCkge1xyXG4gICAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcXVlcnlTZWFyY2gocXVlcnkpIHtcclxuICAgICAgdmFyIGZpbHRybyA9IHt9O1xyXG4gICAgICBpZiAoaXNOYU4ocXVlcnkpKVxyXG4gICAgICAgIGZpbHRyby5ub21icmUgPSBxdWVyeTtcclxuICAgICAgZWxzZSBpZighaXNOYU4ocXVlcnkpKVxyXG4gICAgICAgIGZpbHRyby5udW1lcm9PcmRlbiA9IHF1ZXJ5O1xyXG5cclxuICAgICAgcmV0dXJuIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5xdWVyeShmaWx0cm8pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnJlc3VsdHM7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdGVkSXRlbUNoYW5nZShpdGVtKSB7XHJcbiAgICAgIHZtLmNvc3RhbGVyby5jb2ZyYWRlID0gIGl0ZW0gPyBpdGVtLmlkIDogbnVsbDtcclxuICAgIH0gICAgXHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhcihpc1ZhbGlkKSB7XHJcbiAgICAgIGlmKGlzVmFsaWQpe1xyXG4gICAgICAgIHZtLmNvc3RhbGVyby5mZWNoYSA9ICh2bS5jb3N0YWxlcm8uZmVjaGEgPT09IFwiXCIpID8gbnVsbCA6IHZtLmNvc3RhbGVyby5mZWNoYTtcclxuICAgICAgICBpZiAoIXZtLmNvc3RhbGVyby5jb2ZyYWRlKXtcclxuICAgICAgICAgICRzY29wZS5jb3N0YWxlcm9Gb3JtLmNvZnJhZGUuJGVycm9yLnJlcXVpcmVkID0gdHJ1ZTtcclxuICAgICAgICAgIHNob3dBY3Rpb25Ub2FzdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgY29zdGFsZXJvc1NlcnZpY2UuY29zdGFsZXJvc1Jlc3QoKS5zYXZlKHZtLmNvc3RhbGVybywgZ3VhcmRhclN1Y2Nlc3MsIGd1YXJkYXJFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2VcclxuICAgICAgICBzaG93QWN0aW9uVG9hc3QoKTtcclxuICAgIH1cclxuICAgICAgXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyU3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnR3VhcmRhZG8gY29uIMOpeGl0byEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgICAgJHN0YXRlLmdvKCdjb3N0YWxlcm9zJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhckVycm9yKHJlc3BvbnNlKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFcnJvciBhbCBndWFyZGFyISEnKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHNob3dBY3Rpb25Ub2FzdCgpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0V4aXN0ZW4gZXJyb3JlcyBlbiBlbCBmb3JtdWxhcmlvJylcclxuICAgICAgICAgIC5hY3Rpb24oJ09LJylcclxuICAgICAgICAgIC5oaWdobGlnaHRBY3Rpb24oZmFsc2UpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdDb3N0YWxlcm9EZXRhbGxlJywgQ29zdGFsZXJvRGV0YWxsZSk7XHJcblxyXG4gIGZ1bmN0aW9uIENvc3RhbGVyb0RldGFsbGUoJHN0YXRlLCBnZXRDb3N0YWxlcm9QcmVwU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5tb2RpZnlDb3N0YWxlcm8gPSBtb2RpZnlDb3N0YWxlcm87XHJcbiAgICBcclxuICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIHJldHVybiBnZXRDb3N0YWxlcm9QcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLmNvc3RhbGVybyA9IGRhdGE7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUNvc3RhbGVybyhpZCwgZXZlbnQpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2Nvc3RhbGVyb3NDYW1iaW9zJywge2Nvc3RhbGVyb0lkOiBpZH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0Nvc3RhbGVyb3MnLCBDb3N0YWxlcm9zKTtcclxuXHJcbiAgZnVuY3Rpb24gQ29zdGFsZXJvcyhjb3N0YWxlcm9zUHJlcFNlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLmNvc3RhbGVyb3MgPSBudWxsO1xyXG4gICAgYWN0aXZhdGUoKTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIHJldHVybiBjb3N0YWxlcm9zUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5jb3N0YWxlcm9zID0gZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0RpcmVjdGl2b0FkZE1vZGlmeScsIERpcmVjdGl2b0FkZE1vZGlmeSk7XHJcblxyXG4gIGZ1bmN0aW9uIERpcmVjdGl2b0FkZE1vZGlmeSgkc2NvcGUsICRkb2N1bWVudCwgJG1kVG9hc3QsICRzdGF0ZSwgZ2V0RGlyZWN0aXZvUHJlcFNlcnZpY2UsIGRpcmVjdGl2b3NTZXJ2aWNlLCBjb2ZyYWRlc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLm5ld0NvZnJhZGUgPSBmYWxzZTtcclxuXHJcbiAgICB2bS5iYWNrU3RhdGUgICAgICAgICAgPSBiYWNrU3RhdGU7XHJcbiAgICB2bS5xdWVyeVNlYXJjaCAgICAgICAgPSBxdWVyeVNlYXJjaDtcclxuICAgIHZtLnNlbGVjdGVkSXRlbUNoYW5nZSA9IHNlbGVjdGVkSXRlbUNoYW5nZTtcclxuICAgIHZtLmd1YXJkYXIgICAgICAgICAgICA9IGd1YXJkYXI7XHJcblxyXG4gICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgaWYgKGdldERpcmVjdGl2b1ByZXBTZXJ2aWNlKXtcclxuICAgICAgICBnZXREaXJlY3Rpdm9QcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGluaXREaXJlY3Rpdm8pO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgbmV3RGlyZWN0aXZvKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdERpcmVjdGl2byhkYXRhKSB7XHJcbiAgICAgIHZtLmRpcmVjdGl2byA9IGRhdGE7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG5ld0RpcmVjdGl2bygpIHtcclxuICAgICAgdm0ubmV3Q29mcmFkZSA9IHRydWU7XHJcbiAgICAgIHZtLmRpcmVjdGl2byA9IHtjb2ZyYWRlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZmVjaGE6IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGJhY2tTdGF0ZSgpIHtcclxuICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHF1ZXJ5U2VhcmNoKHF1ZXJ5KSB7XHJcbiAgICAgIHZhciBmaWx0cm8gPSB7fTtcclxuICAgICAgaWYgKGlzTmFOKHF1ZXJ5KSlcclxuICAgICAgICBmaWx0cm8ubm9tYnJlID0gcXVlcnk7XHJcbiAgICAgIGVsc2UgaWYoIWlzTmFOKHF1ZXJ5KSlcclxuICAgICAgICBmaWx0cm8ubnVtZXJvT3JkZW4gPSBxdWVyeTtcclxuXHJcbiAgICAgIHJldHVybiBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkucXVlcnkoZmlsdHJvKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZS5yZXN1bHRzO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWxlY3RlZEl0ZW1DaGFuZ2UoaXRlbSkge1xyXG4gICAgICB2bS5kaXJlY3Rpdm8uY29mcmFkZSA9ICBpdGVtID8gaXRlbS5pZCA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhcihpc1ZhbGlkKSB7XHJcbiAgICAgIGlmKGlzVmFsaWQpe1xyXG4gICAgICAgIGlmICghdm0uZGlyZWN0aXZvLmNvZnJhZGUpe1xyXG4gICAgICAgICAgJHNjb3BlLmRpcmVjdGl2b0Zvcm0uY29mcmFkZS4kZXJyb3IucmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgc2hvd0FjdGlvblRvYXN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICB2bS5kaXJlY3Rpdm8uY29mcmFkZSA9IHZtLmRpcmVjdGl2by5jb2ZyYWRlLmlkID8gdm0uZGlyZWN0aXZvLmNvZnJhZGUuaWQgOiB2bS5kaXJlY3Rpdm8uY29mcmFkZTtcclxuICAgICAgICAgIGRpcmVjdGl2b3NTZXJ2aWNlLmRpcmVjdGl2b3NSZXN0KCkuc2F2ZSh2bS5kaXJlY3Rpdm8sIGd1YXJkYXJTdWNjZXNzLCBndWFyZGFyRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlXHJcbiAgICAgICAgc2hvd0FjdGlvblRvYXN0KCk7XHJcbiAgICB9XHJcbiAgICAgIFxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhclN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0d1YXJkYWRvIGNvbiDDqXhpdG8hIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICk7XHJcbiAgICAgICRzdGF0ZS5nbygnZGlyZWN0aXZvcycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJFcnJvcihyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXJyb3IgYWwgZ3VhcmRhciEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzaG93QWN0aW9uVG9hc3QoKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFeGlzdGVuIGVycm9yZXMgZW4gZWwgZm9ybXVsYXJpbycpXHJcbiAgICAgICAgICAuYWN0aW9uKCdPSycpXHJcbiAgICAgICAgICAuaGlnaGxpZ2h0QWN0aW9uKGZhbHNlKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignRGlyZWN0aXZvRGV0YWxsZScsIERpcmVjdGl2b0RldGFsbGUpO1xyXG5cclxuICBmdW5jdGlvbiBEaXJlY3Rpdm9EZXRhbGxlKCRzdGF0ZSwgZ2V0RGlyZWN0aXZvUHJlcFNlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgdm0ubW9kaWZ5RGlyZWN0aXZvID0gbW9kaWZ5RGlyZWN0aXZvO1xyXG4gICAgXHJcbiAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICByZXR1cm4gZ2V0RGlyZWN0aXZvUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5kaXJlY3Rpdm8gPSBkYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtb2RpZnlEaXJlY3Rpdm8oaWQsIGV2ZW50KXtcclxuICAgICAgJHN0YXRlLmdvKCdkaXJlY3Rpdm9zQ2FtYmlvcycsIHtkaXJlY3Rpdm9JZDogaWR9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdEaXJlY3Rpdm9zJywgRGlyZWN0aXZvcyk7XHJcblxyXG4gIGZ1bmN0aW9uIERpcmVjdGl2b3MoZGlyZWN0aXZvc1ByZXBTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5kaXJlY3Rpdm9zID0gbnVsbDtcclxuICAgIGFjdGl2YXRlKCk7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICByZXR1cm4gZGlyZWN0aXZvc1ByZXBTZXJ2aWNlLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0uZGlyZWN0aXZvcyA9IGRhdGE7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdHYXN0b3NCYW5jYXJpb3MnLCBHYXN0b3NCYW5jYXJpb3MpO1xyXG5cclxuICBmdW5jdGlvbiBHYXN0b3NCYW5jYXJpb3MoJHNjb3BlLCAkZG9jdW1lbnQsICRtZFRvYXN0LCAkc3RhdGUsIGdhc3Rvc0JhbmNhcmlvc1ByZXBTZXJ2aWNlLCBnYXN0b3NCYW5jYXJpb3NTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5uZXdDb2ZyYWRlID0gZmFsc2U7XHJcblxyXG4gICAgdm0uZ3VhcmRhciA9IGd1YXJkYXI7XHJcblxyXG4gICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgZ2FzdG9zQmFuY2FyaW9zUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihpbml0R2FzdG9CYW5jYXJpbyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdEdhc3RvQmFuY2FyaW8oZGF0YSkge1xyXG4gICAgICB2bS5nYXN0b0JhbmNhcmlvID0gZGF0YVswXTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhcihpc1ZhbGlkKSB7XHJcbiAgICAgIGlmKGlzVmFsaWQpe1xyXG4gICAgICAgIGdhc3Rvc0JhbmNhcmlvc1NlcnZpY2UuZ2FzdG9zQmFuY2FyaW9zUmVzdCgpLnNhdmUodm0uZ2FzdG9CYW5jYXJpbywgZ3VhcmRhclN1Y2Nlc3MsIGd1YXJkYXJFcnJvcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2hvd0FjdGlvblRvYXN0KCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgICAgXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyU3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnR3VhcmRhZG8gY29uIMOpeGl0byEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgICAgJHN0YXRlLmdvKCdnYXN0b3NCYW5jYXJpb3MnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyRXJyb3IocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0Vycm9yIGFsIGd1YXJkYXIhIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2hvd0FjdGlvblRvYXN0KCkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXhpc3RlbiBlcnJvcmVzIGVuIGVsIGZvcm11bGFyaW8nKVxyXG4gICAgICAgICAgLmFjdGlvbignT0snKVxyXG4gICAgICAgICAgLmhpZ2hsaWdodEFjdGlvbihmYWxzZSlcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ051bWVyb3NMb3RlcmlhJywgTnVtZXJvc0xvdGVyaWEpO1xyXG5cclxuICBmdW5jdGlvbiBOdW1lcm9zTG90ZXJpYSgkc2NvcGUsICRkb2N1bWVudCwgJG1kVG9hc3QsICRzdGF0ZSwgbnVtZXJvc0xvdGVyaWFQcmVwU2VydmljZSwgbnVtZXJvc0xvdGVyaWFTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5uZXdDb2ZyYWRlID0gZmFsc2U7XHJcblxyXG4gICAgdm0uZ3VhcmRhciA9IGd1YXJkYXI7XHJcblxyXG4gICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgbnVtZXJvc0xvdGVyaWFQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGluaXROdW1lcm9zTG90ZXJpYSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdE51bWVyb3NMb3RlcmlhKGRhdGEpIHtcclxuICAgICAgdm0ubnVtZXJvc0xvdGVyaWEgPSBkYXRhWzBdO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyKGlzVmFsaWQpIHtcclxuICAgICAgaWYoaXNWYWxpZCl7XHJcbiAgICAgICAgbnVtZXJvc0xvdGVyaWFTZXJ2aWNlLm51bWVyb3NMb3RlcmlhUmVzdCgpLnNhdmUodm0ubnVtZXJvc0xvdGVyaWEsIGd1YXJkYXJTdWNjZXNzLCBndWFyZGFyRXJyb3IpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNob3dBY3Rpb25Ub2FzdCgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAgIFxyXG4gICAgZnVuY3Rpb24gZ3VhcmRhclN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0d1YXJkYWRvIGNvbiDDqXhpdG8hIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICk7XHJcbiAgICAgICRzdGF0ZS5nbygnbnVtZXJvc0xvdGVyaWEnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyRXJyb3IocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0Vycm9yIGFsIGd1YXJkYXIhIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2hvd0FjdGlvblRvYXN0KCkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXhpc3RlbiBlcnJvcmVzIGVuIGVsIGZvcm11bGFyaW8nKVxyXG4gICAgICAgICAgLmFjdGlvbignT0snKVxyXG4gICAgICAgICAgLmhpZ2hsaWdodEFjdGlvbihmYWxzZSlcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ1BhcGVsZXRhU2l0aW9BZGRNb2RpZnknLCBQYXBlbGV0YVNpdGlvQWRkTW9kaWZ5KTtcclxuXHJcbiAgZnVuY3Rpb24gUGFwZWxldGFTaXRpb0FkZE1vZGlmeSgkc2NvcGUsICRmaWx0ZXIsICRkb2N1bWVudCwgJG1kVG9hc3QsICRzdGF0ZSwgIHBhcGVsZXRhc1NpdGlvc1NlcnZpY2UsIGNvZnJhZGVzU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0ubmV3Q29mcmFkZSA9IGZhbHNlO1xyXG5cclxuICAgIHZtLmJhY2tTdGF0ZSAgICAgICAgICA9IGJhY2tTdGF0ZTtcclxuICAgIHZtLnF1ZXJ5U2VhcmNoICAgICAgICA9IHF1ZXJ5U2VhcmNoO1xyXG4gICAgdm0uc2VsZWN0ZWRJdGVtQ2hhbmdlID0gc2VsZWN0ZWRJdGVtQ2hhbmdlO1xyXG4gICAgdm0uZ3VhcmRhciAgICAgICAgICAgID0gZ3VhcmRhcjtcclxuXHJcbiAgICBuZXdwYXBlbGV0YVNpdGlvKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gbmV3cGFwZWxldGFTaXRpbygpIHtcclxuICAgICAgdm0ubmV3Q29mcmFkZSA9IHRydWU7XHJcbiAgICAgIHZtLmZlY2hhID0gbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKTtcclxuICAgICAgdm0ucGFwZWxldGFTaXRpbyA9IHtjb2ZyYWRlOiBudWxsfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBiYWNrU3RhdGUoKSB7XHJcbiAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBxdWVyeVNlYXJjaChxdWVyeSkge1xyXG4gICAgICB2YXIgZmlsdHJvID0ge307XHJcbiAgICAgIGlmIChpc05hTihxdWVyeSkpXHJcbiAgICAgICAgZmlsdHJvLm5vbWJyZSA9IHF1ZXJ5O1xyXG4gICAgICBlbHNlIGlmKCFpc05hTihxdWVyeSkpXHJcbiAgICAgICAgZmlsdHJvLm51bWVyb09yZGVuID0gcXVlcnk7XHJcblxyXG4gICAgICByZXR1cm4gY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzUmVzdCgpLnF1ZXJ5KGZpbHRybykuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UucmVzdWx0cztcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0ZWRJdGVtQ2hhbmdlKGl0ZW0pIHtcclxuICAgICAgdm0ucGFwZWxldGFTaXRpby5jb2ZyYWRlID0gIGl0ZW0gPyBpdGVtLmlkIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyKGlzVmFsaWQpIHtcclxuICAgICAgaWYoaXNWYWxpZCl7XHJcbiAgICAgICAgaWYgKCF2bS5wYXBlbGV0YVNpdGlvLmNvZnJhZGUpe1xyXG4gICAgICAgICAgJHNjb3BlLnBhcGVsZXRhU2l0aW9Gb3JtLmNvZnJhZGUuJGVycm9yLnJlcXVpcmVkID0gdHJ1ZTtcclxuICAgICAgICAgIHNob3dBY3Rpb25Ub2FzdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgdm0ucGFwZWxldGFTaXRpby5mZWNoYSA9IHZtLmZlY2hhO1xyXG4gICAgICAgICAgJGZpbHRlcignZm9ybWF0RGF0ZXMnKSh2bS5wYXBlbGV0YVNpdGlvKTtcclxuICAgICAgICAgIHBhcGVsZXRhc1NpdGlvc1NlcnZpY2UucGFwZWxldGFzU2l0aW9zUmVzdCgpLnNhdmUoe2FuaW86IG5ldyBEYXRlKHZtLnBhcGVsZXRhU2l0aW8uZmVjaGEpLmdldEZ1bGxZZWFyKCksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFwZWxldGFzOlt2bS5wYXBlbGV0YVNpdGlvXX0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWFyZGFyU3VjY2VzcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1YXJkYXJFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2VcclxuICAgICAgICBzaG93QWN0aW9uVG9hc3QoKTtcclxuICAgIH1cclxuICAgICAgXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyU3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnR3VhcmRhZG8gY29uIMOpeGl0byEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgICAgJHN0YXRlLmdvKCdwYXBlbGV0YXNTaXRpb3MnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyRXJyb3IocmVzcG9uc2UpIHtcclxuICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgLmNvbnRlbnQoJ0Vycm9yIGFsIGd1YXJkYXIhIScpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2hvd0FjdGlvblRvYXN0KCkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXhpc3RlbiBlcnJvcmVzIGVuIGVsIGZvcm11bGFyaW8nKVxyXG4gICAgICAgICAgLmFjdGlvbignT0snKVxyXG4gICAgICAgICAgLmhpZ2hsaWdodEFjdGlvbihmYWxzZSlcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLnBvc2l0aW9uKCd0b3AgcmlnaHQnKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ1BhcGVsZXRhc1NpdGlvcycsIFBhcGVsZXRhc1NpdGlvcyk7XHJcblxyXG4gIGZ1bmN0aW9uIFBhcGVsZXRhc1NpdGlvcyhwYXBlbGV0YXNTaXRpb3NQcmVwU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0ucGFwZWxldGFzU2l0aW9zID0gbnVsbDtcclxuICAgIGFjdGl2YXRlKCk7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICByZXR1cm4gcGFwZWxldGFzU2l0aW9zUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB2bS5wYXBlbGV0YXNTaXRpb3MgPSBkYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignU2VjdG9yQWRkTW9kaWZ5JywgU2VjdG9yQWRkTW9kaWZ5KTtcclxuXHJcbiAgZnVuY3Rpb24gU2VjdG9yQWRkTW9kaWZ5KCRzY29wZSwgJGZpbHRlciwgJGRvY3VtZW50LCAkbWRUb2FzdCwgJHN0YXRlLCAkc3RhdGVQYXJhbXMsIGdldFNlY3RvclByZXBTZXJ2aWNlLCBzZWN0b3Jlc1NlcnZpY2UsIGNvZnJhZGVzU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0ubmV3RW5jYXJnYWRvID0gZmFsc2U7XHJcbiAgICB2bS5uZXdDYWxsZSAgICAgPSBmYWxzZTtcclxuICAgIHZtLmluZGV4Q2FsbGUgICA9IG51bGw7XHJcblxyXG4gICAgdm0uYmFja1N0YXRlICAgICAgICAgID0gYmFja1N0YXRlO1xyXG4gICAgdm0ucXVlcnlTZWFyY2ggICAgICAgID0gcXVlcnlTZWFyY2g7XHJcbiAgICB2bS5zZWxlY3RlZEl0ZW1DaGFuZ2UgPSBzZWxlY3RlZEl0ZW1DaGFuZ2U7XHJcbiAgICB2bS5ndWFyZGFyICAgICAgICAgICAgPSBndWFyZGFyO1xyXG5cclxuICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgIGlmIChnZXRTZWN0b3JQcmVwU2VydmljZSl7XHJcbiAgICAgICAgZ2V0U2VjdG9yUHJlcFNlcnZpY2UuJHByb21pc2UudGhlbihpbml0U2VjdG9yKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNle1xyXG4gICAgICAgIG5ld0VuY2FyZ2FkbygpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdFNlY3RvcihkYXRhKSB7XHJcbiAgICAgIHZtLnNlY3RvciA9IGRhdGFbMF07XHJcbiAgICAgIHZtLmNvZnJhZGVTZWxlY3RlZCA9IHZtLnNlY3Rvci5jb2ZyYWRlO1xyXG4gICAgICB2bS5vcmlnaW5TZWN0b3IgPSB2bS5zZWN0b3IubnVtZXJvU2VjdG9yO1xyXG4gICAgICBpZiAoJHN0YXRlUGFyYW1zLmNhbGxlID09PSAnbmV3Jyl7XHJcbiAgICAgICAgdm0ubmV3Q2FsbGUgPSB0cnVlO1xyXG4gICAgICAgIHZtLmluZGV4Q2FsbGUgPSB2bS5zZWN0b3IuY2FsbGVzLmxlbmd0aDtcclxuICAgICAgfVxyXG4gICAgICBlbHNle1xyXG4gICAgICAgIHZtLmluZGV4Q2FsbGUgPSAodm0uc2VjdG9yLmNhbGxlcy5pbmRleE9mKCRzdGF0ZVBhcmFtcy5jYWxsZSkgPiAtMSkgPyB2bS5zZWN0b3IuY2FsbGVzLmluZGV4T2YoJHN0YXRlUGFyYW1zLmNhbGxlKSA6IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmV3RW5jYXJnYWRvKCkge1xyXG4gICAgICB2bS5uZXdFbmNhcmdhZG8gPSB0cnVlO1xyXG4gICAgICB2bS5zZWN0b3IgPSB7Y29mcmFkZTogbnVsbH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYmFja1N0YXRlKCkge1xyXG4gICAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcXVlcnlTZWFyY2gocXVlcnkpIHtcclxuICAgICAgdmFyIGZpbHRybyA9IHt9O1xyXG4gICAgICBpZiAoaXNOYU4ocXVlcnkpKVxyXG4gICAgICAgIGZpbHRyby5ub21icmUgPSBxdWVyeTtcclxuICAgICAgZWxzZSBpZighaXNOYU4ocXVlcnkpKVxyXG4gICAgICAgIGZpbHRyby5udW1lcm9PcmRlbiA9IHF1ZXJ5O1xyXG5cclxuICAgICAgcmV0dXJuIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5xdWVyeShmaWx0cm8pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnJlc3VsdHM7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdGVkSXRlbUNoYW5nZShpdGVtKSB7XHJcbiAgICAgIHZtLnNlY3Rvci5jb2ZyYWRlID0gIGl0ZW0gPyBpdGVtLmlkIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyKGlzVmFsaWQpIHtcclxuICAgICAgaWYoaXNWYWxpZCl7XHJcbiAgICAgICAgaWYgKCF2bS5zZWN0b3IuY29mcmFkZSl7XHJcbiAgICAgICAgICAkc2NvcGUuc2VjdG9yRm9ybS5jb2ZyYWRlLiRlcnJvci5yZXF1aXJlZCA9IHRydWU7XHJcbiAgICAgICAgICBzaG93QWN0aW9uVG9hc3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgIGlmICh2bS5zZWN0b3IubnVtZXJvU2VjdG9yID09PSB2bS5vcmlnaW5TZWN0b3IgfHwgdm0ubmV3RW5jYXJnYWRvKXtcclxuICAgICAgICAgICAgZ3VhcmRhclNlY3RvcigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgZ3VhcmRhckNhbWJpb1NlY3RvcigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlXHJcbiAgICAgICAgc2hvd0FjdGlvblRvYXN0KCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJTZWN0b3IoKXtcclxuICAgICAgc2VjdG9yZXNTZXJ2aWNlLnNlY3RvcmVzUmVzdCgpLnNhdmUodm0uc2VjdG9yLCBndWFyZGFyU3VjY2VzcywgZ3VhcmRhckVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyQ2FtYmlvU2VjdG9yKCl7XHJcbiAgICAgIHNlY3RvcmVzU2VydmljZS5zZWN0b3Jlc1Jlc3QoKS5nZXQoe3NlY3Rvcjogdm0uc2VjdG9yLm51bWVyb1NlY3Rvcn0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgIGlmICghcmVzcG9uc2VbMF0pe1xyXG4gICAgICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgICAgICAuY29udGVudCgnTm8gZXhpc3RlIGVzZSBzZWN0b3InKVxyXG4gICAgICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgICAgICAucGFyZW50KCRkb2N1bWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdG9hc3RCb3VuZHMnKSlcclxuICAgICAgICAgICAgICAuaGlkZURlbGF5KDMwMDApXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXNwb25zZVswXS5jb2ZyYWRlID0gcmVzcG9uc2VbMF0uY29mcmFkZS5pZDtcclxuICAgICAgICByZXNwb25zZVswXS5jYWxsZXMucHVzaCh2bS5zZWN0b3IuY2FsbGVzW3ZtLmluZGV4Q2FsbGVdKTtcclxuICAgICAgICByZXNwb25zZVswXS4kc2F2ZShudWxsLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLnNlY3Rvci5jYWxsZXMuc3BsaWNlKHZtLmluZGV4Q2FsbGUsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLnNlY3Rvci5udW1lcm9TZWN0b3IgPSB2bS5vcmlnaW5TZWN0b3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VhcmRhclNlY3RvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBndWFyZGFyRXJyb3IpO1xyXG4gICAgICAgIFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBndWFyZGFyU3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnR3VhcmRhZG8gY29uIMOpeGl0byEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgKTtcclxuICAgICAgJHN0YXRlLmdvKCdzZWN0b3JlcycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGd1YXJkYXJFcnJvcihyZXNwb25zZSkge1xyXG4gICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXHJcbiAgICAgICAgICAuY29udGVudCgnRXJyb3IgYWwgZ3VhcmRhciEhJylcclxuICAgICAgICAgIC5wb3NpdGlvbigndG9wIHJpZ2h0JylcclxuICAgICAgICAgIC5wYXJlbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN0b2FzdEJvdW5kcycpKVxyXG4gICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzaG93QWN0aW9uVG9hc3QoKSB7XHJcbiAgICAgICRtZFRvYXN0LnNob3coXHJcbiAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgIC5jb250ZW50KCdFeGlzdGVuIGVycm9yZXMgZW4gZWwgZm9ybXVsYXJpbycpXHJcbiAgICAgICAgICAuYWN0aW9uKCdPSycpXHJcbiAgICAgICAgICAuaGlnaGxpZ2h0QWN0aW9uKGZhbHNlKVxyXG4gICAgICAgICAgLnBhcmVudCgkZG9jdW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3RvYXN0Qm91bmRzJykpXHJcbiAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignU2VjdG9yZXMnLCBTZWN0b3Jlcyk7XHJcblxyXG4gIGZ1bmN0aW9uIFNlY3RvcmVzKHNlY3RvcmVzUHJlcFNlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLnNlY3RvcmVzID0gbnVsbDtcclxuICAgIGFjdGl2YXRlKCk7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICByZXR1cm4gc2VjdG9yZXNQcmVwU2VydmljZS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLnNlY3RvcmVzID0gZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdMaXN0YUFzcGlyYW50ZXMnLCBMaXN0YUFzcGlyYW50ZXMpO1xyXG5cclxuICBmdW5jdGlvbiBMaXN0YUFzcGlyYW50ZXMoJHN0YXRlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5tb2RpZnlBc3BpcmFudGUgPSBtb2RpZnlBc3BpcmFudGU7XHJcbiAgICB2bS5nb1RvQXNwaXJhbnRlICAgPSBnb1RvQXNwaXJhbnRlO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdvVG9Bc3BpcmFudGUoaWQsIGV2ZW50KXtcclxuICAgICAgJHN0YXRlLmdvKCdhc3BpcmFudGVzRGV0YWxsZScsIHthc3BpcmFudGVJZDogaWR9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtb2RpZnlBc3BpcmFudGUoaWQsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICRzdGF0ZS5nbygnYXNwaXJhbnRlc0NhbWJpb3MnLCB7YXNwaXJhbnRlSWQ6IGlkfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ2xpc3RhQXNwaXJhbnRlcycsIGxpc3RhQXNwaXJhbnRlcyk7XHJcblxyXG5cclxuICBmdW5jdGlvbiBsaXN0YUFzcGlyYW50ZXMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvYXNwaXJhbnRlcy9saXN0L2FzcGlyYW50ZXMuZGlyZWN0aXZlLmh0bWwnLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIGFzcGlyYW50ZXM6ICc9YXNwaXJhbnRlcycgICAgICAgIFxyXG4gICAgICB9LFxyXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQpIHtcclxuICAgICAgICBzY29wZS4kd2F0Y2goJ3ZtLmFzcGlyYW50ZXMnLCBmdW5jdGlvbihuZXdWYWwpIHtcclxuICAgICAgICAgICAgaWYobmV3VmFsKSB7IFxyXG4gICAgICAgICAgICAgIHNjb3BlLnZtLmFzcGlyYW50ZXNTaG9ydCA9IHNjb3BlLnZtLmFzcGlyYW50ZXMubWFwKGZ1bmN0aW9uKGFzcGlyYW50ZSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXV4ID0ge2lkOiBhc3BpcmFudGUuaWQsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBmZWNoYTogYXNwaXJhbnRlLmZlY2hhfTtcclxuICAgICAgICAgICAgICAgIGlmIChhc3BpcmFudGUuY29mcmFkZSl7XHJcbiAgICAgICAgICAgICAgICAgIGF1eC5udW1lcm9PcmRlbiA9IGFzcGlyYW50ZS5jb2ZyYWRlLm51bWVyb09yZGVuO1xyXG4gICAgICAgICAgICAgICAgICBhdXgubm9tYnJlID0gYXNwaXJhbnRlLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLm5vbWJyZSAgICArICcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3BpcmFudGUuY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuYXBlbGxpZG8xICsgJyAnICsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3BpcmFudGUuY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuYXBlbGxpZG8yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1eDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0cnVlKTtcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ0xpc3RhQXNwaXJhbnRlcycsXHJcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignUmVtb3ZlQXNwaXJhbnRlJywgUmVtb3ZlQXNwaXJhbnRlKTtcclxuXHJcbiAgZnVuY3Rpb24gUmVtb3ZlQXNwaXJhbnRlKCRzdGF0ZSwgJG1kRGlhbG9nLCBhc3BpcmFudGVzU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5yZW1vdmVBc3BpcmFudGUgPSByZW1vdmVBc3BpcmFudGU7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHJlbW92ZUFzcGlyYW50ZShpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgdmFyIHJlbW92ZURpYWxvZyA9ICRtZERpYWxvZy5jb25maXJtKClcclxuICAgICAgICAgIC50aXRsZSgnRWxpbWluYXIgYXNwaXJhbnRlJylcclxuICAgICAgICAgIC5jb250ZW50KCfCv0VzdMOhIHNlZ3VybyBxdWUgZGVzZWEgZWxpbWluYXIgZXN0ZSBhc3BpcmFudGU/PGJyPlBlcmRlcsOhIHN1IGFudGlndWVkYWQuJylcclxuICAgICAgICAgIC5hcmlhTGFiZWwoJ0VsaW1pbmFyIGFzcGlyYW50ZScpXHJcbiAgICAgICAgICAudGFyZ2V0RXZlbnQoZXZlbnQpXHJcbiAgICAgICAgICAub2soJ0FjZXB0YXInKVxyXG4gICAgICAgICAgLmNhbmNlbCgnQ2FuY2VsYXInKVxyXG4gICAgICAgICAgLmNsaWNrT3V0c2lkZVRvQ2xvc2UodHJ1ZSk7XHJcbiAgICAgICRtZERpYWxvZy5zaG93KHJlbW92ZURpYWxvZykudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICByZW1vdmVFbmRBc3BpcmFudGUoaWQpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVFbmRBc3BpcmFudGUoaWQpe1xyXG4gICAgICB2YXIgYXNwaXJhbnRlID0gYXNwaXJhbnRlc1NlcnZpY2UuYXNwaXJhbnRlc1Jlc3QoKS5nZXQoe2lkOiBpZH0sIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgYXNwaXJhbnRlLiRkZWxldGUoe2lkOiBpZH0pLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgIGlmKCRzdGF0ZS5jdXJyZW50Lm5hbWUgPT09ICdhc3BpcmFudGVzJyl7XHJcbiAgICAgICAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oJHN0YXRlLmN1cnJlbnQsIG51bGwsIHtcclxuICAgICAgICAgICAgICByZWxvYWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgaW5oZXJpdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgbm90aWZ5OiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdhc3BpcmFudGVzJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdyZW1vdmVBc3BpcmFudGUnLCByZW1vdmVBc3BpcmFudGUpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlQXNwaXJhbnRlKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9kaXJlY3RpdmVzL2FzcGlyYW50ZXMvcmVtb3ZlL3JlbW92ZUFzcGlyYW50ZS5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgYXNwaXJhbnRlSWQ6ICc9YXNwaXJhbnRlJyAgICAgICAgXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbnRyb2xsZXI6ICdSZW1vdmVBc3BpcmFudGUnLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0xpc3RhQXV0b3JpZGFkZXMnLCBMaXN0YUF1dG9yaWRhZGVzKTtcclxuXHJcbiAgZnVuY3Rpb24gTGlzdGFBdXRvcmlkYWRlcygkc3RhdGUpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLm1vZGlmeUF1dG9yaWRhZCA9IG1vZGlmeUF1dG9yaWRhZDtcclxuICAgIHZtLmdvVG9BdXRvcmlkYWQgICA9IGdvVG9BdXRvcmlkYWQ7XHJcblxyXG4gICAgZnVuY3Rpb24gZ29Ub0F1dG9yaWRhZChpZCwgZXZlbnQpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2F1dG9yaWRhZGVzRGV0YWxsZScsIHthdXRvcmlkYWRJZDogaWR9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtb2RpZnlBdXRvcmlkYWQoaWQsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICRzdGF0ZS5nbygnYXV0b3JpZGFkZXNDYW1iaW9zJywge2F1dG9yaWRhZElkOiBpZH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdsaXN0YUF1dG9yaWRhZGVzJywgbGlzdGFBdXRvcmlkYWRlcyk7XHJcblxyXG5cclxuICBmdW5jdGlvbiBsaXN0YUF1dG9yaWRhZGVzKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9kaXJlY3RpdmVzL2F1dG9yaWRhZGVzL2xpc3QvYXV0b3JpZGFkZXMuZGlyZWN0aXZlLmh0bWwnLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIGF1dG9yaWRhZGVzOiAnPWF1dG9yaWRhZGVzJyAgICAgICAgXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbnRyb2xsZXI6ICdMaXN0YUF1dG9yaWRhZGVzJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdSZW1vdmVBdXRvcmlkYWQnLCBSZW1vdmVBdXRvcmlkYWQpO1xyXG5cclxuICBmdW5jdGlvbiBSZW1vdmVBdXRvcmlkYWQoJHN0YXRlLCAkbWREaWFsb2csIGF1dG9yaWRhZGVzU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5yZW1vdmVBdXRvcmlkYWQgPSByZW1vdmVBdXRvcmlkYWQ7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHJlbW92ZUF1dG9yaWRhZChpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgdmFyIHJlbW92ZURpYWxvZyA9ICRtZERpYWxvZy5jb25maXJtKClcclxuICAgICAgICAgIC50aXRsZSgnRWxpbWluYXIgYXV0b3JpZGFkJylcclxuICAgICAgICAgIC5jb250ZW50KCfCv0VzdMOhIHNlZ3VybyBxdWUgZGVzZWEgZWxpbWluYXIgZXN0ZSBhdXRvcmlkYWQ/JylcclxuICAgICAgICAgIC5hcmlhTGFiZWwoJ0VsaW1pbmFyIGF1dG9yaWRhZCcpXHJcbiAgICAgICAgICAudGFyZ2V0RXZlbnQoZXZlbnQpXHJcbiAgICAgICAgICAub2soJ0FjZXB0YXInKVxyXG4gICAgICAgICAgLmNhbmNlbCgnQ2FuY2VsYXInKVxyXG4gICAgICAgICAgLmNsaWNrT3V0c2lkZVRvQ2xvc2UodHJ1ZSk7XHJcbiAgICAgICRtZERpYWxvZy5zaG93KHJlbW92ZURpYWxvZykudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICByZW1vdmVFbmRBdXRvcmlkYWQoaWQpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVFbmRBdXRvcmlkYWQoaWQpe1xyXG4gICAgICB2YXIgYXV0b3JpZGFkID0gYXV0b3JpZGFkZXNTZXJ2aWNlLmF1dG9yaWRhZGVzUmVzdCgpLmdldCh7aWQ6IGlkfSwgZnVuY3Rpb24oKXtcclxuICAgICAgICBhdXRvcmlkYWQuJGRlbGV0ZSh7aWQ6IGlkfSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgaWYoJHN0YXRlLmN1cnJlbnQubmFtZSA9PT0gJ2F1dG9yaWRhZGVzJyl7XHJcbiAgICAgICAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oJHN0YXRlLmN1cnJlbnQsIG51bGwsIHtcclxuICAgICAgICAgICAgICByZWxvYWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgaW5oZXJpdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgbm90aWZ5OiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdhdXRvcmlkYWRlcycpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgncmVtb3ZlQXV0b3JpZGFkJywgcmVtb3ZlQXV0b3JpZGFkKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIHJlbW92ZUF1dG9yaWRhZCgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9hdXRvcmlkYWRlcy9yZW1vdmUvcmVtb3ZlQXV0b3JpZGFkLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBhdXRvcmlkYWRJZDogJz1hdXRvcmlkYWQnICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ1JlbW92ZUF1dG9yaWRhZCcsXHJcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignTGlzdGFDb2ZyYWRlcycsIExpc3RhQ29mcmFkZXMpO1xyXG5cclxuICBmdW5jdGlvbiBMaXN0YUNvZnJhZGVzKCRyb290U2NvcGUsICRzY29wZSwgJHN0YXRlLCBjb2ZyYWRlc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLmZpbHRybyAgICA9ICdub21icmUnO1xyXG4gICAgdm0uYnVzY2FyICAgID0gbnVsbDtcclxuXHJcbiAgICB2bS5zZWFyY2ggICAgICAgICA9IHNlYXJjaDtcclxuICAgIHZtLmdvVG9Db2ZyYWRlICAgID0gZ29Ub0NvZnJhZGU7XHJcbiAgICB2bS5tb2RpZnlDb2ZyYWRlICA9IG1vZGlmeUNvZnJhZGU7XHJcbiAgICB2bS5jaGFuZ2VUYWIgICAgICA9IGNoYW5nZVRhYjtcclxuXHJcbiAgICB2YXIgaGFuZGxlciA9ICRyb290U2NvcGUuJG9uKCdzY3JvbGxEb3duJywgZ2V0TmV4dFBhZ2UpO1xyXG5cclxuICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGhhbmRsZXIoKTtcclxuICAgICAgaGFuZGxlciA9IG51bGw7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXROZXh0UGFnZSgpIHtcclxuICAgICAgaWYgKCF2bS5iYWphcylcclxuICAgICAgICBnZXROZXh0UGFnZUFsdGFzKCk7XHJcbiAgICAgIGVsc2VcclxuICAgICAgICBnZXROZXh0UGFnZUJhamFzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TmV4dFBhZ2VBbHRhcygpIHtcclxuICAgICAgaWYgKHZtLm5leHRQYWdlKXtcclxuICAgICAgICB2YXIgcGFyYW1ldGVycyA9IHtwYWdlOiB2bS5uZXh0UGFnZX07XHJcblxyXG4gICAgICAgIGlmICh2bS5idXNjYXIpXHJcbiAgICAgICAgICBwYXJhbWV0ZXJzW3ZtLmZpbHRyb10gPSB2bS5idXNjYXI7XHJcblxyXG4gICAgICAgIGNvZnJhZGVzU2VydmljZS5jb2ZyYWRlc1Jlc3QoKS5xdWVyeShwYXJhbWV0ZXJzLCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIHZtLm5leHRQYWdlID0gZGF0YS5uZXh0O1xyXG4gICAgICAgICAgdm0uY29mcmFkZXMgPSB2bS5jb2ZyYWRlcy5jb25jYXQoZGF0YS5yZXN1bHRzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldE5leHRQYWdlQmFqYXMoKSB7XHJcbiAgICAgIGlmICh2bS5uZXh0UGFnZUJhamFzKXtcclxuICAgICAgICB2YXIgcGFyYW1ldGVycyA9IHtwYWdlOiB2bS5uZXh0UGFnZUJhamFzfTtcclxuXHJcbiAgICAgICAgaWYgKHZtLmJ1c2NhcilcclxuICAgICAgICAgIHBhcmFtZXRlcnNbdm0uZmlsdHJvXSA9IHZtLmJ1c2NhcjtcclxuXHJcbiAgICAgICAgY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzQmFqYXNSZXN0KCkucXVlcnkocGFyYW1ldGVycywgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICB2bS5uZXh0UGFnZUJhamFzID0gZGF0YS5uZXh0O1xyXG4gICAgICAgICAgdm0uY29mcmFkZXNCYWphcyA9IHZtLmNvZnJhZGVzQmFqYXMuY29uY2F0KGRhdGEucmVzdWx0cyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWFyY2goKSB7XHJcbiAgICAgIHZtLmZpbHRybyA9ICggaXNOYU4odm0uYnVzY2FyKSkgPyAnbm9tYnJlJzogJ251bWVyb09yZGVuJztcclxuICAgICAgaWYgKCF2bS5iYWphcylcclxuICAgICAgICBzZWFyY2hBbHRhcygpO1xyXG4gICAgICBlbHNlXHJcbiAgICAgICAgc2VhcmNoQmFqYXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWFyY2hBbHRhcygpIHtcclxuICAgICAgdmFyIGZpbHRybyA9IHt9O1xyXG4gICAgICBmaWx0cm9bdm0uZmlsdHJvXSA9IHZtLmJ1c2NhcjtcclxuICAgICAgY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzUmVzdCgpLnF1ZXJ5KGZpbHRybywgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgdm0ubmV4dFBhZ2UgPSBkYXRhLm5leHQ7XHJcbiAgICAgICAgdm0uY29mcmFkZXMgPSBkYXRhLnJlc3VsdHM7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlYXJjaEJhamFzKCkge1xyXG4gICAgICB2YXIgZmlsdHJvID0ge307XHJcbiAgICAgIGZpbHRyb1t2bS5maWx0cm9dID0gdm0uYnVzY2FyO1xyXG4gICAgICBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNCYWphc1Jlc3QoKS5xdWVyeShmaWx0cm8sIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIHZtLm5leHRQYWdlQmFqYXMgPSBkYXRhLm5leHQ7XHJcbiAgICAgICAgdm0uY29mcmFkZXNCYWphcyA9IGRhdGEucmVzdWx0cztcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ29Ub0NvZnJhZGUoaWQsIGV2ZW50KXtcclxuICAgICAgJHN0YXRlLmdvKCdjb2ZyYWRlc0RldGFsbGUnLCB7Y29mcmFkZUlkOiBpZH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUNvZnJhZGUoaWQsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICRzdGF0ZS5nbygnY29mcmFkZXNDYW1iaW9zJywge2NvZnJhZGVJZDogaWR9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VUYWIoKXtcclxuICAgICAgdm0uc2VhcmNoKCk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ2xpc3RhQ29mcmFkZXMnLCBsaXN0YUNvZnJhZGVzKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIGxpc3RhQ29mcmFkZXMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvY29mcmFkZXMvbGlzdC9jb2ZyYWRlcy5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgY29mcmFkZXM6ICc9Y29mcmFkZXMnLFxyXG4gICAgICAgIG5leHRQYWdlOiAnPXBhZ2UnLFxyXG4gICAgICAgIGNvZnJhZGVzQmFqYXM6ICc9Y29mcmFkZXNCYWphcycsXHJcbiAgICAgICAgbmV4dFBhZ2VCYWphczogJz1wYWdlQmFqYXMnXHJcbiAgICAgICAgXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbnRyb2xsZXI6ICdMaXN0YUNvZnJhZGVzJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdSZW1vdmVDb2ZyYWRlJywgUmVtb3ZlQ29mcmFkZSk7XHJcblxyXG4gIGZ1bmN0aW9uIFJlbW92ZUNvZnJhZGUoJHN0YXRlLCAkbWREaWFsb2cpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgdm0ucmVtb3ZlQ29mcmFkZSA9IHJlbW92ZUNvZnJhZGU7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHJlbW92ZUNvZnJhZGUoaWQsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvY29mcmFkZXMvcmVtb3ZlL2RpYWxvZ1RtcGwvcmVtb3ZlQ29mcmFkZS50bXBsLmh0bWwnLFxyXG4gICAgICAgIGxvY2Fsczoge2lkOiBpZH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogJ1JlbW92ZUNvZnJhZGVUbXBsJyxcclxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcclxuICAgICAgICB0YXJnZXRFdmVudDogZXZlbnQsXHJcbiAgICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTp0cnVlXHJcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy9yZW1vdmVFbmRDb2ZyYWRlKGlkKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgncmVtb3ZlQ29mcmFkZScsIHJlbW92ZUNvZnJhZGUpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlQ29mcmFkZSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9jb2ZyYWRlcy9yZW1vdmUvcmVtb3ZlQ29mcmFkZS5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgY29mcmFkZUlkOiAnPWNvZnJhZGUnICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ1JlbW92ZUNvZnJhZGUnLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ1Jlc3RvcmVDb2ZyYWRlJywgUmVzdG9yZUNvZnJhZGUpO1xyXG5cclxuICBmdW5jdGlvbiBSZXN0b3JlQ29mcmFkZSgkc3RhdGUsICRtZERpYWxvZywgY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLnJlc3RvcmVDb2ZyYWRlID0gcmVzdG9yZUNvZnJhZGU7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHJlc3RvcmVDb2ZyYWRlKGlkLCBldmVudCl7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB2YXIgcmVzdGF1cmFyRGlhbG9nID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgLnRpdGxlKCdSZXN0YXVyYXIgY29mcmFkZScpXHJcbiAgICAgICAgICAuY29udGVudCgnwr9Fc3TDoSBzZWd1cm8gcXVlIGRlc2VhIHJlc3RhdXJhciBlc3RlIGNvZnJhZGU/PGJyPlN1IG7Dum1lcm8gZGUgQ29mcmFkZSBzZSBjYWxjdWxhcsOhIGRlIG51ZXZvLicpXHJcbiAgICAgICAgICAuYXJpYUxhYmVsKCdSZXN0YXVyYXIgY29mcmFkZScpXHJcbiAgICAgICAgICAudGFyZ2V0RXZlbnQoZXZlbnQpXHJcbiAgICAgICAgICAub2soJ0FjZXB0YXInKVxyXG4gICAgICAgICAgLmNhbmNlbCgnQ2FuY2VsYXInKVxyXG4gICAgICAgICAgLmNsaWNrT3V0c2lkZVRvQ2xvc2UodHJ1ZSk7XHJcbiAgICAgICRtZERpYWxvZy5zaG93KHJlc3RhdXJhckRpYWxvZykudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICByZXN0b3JlRW5kQ29mcmFkZShpZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc3RvcmVFbmRDb2ZyYWRlKGlkKXtcclxuICAgICAgdmFyIGNvZnJhZGUgPSBjb2ZyYWRlc1NlcnZpY2UuY29mcmFkZXNSZXN0KCkuZ2V0KHtpZDogaWR9LCBmdW5jdGlvbigpe1xyXG4gICAgICAgIGNvZnJhZGUuYmFqYSA9IG51bGw7XHJcbiAgICAgICAgY29mcmFkZS4kc2F2ZSh7dXBkYXRlTnVtZXJvQ29mcmFkZTogdHJ1ZX0pLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgIGlmKCRzdGF0ZS5jdXJyZW50Lm5hbWUgPT09ICdjb2ZyYWRlcycpe1xyXG4gICAgICAgICAgICAkc3RhdGUudHJhbnNpdGlvblRvKCRzdGF0ZS5jdXJyZW50LCBudWxsLCB7XHJcbiAgICAgICAgICAgICAgcmVsb2FkOiB0cnVlLFxyXG4gICAgICAgICAgICAgIGluaGVyaXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgIG5vdGlmeTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnY29mcmFkZXMnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ3Jlc3RvcmVDb2ZyYWRlJywgcmVzdG9yZUNvZnJhZGUpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gcmVzdG9yZUNvZnJhZGUoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvY29mcmFkZXMvcmVzdG9yZS9yZXN0b3JlQ29mcmFkZS5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgY29mcmFkZUlkOiAnPWNvZnJhZGUnICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ1Jlc3RvcmVDb2ZyYWRlJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdMaXN0YUNvc3RhbGVyb3MnLCBMaXN0YUNvc3RhbGVyb3MpO1xyXG5cclxuICBmdW5jdGlvbiBMaXN0YUNvc3RhbGVyb3MoJHN0YXRlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5tb2RpZnlDb3N0YWxlcm8gPSBtb2RpZnlDb3N0YWxlcm87XHJcbiAgICB2bS5nb1RvQ29zdGFsZXJvICAgPSBnb1RvQ29zdGFsZXJvO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdvVG9Db3N0YWxlcm8oaWQsIGV2ZW50KXtcclxuICAgICAgJHN0YXRlLmdvKCdjb3N0YWxlcm9zRGV0YWxsZScsIHtjb3N0YWxlcm9JZDogaWR9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtb2RpZnlDb3N0YWxlcm8oaWQsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICRzdGF0ZS5nbygnY29zdGFsZXJvc0NhbWJpb3MnLCB7Y29zdGFsZXJvSWQ6IGlkfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ2xpc3RhQ29zdGFsZXJvcycsIGxpc3RhQ29zdGFsZXJvcyk7XHJcblxyXG5cclxuICBmdW5jdGlvbiBsaXN0YUNvc3RhbGVyb3MoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvY29zdGFsZXJvcy9saXN0L2Nvc3RhbGVyb3MuZGlyZWN0aXZlLmh0bWwnLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIGNvc3RhbGVyb3M6ICc9Y29zdGFsZXJvcycgICAgICAgIFxyXG4gICAgICB9LFxyXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQpIHtcclxuICAgICAgICBzY29wZS4kd2F0Y2goJ3ZtLmNvc3RhbGVyb3MnLCBmdW5jdGlvbihuZXdWYWwpIHtcclxuICAgICAgICAgICAgaWYobmV3VmFsKSB7IFxyXG4gICAgICAgICAgICAgIHNjb3BlLnZtLmNvc3RhbGVyb3NTaG9ydCA9IHNjb3BlLnZtLmNvc3RhbGVyb3MubWFwKGZ1bmN0aW9uKGNvc3RhbGVybyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXV4ID0ge2lkOiBjb3N0YWxlcm8uaWQsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRpbzogY29zdGFsZXJvLnNpdGlvfTtcclxuICAgICAgICAgICAgICAgIGlmIChjb3N0YWxlcm8uY29mcmFkZSl7XHJcbiAgICAgICAgICAgICAgICAgIGF1eC5udW1lcm9PcmRlbiA9IGNvc3RhbGVyby5jb2ZyYWRlLm51bWVyb09yZGVuO1xyXG4gICAgICAgICAgICAgICAgICBhdXgubm9tYnJlID0gY29zdGFsZXJvLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLm5vbWJyZSAgICArICcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3N0YWxlcm8uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuYXBlbGxpZG8xICsgJyAnICsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3N0YWxlcm8uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuYXBlbGxpZG8yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1eDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0cnVlKTtcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ0xpc3RhQ29zdGFsZXJvcycsXHJcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignUmVtb3ZlQ29zdGFsZXJvJywgUmVtb3ZlQ29zdGFsZXJvKTtcclxuXHJcbiAgZnVuY3Rpb24gUmVtb3ZlQ29zdGFsZXJvKCRzdGF0ZSwgJG1kRGlhbG9nLCBjb3N0YWxlcm9zU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5yZW1vdmVDb3N0YWxlcm8gPSByZW1vdmVDb3N0YWxlcm87XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHJlbW92ZUNvc3RhbGVybyhpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgdmFyIHJlbW92ZURpYWxvZyA9ICRtZERpYWxvZy5jb25maXJtKClcclxuICAgICAgICAgIC50aXRsZSgnRWxpbWluYXIgY29zdGFsZXJvJylcclxuICAgICAgICAgIC5jb250ZW50KCfCv0VzdMOhIHNlZ3VybyBxdWUgZGVzZWEgZWxpbWluYXIgZXN0ZSBjb3N0YWxlcm8/PGJyPkRlamFyw6Egc3Ugc2l0aW8gbGlicmUuJylcclxuICAgICAgICAgIC5hcmlhTGFiZWwoJ0VsaW1pbmFyIGNvc3RhbGVybycpXHJcbiAgICAgICAgICAudGFyZ2V0RXZlbnQoZXZlbnQpXHJcbiAgICAgICAgICAub2soJ0FjZXB0YXInKVxyXG4gICAgICAgICAgLmNhbmNlbCgnQ2FuY2VsYXInKVxyXG4gICAgICAgICAgLmNsaWNrT3V0c2lkZVRvQ2xvc2UodHJ1ZSk7XHJcbiAgICAgICRtZERpYWxvZy5zaG93KHJlbW92ZURpYWxvZykudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICByZW1vdmVFbmRDb3N0YWxlcm8oaWQpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVFbmRDb3N0YWxlcm8oaWQpe1xyXG4gICAgICB2YXIgY29zdGFsZXJvID0gY29zdGFsZXJvc1NlcnZpY2UuY29zdGFsZXJvc1Jlc3QoKS5nZXQoe2lkOiBpZH0sIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY29zdGFsZXJvLmNvZnJhZGUgPSBudWxsO1xyXG4gICAgICAgIGNvc3RhbGVyby50YWxsYSA9IG51bGw7XHJcbiAgICAgICAgY29zdGFsZXJvLmZlY2hhID0gbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICBjb3N0YWxlcm8uJHNhdmUoKS50aGVuKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICBpZigkc3RhdGUuY3VycmVudC5uYW1lID09PSAnY29zdGFsZXJvcycpe1xyXG4gICAgICAgICAgICAkc3RhdGUudHJhbnNpdGlvblRvKCRzdGF0ZS5jdXJyZW50LCBudWxsLCB7XHJcbiAgICAgICAgICAgICAgcmVsb2FkOiB0cnVlLFxyXG4gICAgICAgICAgICAgIGluaGVyaXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgIG5vdGlmeTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnY29zdGFsZXJvcycpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgncmVtb3ZlQ29zdGFsZXJvJywgcmVtb3ZlQ29zdGFsZXJvKTtcclxuXHJcblxyXG4gIGZ1bmN0aW9uIHJlbW92ZUNvc3RhbGVybygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9jb3N0YWxlcm9zL3JlbW92ZS9yZW1vdmVDb3N0YWxlcm8uZGlyZWN0aXZlLmh0bWwnLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIGNvc3RhbGVyb0lkOiAnPWNvc3RhbGVybycgICAgICAgIFxyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnUmVtb3ZlQ29zdGFsZXJvJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdMaXN0YURpcmVjdGl2b3MnLCBMaXN0YURpcmVjdGl2b3MpO1xyXG5cclxuICBmdW5jdGlvbiBMaXN0YURpcmVjdGl2b3MoJHN0YXRlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgXHJcbiAgICB2bS5tb2RpZnlEaXJlY3Rpdm8gPSBtb2RpZnlEaXJlY3Rpdm87XHJcbiAgICB2bS5nb1RvRGlyZWN0aXZvICAgPSBnb1RvRGlyZWN0aXZvO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdvVG9EaXJlY3Rpdm8oaWQsIGV2ZW50KXtcclxuICAgICAgJHN0YXRlLmdvKCdkaXJlY3Rpdm9zRGV0YWxsZScsIHtkaXJlY3Rpdm9JZDogaWR9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtb2RpZnlEaXJlY3Rpdm8oaWQsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICRzdGF0ZS5nbygnZGlyZWN0aXZvc0NhbWJpb3MnLCB7ZGlyZWN0aXZvSWQ6IGlkfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ2xpc3RhRGlyZWN0aXZvcycsIGxpc3RhRGlyZWN0aXZvcyk7XHJcblxyXG5cclxuICBmdW5jdGlvbiBsaXN0YURpcmVjdGl2b3MoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvZGlyZWN0aXZvcy9saXN0L2RpcmVjdGl2b3MuZGlyZWN0aXZlLmh0bWwnLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIGRpcmVjdGl2b3M6ICc9ZGlyZWN0aXZvcycgICAgICAgIFxyXG4gICAgICB9LFxyXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQpIHtcclxuICAgICAgICBzY29wZS4kd2F0Y2goJ3ZtLmRpcmVjdGl2b3MnLCBmdW5jdGlvbihuZXdWYWwpIHtcclxuICAgICAgICAgICAgaWYobmV3VmFsKSB7IFxyXG4gICAgICAgICAgICAgIHNjb3BlLnZtLmRpcmVjdGl2b3NTaG9ydCA9IHNjb3BlLnZtLmRpcmVjdGl2b3MubWFwKGZ1bmN0aW9uKGRpcmVjdGl2byl7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXV4ID0ge2lkOiBkaXJlY3Rpdm8uaWQsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpY2lvbjogZGlyZWN0aXZvLnBvc2ljaW9ufTtcclxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpdm8uY29mcmFkZSl7XHJcbiAgICAgICAgICAgICAgICAgIGF1eC5udW1lcm9PcmRlbiA9IGRpcmVjdGl2by5jb2ZyYWRlLm51bWVyb09yZGVuO1xyXG4gICAgICAgICAgICAgICAgICBhdXgubm9tYnJlID0gZGlyZWN0aXZvLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLm5vbWJyZSAgICArICcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpdm8uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuYXBlbGxpZG8xICsgJyAnICsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpdm8uY29mcmFkZS5kYXRvc1BlcnNvbmFsZXMuYXBlbGxpZG8yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1eDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0cnVlKTtcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ0xpc3RhRGlyZWN0aXZvcycsXHJcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignUmVtb3ZlRGlyZWN0aXZvJywgUmVtb3ZlRGlyZWN0aXZvKTtcclxuXHJcbiAgZnVuY3Rpb24gUmVtb3ZlRGlyZWN0aXZvKCRzdGF0ZSwgJG1kRGlhbG9nLCBkaXJlY3Rpdm9zU2VydmljZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB2bS5yZW1vdmVEaXJlY3Rpdm8gPSByZW1vdmVEaXJlY3Rpdm87XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHJlbW92ZURpcmVjdGl2byhpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgdmFyIHJlbW92ZURpYWxvZyA9ICRtZERpYWxvZy5jb25maXJtKClcclxuICAgICAgICAgIC50aXRsZSgnRWxpbWluYXIgZGlyZWN0aXZvJylcclxuICAgICAgICAgIC5jb250ZW50KCfCv0VzdMOhIHNlZ3VybyBxdWUgZGVzZWEgZWxpbWluYXIgZXN0ZSBkaXJlY3Rpdm8/JylcclxuICAgICAgICAgIC5hcmlhTGFiZWwoJ0VsaW1pbmFyIGRpcmVjdGl2bycpXHJcbiAgICAgICAgICAudGFyZ2V0RXZlbnQoZXZlbnQpXHJcbiAgICAgICAgICAub2soJ0FjZXB0YXInKVxyXG4gICAgICAgICAgLmNhbmNlbCgnQ2FuY2VsYXInKVxyXG4gICAgICAgICAgLmNsaWNrT3V0c2lkZVRvQ2xvc2UodHJ1ZSk7XHJcbiAgICAgICRtZERpYWxvZy5zaG93KHJlbW92ZURpYWxvZykudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICByZW1vdmVFbmREaXJlY3Rpdm8oaWQpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVFbmREaXJlY3Rpdm8oaWQpe1xyXG4gICAgICB2YXIgZGlyZWN0aXZvID0gZGlyZWN0aXZvc1NlcnZpY2UuZGlyZWN0aXZvc1Jlc3QoKS5nZXQoe2lkOiBpZH0sIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgZGlyZWN0aXZvLiRkZWxldGUoe2lkOiBpZH0pLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgIGlmKCRzdGF0ZS5jdXJyZW50Lm5hbWUgPT09ICdkaXJlY3Rpdm9zJyl7XHJcbiAgICAgICAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oJHN0YXRlLmN1cnJlbnQsIG51bGwsIHtcclxuICAgICAgICAgICAgICByZWxvYWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgaW5oZXJpdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgbm90aWZ5OiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdkaXJlY3Rpdm9zJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdyZW1vdmVEaXJlY3Rpdm8nLCByZW1vdmVEaXJlY3Rpdm8pO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlRGlyZWN0aXZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9kaXJlY3RpdmVzL2RpcmVjdGl2b3MvcmVtb3ZlL3JlbW92ZURpcmVjdGl2by5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgZGlyZWN0aXZvSWQ6ICc9ZGlyZWN0aXZvJyAgICAgICAgXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbnRyb2xsZXI6ICdSZW1vdmVEaXJlY3Rpdm8nLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0xpc3RhUGFwZWxldGFzU2l0aW9zJywgTGlzdGFQYXBlbGV0YXNTaXRpb3MpO1xyXG5cclxuICBmdW5jdGlvbiBMaXN0YVBhcGVsZXRhc1NpdGlvcygkc3RhdGUsIHBhcGVsZXRhc1NpdGlvc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICBcclxuICAgIHZtLmFuaW8gPSBudWxsO1xyXG5cclxuICAgIHZtLmdldEFuaW8gPSBnZXRBbmlvO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldEFuaW8oKXtcclxuICAgICAgcGFwZWxldGFzU2l0aW9zU2VydmljZS5wYXBlbGV0YXNTaXRpb3NSZXN0KCkucXVlcnkoe2FuaW86IHZtLmFuaW99LCBmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgdm0ucGFwZWxldGFzU2l0aW8gPSByZXNwb25zZVswXTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ2xpc3RhUGFwZWxldGFzU2l0aW9zJywgbGlzdGFQYXBlbGV0YXNTaXRpb3MpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gbGlzdGFQYXBlbGV0YXNTaXRpb3MoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvcGFwZWxldGFzU2l0aW9zL2xpc3QvcGFwZWxldGFzU2l0aW9zLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBhbmlvczogJz1wYXBlbGV0YXMnICAgICAgICBcclxuICAgICAgfSxcclxuICAgICAgY29udHJvbGxlcjogJ0xpc3RhUGFwZWxldGFzU2l0aW9zJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdSZW1vdmVQYXBlbGV0YVNpdGlvJywgUmVtb3ZlUGFwZWxldGFTaXRpbyk7XHJcblxyXG4gIGZ1bmN0aW9uIFJlbW92ZVBhcGVsZXRhU2l0aW8oJHN0YXRlLCAkbWREaWFsb2csIHBhcGVsZXRhc1NpdGlvc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgdm0ucmVtb3ZlUGFwZWxldGFTaXRpbyA9IHJlbW92ZVBhcGVsZXRhU2l0aW87XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHJlbW92ZVBhcGVsZXRhU2l0aW8oaWQsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIHZhciByZW1vdmVEaWFsb2cgPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAudGl0bGUoJ0VsaW1pbmFyIHBhcGVsZXRhIHNpdGlvJylcclxuICAgICAgICAgIC5jb250ZW50KCfCv0VzdMOhIHNlZ3VybyBxdWUgZGVzZWEgZWxpbWluYXIgZXN0YSBwYXBlbGV0YSBkZSBzaXRpbz8nKVxyXG4gICAgICAgICAgLmFyaWFMYWJlbCgnRWxpbWluYXIgcGFwZWxldGFTaXRpbycpXHJcbiAgICAgICAgICAudGFyZ2V0RXZlbnQoZXZlbnQpXHJcbiAgICAgICAgICAub2soJ0FjZXB0YXInKVxyXG4gICAgICAgICAgLmNhbmNlbCgnQ2FuY2VsYXInKVxyXG4gICAgICAgICAgLmNsaWNrT3V0c2lkZVRvQ2xvc2UodHJ1ZSk7XHJcbiAgICAgICRtZERpYWxvZy5zaG93KHJlbW92ZURpYWxvZykudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICByZW1vdmVFbmRQYXBlbGV0YVNpdGlvKGlkKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlRW5kUGFwZWxldGFTaXRpbyhwYXBlbGV0YU9iail7XHJcbiAgICAgIHBhcGVsZXRhc1NpdGlvc1NlcnZpY2UucGFwZWxldGFzU2l0aW9zUmVzdCgpLnNhdmUoe2FuaW86IHBhcGVsZXRhT2JqLmFuaW8sIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXBlbGV0YXM6IFtwYXBlbGV0YU9iai5wYXBlbGV0YV0sIHJlbW92ZTogdHJ1ZX0sIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYoJHN0YXRlLmN1cnJlbnQubmFtZSA9PT0gJ3BhcGVsZXRhc1NpdGlvcycpe1xyXG4gICAgICAgICAgJHN0YXRlLnRyYW5zaXRpb25Ubygkc3RhdGUuY3VycmVudCwgbnVsbCwge1xyXG4gICAgICAgICAgICByZWxvYWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGluaGVyaXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBub3RpZnk6IHRydWVcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgJHN0YXRlLmdvKCdwYXBlbGV0YXNTaXRpb3MnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdyZW1vdmVQYXBlbGV0YVNpdGlvJywgcmVtb3ZlUGFwZWxldGFTaXRpbyk7XHJcblxyXG5cclxuICBmdW5jdGlvbiByZW1vdmVQYXBlbGV0YVNpdGlvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9kaXJlY3RpdmVzL3BhcGVsZXRhc1NpdGlvcy9yZW1vdmUvcmVtb3ZlUGFwZWxldGFTaXRpby5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgcGFwZWxldGFTaXRpbzogJz1wYXBlbGV0YScgICAgICAgIFxyXG4gICAgICB9LFxyXG4gICAgICBjb250cm9sbGVyOiAnUmVtb3ZlUGFwZWxldGFTaXRpbycsXHJcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignTGlzdGFTZWN0b3JlcycsIExpc3RhU2VjdG9yZXMpO1xyXG5cclxuICBmdW5jdGlvbiBMaXN0YVNlY3RvcmVzKCRzdGF0ZSkge1xyXG4gICAgdmFyIHZtID0gdGhpcztcclxuICAgIFxyXG4gICAgdm0ubW9kaWZ5U2VjdG9yID0gbW9kaWZ5U2VjdG9yO1xyXG4gICAgdm0ubW9kaWZ5Q2FsbGUgID0gbW9kaWZ5Q2FsbGU7XHJcbiAgICB2bS5hZGRDYWxsZSAgICAgPSBhZGRDYWxsZTtcclxuICAgIHZtLnNob3dDYWxsZXMgICA9IHNob3dDYWxsZXM7XHJcblxyXG4gICAgZnVuY3Rpb24gc2hvd0NhbGxlcyhzZWN0b3IsIGV2ZW50KXtcclxuICAgICAgc2VjdG9yID0gJ2NhbGxlc1NlY3Rvcicrc2VjdG9yO1xyXG4gICAgICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VjdG9yKSkudG9nZ2xlQ2xhc3MoJ29jdWx0YXInKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtb2RpZnlTZWN0b3IoaWQsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICRzdGF0ZS5nbygnc2VjdG9yZXNDYW1iaW9zJywge3NlY3RvcklkOiBpZH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUNhbGxlKGlkLCBjYWxsZSwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgJHN0YXRlLmdvKCdzZWN0b3Jlc0NhbWJpb3MnLCB7c2VjdG9ySWQ6IGlkLCBjYWxsZTogY2FsbGV9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRDYWxsZShpZCwgZXZlbnQpe1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgJHN0YXRlLmdvKCdzZWN0b3Jlc0NhbWJpb3MnLCB7c2VjdG9ySWQ6IGlkLCBjYWxsZTogJ25ldyd9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnbGlzdGFTZWN0b3JlcycsIGxpc3RhU2VjdG9yZXMpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gbGlzdGFTZWN0b3JlcygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9zZWN0b3Jlcy9saXN0L3NlY3RvcmVzLmRpcmVjdGl2ZS5odG1sJyxcclxuICAgICAgc2NvcGU6IHtcclxuICAgICAgICBzZWN0b3JlczogJz1zZWN0b3JlcycgICAgICAgIFxyXG4gICAgICB9LFxyXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQpIHtcclxuICAgICAgICBzY29wZS4kd2F0Y2goJ3ZtLnNlY3RvcmVzJywgZnVuY3Rpb24obmV3VmFsKSB7XHJcbiAgICAgICAgICAgIGlmKG5ld1ZhbCkgeyBcclxuICAgICAgICAgICAgICBzY29wZS52bS5zZWN0b3Jlc1Nob3J0ID0gc2NvcGUudm0uc2VjdG9yZXMubWFwKGZ1bmN0aW9uKHNlY3Rvcil7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXV4ID0ge2lkOiBzZWN0b3IuaWQsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBudW1lcm9TZWN0b3I6IHNlY3Rvci5udW1lcm9TZWN0b3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlczogc2VjdG9yLmNhbGxlc307XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VjdG9yLmNvZnJhZGUpe1xyXG4gICAgICAgICAgICAgICAgICBhdXgubnVtZXJvT3JkZW4gPSBzZWN0b3IuY29mcmFkZS5udW1lcm9PcmRlbjtcclxuICAgICAgICAgICAgICAgICAgYXV4Lm5vbWJyZSA9IHNlY3Rvci5jb2ZyYWRlLmRhdG9zUGVyc29uYWxlcy5ub21icmUgICAgKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdG9yLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmFwZWxsaWRvMSArICcgJyArIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdG9yLmNvZnJhZGUuZGF0b3NQZXJzb25hbGVzLmFwZWxsaWRvMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBhdXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdHJ1ZSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbnRyb2xsZXI6ICdMaXN0YVNlY3RvcmVzJyxcclxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdSZW1vdmVTZWN0b3InLCBSZW1vdmVTZWN0b3IpO1xyXG5cclxuICBmdW5jdGlvbiBSZW1vdmVTZWN0b3IoJHN0YXRlLCAkbWREaWFsb2csICRtZFRvYXN0LCBzZWN0b3Jlc1NlcnZpY2UpIHtcclxuICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgdm0ucmVtb3ZlU2VjdG9yID0gcmVtb3ZlU2VjdG9yO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiByZW1vdmVTZWN0b3IoaWQsIGV2ZW50KXtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIHZhciByZW1vdmVEaWFsb2cgPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAudGl0bGUoJ0VsaW1pbmFyIHNlY3RvcicpXHJcbiAgICAgICAgICAuY29udGVudCgnwr9Fc3TDoSBzZWd1cm8gcXVlIGRlc2VhIGVsaW1pbmFyIGVzdGUgc2VjdG9yPycpXHJcbiAgICAgICAgICAuYXJpYUxhYmVsKCdFbGltaW5hciBzZWN0b3InKVxyXG4gICAgICAgICAgLnRhcmdldEV2ZW50KGV2ZW50KVxyXG4gICAgICAgICAgLm9rKCdBY2VwdGFyJylcclxuICAgICAgICAgIC5jYW5jZWwoJ0NhbmNlbGFyJylcclxuICAgICAgICAgIC5jbGlja091dHNpZGVUb0Nsb3NlKHRydWUpO1xyXG4gICAgICAkbWREaWFsb2cuc2hvdyhyZW1vdmVEaWFsb2cpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmVtb3ZlRW5kU2VjdG9yKGlkKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlRW5kU2VjdG9yKGlkKXtcclxuICAgICAgdmFyIHNlY3RvciA9IHNlY3RvcmVzU2VydmljZS5zZWN0b3Jlc1Jlc3QoKS5nZXQoe2lkOiBpZH0sIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYoc2VjdG9yWzBdLmNhbGxlcy5sZW5ndGggIT09IDApe1xyXG4gICAgICAgICAgJG1kVG9hc3Quc2hvdyhcclxuICAgICAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcclxuICAgICAgICAgICAgICAuY29udGVudCgnTm8gc2UgcHVlZGUgZWxpbWluYXIgdW4gc2VjdG9yIGNvbiBjYWxsZXMgYXNpZ25hZGFzJylcclxuICAgICAgICAgICAgICAucG9zaXRpb24oJ3RvcCByaWdodCcpXHJcbiAgICAgICAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgIHNlY3RvclswXS4kZGVsZXRlKHtpZDogaWR9KS50aGVuKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKCRzdGF0ZS5jdXJyZW50Lm5hbWUgPT09ICdzZWN0b3Jlcycpe1xyXG4gICAgICAgICAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oJHN0YXRlLmN1cnJlbnQsIG51bGwsIHtcclxuICAgICAgICAgICAgICAgIHJlbG9hZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGluaGVyaXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbm90aWZ5OiB0cnVlXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3NlY3RvcmVzJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ3JlbW92ZVNlY3RvcicsIHJlbW92ZVNlY3Rvcik7XHJcblxyXG5cclxuICBmdW5jdGlvbiByZW1vdmVTZWN0b3IoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2RpcmVjdGl2ZXMvc2VjdG9yZXMvcmVtb3ZlL3JlbW92ZVNlY3Rvci5kaXJlY3RpdmUuaHRtbCcsXHJcbiAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgc2VjdG9ySWQ6ICc9c2VjdG9yJyAgICAgICAgXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbnRyb2xsZXI6ICdSZW1vdmVTZWN0b3InLFxyXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ1JlbW92ZUNvZnJhZGVUbXBsJywgUmVtb3ZlQ29mcmFkZVRtcGwpO1xyXG5cclxuICBmdW5jdGlvbiBSZW1vdmVDb2ZyYWRlVG1wbCgkc3RhdGUsICRtZERpYWxvZywgY29mcmFkZXNTZXJ2aWNlKSB7XHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgIHZtLmNsb3NlRGlhbG9nID0gY2xvc2VEaWFsb2c7XHJcbiAgICB2bS5yZW1vdmVFbmRDb2ZyYWRlID0gcmVtb3ZlRW5kQ29mcmFkZTtcclxuXHJcbiAgICBmdW5jdGlvbiBjbG9zZURpYWxvZygpIHtcclxuICAgICAgJG1kRGlhbG9nLmNhbmNlbCgpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlRW5kQ29mcmFkZShpZCl7XHJcbiAgICAgIHZhciBjb2ZyYWRlID0gY29mcmFkZXNTZXJ2aWNlLmNvZnJhZGVzUmVzdCgpLmdldCh7aWQ6IGlkfSwgZnVuY3Rpb24oKXtcclxuICAgICAgICBjb2ZyYWRlLmJhamEgPSB7bW90aXZvIDogdm0ubW90aXZvQmFqYSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmVjaGFCYWphOiBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpfTtcclxuICAgICAgICBjb2ZyYWRlLm51bWVyb0NvZnJhZGUgPSBudWxsO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvZnJhZGUuJHNhdmUoe3VwZGF0ZU51bWVyb0NvZnJhZGU6IHRydWV9KS50aGVuKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICB2bS5jbG9zZURpYWxvZygpO1xyXG4gICAgICAgICAgaWYoJHN0YXRlLmN1cnJlbnQubmFtZSA9PT0gJ2NvZnJhZGVzJyl7XHJcbiAgICAgICAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oJHN0YXRlLmN1cnJlbnQsIG51bGwsIHtcclxuICAgICAgICAgICAgICByZWxvYWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgaW5oZXJpdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgbm90aWZ5OiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdjb2ZyYWRlcycpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
